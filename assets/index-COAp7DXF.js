(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function vE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hv={exports:{}},Do={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function _A(){if(h1)return Do;h1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,l){var s=null;if(l!==void 0&&(s=""+l),i.key!==void 0&&(s=""+i.key),"key"in i){l={};for(var u in i)u!=="key"&&(l[u]=i[u])}else l=i;return i=l.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:l}}return Do.Fragment=e,Do.jsx=n,Do.jsxs=n,Do}var v1;function PA(){return v1||(v1=1,Hv.exports=_A()),Hv.exports}var g=PA(),Uv={exports:{}},mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function IA(){if(p1)return mt;p1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),m=Symbol.iterator;function y(_){return _===null||typeof _!="object"?null:(_=m&&_[m]||_["@@iterator"],typeof _=="function"?_:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function E(_,X,z){this.props=_,this.context=X,this.refs=w,this.updater=z||x}E.prototype.isReactComponent={},E.prototype.setState=function(_,X){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,X,"setState")},E.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function T(){}T.prototype=E.prototype;function k(_,X,z){this.props=_,this.context=X,this.refs=w,this.updater=z||x}var N=k.prototype=new T;N.constructor=k,S(N,E.prototype),N.isPureReactComponent=!0;var M=Array.isArray;function R(){}var A={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function B(_,X,z){var ne=z.ref;return{$$typeof:t,type:_,key:X,ref:ne!==void 0?ne:null,props:z}}function P(_,X){return B(_.type,X,_.props)}function q(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function L(_){var X={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(z){return X[z]})}var D=/\/+/g;function F(_,X){return typeof _=="object"&&_!==null&&_.key!=null?L(""+_.key):X.toString(36)}function $(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(R,R):(_.status="pending",_.then(function(X){_.status==="pending"&&(_.status="fulfilled",_.value=X)},function(X){_.status==="pending"&&(_.status="rejected",_.reason=X)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function H(_,X,z,ne,le){var de=typeof _;(de==="undefined"||de==="boolean")&&(_=null);var ye=!1;if(_===null)ye=!0;else switch(de){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(_.$$typeof){case t:case e:ye=!0;break;case h:return ye=_._init,H(ye(_._payload),X,z,ne,le)}}if(ye)return le=le(_),ye=ne===""?"."+F(_,0):ne,M(le)?(z="",ye!=null&&(z=ye.replace(D,"$&/")+"/"),H(le,X,z,"",function(ie){return ie})):le!=null&&(q(le)&&(le=P(le,z+(le.key==null||_&&_.key===le.key?"":(""+le.key).replace(D,"$&/")+"/")+ye)),X.push(le)),1;ye=0;var je=ne===""?".":ne+":";if(M(_))for(var xe=0;xe<_.length;xe++)ne=_[xe],de=je+F(ne,xe),ye+=H(ne,X,z,de,le);else if(xe=y(_),typeof xe=="function")for(_=xe.call(_),xe=0;!(ne=_.next()).done;)ne=ne.value,de=je+F(ne,xe++),ye+=H(ne,X,z,de,le);else if(de==="object"){if(typeof _.then=="function")return H($(_),X,z,ne,le);throw X=String(_),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ye}function V(_,X,z){if(_==null)return _;var ne=[],le=0;return H(_,ne,"","",function(de){return X.call(z,de,le++)}),ne}function K(_){if(_._status===-1){var X=_._result;X=X(),X.then(function(z){(_._status===0||_._status===-1)&&(_._status=1,_._result=z)},function(z){(_._status===0||_._status===-1)&&(_._status=2,_._result=z)}),_._status===-1&&(_._status=0,_._result=X)}if(_._status===1)return _._result.default;throw _._result}var ee=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},I={map:V,forEach:function(_,X,z){V(_,function(){X.apply(this,arguments)},z)},count:function(_){var X=0;return V(_,function(){X++}),X},toArray:function(_){return V(_,function(X){return X})||[]},only:function(_){if(!q(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return mt.Activity=v,mt.Children=I,mt.Component=E,mt.Fragment=n,mt.Profiler=i,mt.PureComponent=k,mt.StrictMode=r,mt.Suspense=d,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,mt.__COMPILER_RUNTIME={__proto__:null,c:function(_){return A.H.useMemoCache(_)}},mt.cache=function(_){return function(){return _.apply(null,arguments)}},mt.cacheSignal=function(){return null},mt.cloneElement=function(_,X,z){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var ne=S({},_.props),le=_.key;if(X!=null)for(de in X.key!==void 0&&(le=""+X.key),X)!O.call(X,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&X.ref===void 0||(ne[de]=X[de]);var de=arguments.length-2;if(de===1)ne.children=z;else if(1<de){for(var ye=Array(de),je=0;je<de;je++)ye[je]=arguments[je+2];ne.children=ye}return B(_.type,le,ne)},mt.createContext=function(_){return _={$$typeof:s,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:l,_context:_},_},mt.createElement=function(_,X,z){var ne,le={},de=null;if(X!=null)for(ne in X.key!==void 0&&(de=""+X.key),X)O.call(X,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(le[ne]=X[ne]);var ye=arguments.length-2;if(ye===1)le.children=z;else if(1<ye){for(var je=Array(ye),xe=0;xe<ye;xe++)je[xe]=arguments[xe+2];le.children=je}if(_&&_.defaultProps)for(ne in ye=_.defaultProps,ye)le[ne]===void 0&&(le[ne]=ye[ne]);return B(_,de,le)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(_){return{$$typeof:u,render:_}},mt.isValidElement=q,mt.lazy=function(_){return{$$typeof:h,_payload:{_status:-1,_result:_},_init:K}},mt.memo=function(_,X){return{$$typeof:c,type:_,compare:X===void 0?null:X}},mt.startTransition=function(_){var X=A.T,z={};A.T=z;try{var ne=_(),le=A.S;le!==null&&le(z,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(R,ee)}catch(de){ee(de)}finally{X!==null&&z.types!==null&&(X.types=z.types),A.T=X}},mt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},mt.use=function(_){return A.H.use(_)},mt.useActionState=function(_,X,z){return A.H.useActionState(_,X,z)},mt.useCallback=function(_,X){return A.H.useCallback(_,X)},mt.useContext=function(_){return A.H.useContext(_)},mt.useDebugValue=function(){},mt.useDeferredValue=function(_,X){return A.H.useDeferredValue(_,X)},mt.useEffect=function(_,X){return A.H.useEffect(_,X)},mt.useEffectEvent=function(_){return A.H.useEffectEvent(_)},mt.useId=function(){return A.H.useId()},mt.useImperativeHandle=function(_,X,z){return A.H.useImperativeHandle(_,X,z)},mt.useInsertionEffect=function(_,X){return A.H.useInsertionEffect(_,X)},mt.useLayoutEffect=function(_,X){return A.H.useLayoutEffect(_,X)},mt.useMemo=function(_,X){return A.H.useMemo(_,X)},mt.useOptimistic=function(_,X){return A.H.useOptimistic(_,X)},mt.useReducer=function(_,X,z){return A.H.useReducer(_,X,z)},mt.useRef=function(_){return A.H.useRef(_)},mt.useState=function(_){return A.H.useState(_)},mt.useSyncExternalStore=function(_,X,z){return A.H.useSyncExternalStore(_,X,z)},mt.useTransition=function(){return A.H.useTransition()},mt.version="19.2.0",mt}var m1;function Bg(){return m1||(m1=1,Uv.exports=IA()),Uv.exports}var W=Bg(),Vv={exports:{}},Mo={},Gv={exports:{}},Yv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g1;function qA(){return g1||(g1=1,(function(t){function e(H,V){var K=H.length;H.push(V);e:for(;0<K;){var ee=K-1>>>1,I=H[ee];if(0<i(I,V))H[ee]=V,H[K]=I,K=ee;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var V=H[0],K=H.pop();if(K!==V){H[0]=K;e:for(var ee=0,I=H.length,_=I>>>1;ee<_;){var X=2*(ee+1)-1,z=H[X],ne=X+1,le=H[ne];if(0>i(z,K))ne<I&&0>i(le,z)?(H[ee]=le,H[ne]=K,ee=ne):(H[ee]=z,H[X]=K,ee=X);else if(ne<I&&0>i(le,K))H[ee]=le,H[ne]=K,ee=ne;else break e}}return V}function i(H,V){var K=H.sortIndex-V.sortIndex;return K!==0?K:H.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var d=[],c=[],h=1,v=null,m=3,y=!1,x=!1,S=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function N(H){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=H)r(c),V.sortIndex=V.expirationTime,e(d,V);else break;V=n(c)}}function M(H){if(S=!1,N(H),!x)if(n(d)!==null)x=!0,R||(R=!0,L());else{var V=n(c);V!==null&&$(M,V.startTime-H)}}var R=!1,A=-1,O=5,B=-1;function P(){return w?!0:!(t.unstable_now()-B<O)}function q(){if(w=!1,R){var H=t.unstable_now();B=H;var V=!0;try{e:{x=!1,S&&(S=!1,T(A),A=-1),y=!0;var K=m;try{t:{for(N(H),v=n(d);v!==null&&!(v.expirationTime>H&&P());){var ee=v.callback;if(typeof ee=="function"){v.callback=null,m=v.priorityLevel;var I=ee(v.expirationTime<=H);if(H=t.unstable_now(),typeof I=="function"){v.callback=I,N(H),V=!0;break t}v===n(d)&&r(d),N(H)}else r(d);v=n(d)}if(v!==null)V=!0;else{var _=n(c);_!==null&&$(M,_.startTime-H),V=!1}}break e}finally{v=null,m=K,y=!1}V=void 0}}finally{V?L():R=!1}}}var L;if(typeof k=="function")L=function(){k(q)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,F=D.port2;D.port1.onmessage=q,L=function(){F.postMessage(null)}}else L=function(){E(q,0)};function $(H,V){A=E(function(){H(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(H){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var K=m;m=V;try{return H()}finally{m=K}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(H,V){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=m;m=H;try{return V()}finally{m=K}},t.unstable_scheduleCallback=function(H,V,K){var ee=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ee+K:ee):K=ee,H){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=K+I,H={id:h++,callback:V,priorityLevel:H,startTime:K,expirationTime:I,sortIndex:-1},K>ee?(H.sortIndex=K,e(c,H),n(d)===null&&H===n(c)&&(S?(T(A),A=-1):S=!0,$(M,K-ee))):(H.sortIndex=I,e(d,H),x||y||(x=!0,R||(R=!0,L()))),H},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(H){var V=m;return function(){var K=m;m=V;try{return H.apply(this,arguments)}finally{m=K}}}})(Yv)),Yv}var y1;function FA(){return y1||(y1=1,Gv.exports=qA()),Gv.exports}var $v={exports:{}},Yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x1;function HA(){if(x1)return Yn;x1=1;var t=Bg();function e(d){var c="https://react.dev/errors/"+d;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(d,c,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:d,containerInfo:c,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,c){if(d==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yn.createPortal=function(d,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return l(d,c,null,h)},Yn.flushSync=function(d){var c=s.T,h=r.p;try{if(s.T=null,r.p=2,d)return d()}finally{s.T=c,r.p=h,r.d.f()}},Yn.preconnect=function(d,c){typeof d=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(d,c))},Yn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Yn.preinit=function(d,c){if(typeof d=="string"&&c&&typeof c.as=="string"){var h=c.as,v=u(h,c.crossOrigin),m=typeof c.integrity=="string"?c.integrity:void 0,y=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?r.d.S(d,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:v,integrity:m,fetchPriority:y}):h==="script"&&r.d.X(d,{crossOrigin:v,integrity:m,fetchPriority:y,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Yn.preinitModule=function(d,c){if(typeof d=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=u(c.as,c.crossOrigin);r.d.M(d,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(d)},Yn.preload=function(d,c){if(typeof d=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,v=u(h,c.crossOrigin);r.d.L(d,h,{crossOrigin:v,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Yn.preloadModule=function(d,c){if(typeof d=="string")if(c){var h=u(c.as,c.crossOrigin);r.d.m(d,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(d)},Yn.requestFormReset=function(d){r.d.r(d)},Yn.unstable_batchedUpdates=function(d,c){return d(c)},Yn.useFormState=function(d,c,h){return s.H.useFormState(d,c,h)},Yn.useFormStatus=function(){return s.H.useHostTransitionStatus()},Yn.version="19.2.0",Yn}var b1;function UA(){if(b1)return $v.exports;b1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$v.exports=HA(),$v.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w1;function VA(){if(w1)return Mo;w1=1;var t=FA(),e=Bg(),n=UA();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function l(a){var o=a,f=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(f=o.return),a=o.return;while(a)}return o.tag===3?f:null}function s(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(l(a)!==a)throw Error(r(188))}function c(a){var o=a.alternate;if(!o){if(o=l(a),o===null)throw Error(r(188));return o!==a?null:a}for(var f=a,p=o;;){var b=f.return;if(b===null)break;var C=b.alternate;if(C===null){if(p=b.return,p!==null){f=p;continue}break}if(b.child===C.child){for(C=b.child;C;){if(C===f)return d(b),a;if(C===p)return d(b),o;C=C.sibling}throw Error(r(188))}if(f.return!==p.return)f=b,p=C;else{for(var j=!1,G=b.child;G;){if(G===f){j=!0,f=b,p=C;break}if(G===p){j=!0,p=b,f=C;break}G=G.sibling}if(!j){for(G=C.child;G;){if(G===f){j=!0,f=C,p=b;break}if(G===p){j=!0,p=C,f=b;break}G=G.sibling}if(!j)throw Error(r(189))}}if(f.alternate!==p)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?a:o}function h(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=h(a),o!==null)return o;a=a.sibling}return null}var v=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),k=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function L(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var D=Symbol.for("react.client.reference");function F(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===D?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case R:return"SuspenseList";case B:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case k:return a.displayName||"Context";case T:return(a._context.displayName||"Context")+".Consumer";case N:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case A:return o=a.displayName||null,o!==null?o:F(a.type)||"Memo";case O:o=a._payload,a=a._init;try{return F(a(o))}catch{}}return null}var $=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ee=[],I=-1;function _(a){return{current:a}}function X(a){0>I||(a.current=ee[I],ee[I]=null,I--)}function z(a,o){I++,ee[I]=a.current,a.current=o}var ne=_(null),le=_(null),de=_(null),ye=_(null);function je(a,o){switch(z(de,o),z(le,a),z(ne,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?zb(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=zb(o),a=_b(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}X(ne),z(ne,a)}function xe(){X(ne),X(le),X(de)}function ie(a){a.memoizedState!==null&&z(ye,a);var o=ne.current,f=_b(o,a.type);o!==f&&(z(le,a),z(ne,f))}function ue(a){le.current===a&&(X(ne),X(le)),ye.current===a&&(X(ye),No._currentValue=K)}var pe,Te;function Le(a){if(pe===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\n( *(at )?)/);pe=o&&o[1]||"",Te=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+a+Te}var Ye=!1;function dt(a,o){if(!a||Ye)return"";Ye=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(we){var ge=we}Reflect.construct(a,[],Re)}else{try{Re.call()}catch(we){ge=we}a.call(Re.prototype)}}else{try{throw Error()}catch(we){ge=we}(Re=a())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(we){if(we&&ge&&typeof we.stack=="string")return[we.stack,ge.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=p.DetermineComponentFrameRoot(),j=C[0],G=C[1];if(j&&G){var te=j.split(`
`),ve=G.split(`
`);for(b=p=0;p<te.length&&!te[p].includes("DetermineComponentFrameRoot");)p++;for(;b<ve.length&&!ve[b].includes("DetermineComponentFrameRoot");)b++;if(p===te.length||b===ve.length)for(p=te.length-1,b=ve.length-1;1<=p&&0<=b&&te[p]!==ve[b];)b--;for(;1<=p&&0<=b;p--,b--)if(te[p]!==ve[b]){if(p!==1||b!==1)do if(p--,b--,0>b||te[p]!==ve[b]){var ke=`
`+te[p].replace(" at new "," at ");return a.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",a.displayName)),ke}while(1<=p&&0<=b);break}}}finally{Ye=!1,Error.prepareStackTrace=f}return(f=a?a.displayName||a.name:"")?Le(f):""}function nt(a,o){switch(a.tag){case 26:case 27:case 5:return Le(a.type);case 16:return Le("Lazy");case 13:return a.child!==o&&o!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return dt(a.type,!1);case 11:return dt(a.type.render,!1);case 1:return dt(a.type,!0);case 31:return Le("Activity");default:return""}}function $e(a){try{var o="",f=null;do o+=nt(a,f),f=a,a=a.return;while(a);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ge=Object.prototype.hasOwnProperty,Pe=t.unstable_scheduleCallback,Xe=t.unstable_cancelCallback,We=t.unstable_shouldYield,at=t.unstable_requestPaint,Ue=t.unstable_now,ft=t.unstable_getCurrentPriorityLevel,he=t.unstable_ImmediatePriority,Ae=t.unstable_UserBlockingPriority,_e=t.unstable_NormalPriority,Ve=t.unstable_LowPriority,qe=t.unstable_IdlePriority,Ie=t.log,Ce=t.unstable_setDisableYieldValue,Y=null,U=null;function Q(a){if(typeof Ie=="function"&&Ce(a),U&&typeof U.setStrictMode=="function")try{U.setStrictMode(Y,a)}catch{}}var Z=Math.clz32?Math.clz32:re,J=Math.log,ce=Math.LN2;function re(a){return a>>>=0,a===0?32:31-(J(a)/ce|0)|0}var me=256,oe=262144,Ee=4194304;function De(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Oe(a,o,f){var p=a.pendingLanes;if(p===0)return 0;var b=0,C=a.suspendedLanes,j=a.pingedLanes;a=a.warmLanes;var G=p&134217727;return G!==0?(p=G&~C,p!==0?b=De(p):(j&=G,j!==0?b=De(j):f||(f=G&~a,f!==0&&(b=De(f))))):(G=p&~C,G!==0?b=De(G):j!==0?b=De(j):f||(f=p&~a,f!==0&&(b=De(f)))),b===0?0:o!==0&&o!==b&&(o&C)===0&&(C=b&-b,f=o&-o,C>=f||C===32&&(f&4194048)!==0)?o:b}function Se(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Me(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Be(){var a=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),a}function He(a){for(var o=[],f=0;31>f;f++)o.push(a);return o}function Ke(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function et(a,o,f,p,b,C){var j=a.pendingLanes;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=f,a.entangledLanes&=f,a.errorRecoveryDisabledLanes&=f,a.shellSuspendCounter=0;var G=a.entanglements,te=a.expirationTimes,ve=a.hiddenUpdates;for(f=j&~f;0<f;){var ke=31-Z(f),Re=1<<ke;G[ke]=0,te[ke]=-1;var ge=ve[ke];if(ge!==null)for(ve[ke]=null,ke=0;ke<ge.length;ke++){var we=ge[ke];we!==null&&(we.lane&=-536870913)}f&=~Re}p!==0&&it(a,p,0),C!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=C&~(j&~o))}function it(a,o,f){a.pendingLanes|=o,a.suspendedLanes&=~o;var p=31-Z(o);a.entangledLanes|=o,a.entanglements[p]=a.entanglements[p]|1073741824|f&261930}function ot(a,o){var f=a.entangledLanes|=o;for(a=a.entanglements;f;){var p=31-Z(f),b=1<<p;b&o|a[p]&o&&(a[p]|=o),f&=~b}}function ct(a,o){var f=o&-o;return f=(f&42)!==0?1:vt(f),(f&(a.suspendedLanes|o))!==0?0:f}function vt(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function At(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function lt(){var a=V.p;return a!==0?a:(a=window.event,a===void 0?32:l1(a.type))}function Et(a,o){var f=V.p;try{return V.p=a,o()}finally{V.p=f}}var gt=Math.random().toString(36).slice(2),pt="__reactFiber$"+gt,Mt="__reactProps$"+gt,ln="__reactContainer$"+gt,Ft="__reactEvents$"+gt,Kt="__reactListeners$"+gt,Vt="__reactHandles$"+gt,nr="__reactResources$"+gt,sn="__reactMarker$"+gt;function zn(a){delete a[pt],delete a[Mt],delete a[Ft],delete a[Kt],delete a[Vt]}function Ga(a){var o=a[pt];if(o)return o;for(var f=a.parentNode;f;){if(o=f[ln]||f[pt]){if(f=o.alternate,o.child!==null||f!==null&&f.child!==null)for(a=Vb(a);a!==null;){if(f=a[pt])return f;a=Vb(a)}return o}a=f,f=a.parentNode}return null}function Ya(a){if(a=a[pt]||a[ln]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Ui(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function $a(a){var o=a[nr];return o||(o=a[nr]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function yn(a){a[sn]=!0}var Iu=new Set,qu={};function xr(a,o){Jr(a,o),Jr(a+"Capture",o)}function Jr(a,o){for(qu[a]=o,a=0;a<o.length;a++)Iu.add(o[a])}var Tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fs={},Hs={};function Of(a){return Ge.call(Hs,a)?!0:Ge.call(Fs,a)?!1:Tl.test(a)?Hs[a]=!0:(Fs[a]=!0,!1)}function Gn(a,o,f){if(Of(o))if(f===null)a.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+f)}}function Xa(a,o,f){if(f===null)a.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+f)}}function Dr(a,o,f,p){if(p===null)a.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(f);return}a.setAttributeNS(o,f,""+p)}}function Dn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function rr(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Lf(a,o,f){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,C=p.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return b.call(this)},set:function(j){f=""+j,C.call(this,j)}}),Object.defineProperty(a,o,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(j){f=""+j},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Fu(a){if(!a._valueTracker){var o=rr(a)?"checked":"value";a._valueTracker=Lf(a,o,""+a[o])}}function Hu(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var f=o.getValue(),p="";return a&&(p=rr(a)?a.checked?"true":"false":a.value),a=p,a!==f?(o.setValue(a),!0):!1}function Uu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Dk=/[\n"\\]/g;function Mr(a){return a.replace(Dk,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function zf(a,o,f,p,b,C,j,G){a.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.type=j:a.removeAttribute("type"),o!=null?j==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Dn(o)):a.value!==""+Dn(o)&&(a.value=""+Dn(o)):j!=="submit"&&j!=="reset"||a.removeAttribute("value"),o!=null?_f(a,j,Dn(o)):f!=null?_f(a,j,Dn(f)):p!=null&&a.removeAttribute("value"),b==null&&C!=null&&(a.defaultChecked=!!C),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?a.name=""+Dn(G):a.removeAttribute("name")}function jy(a,o,f,p,b,C,j,G){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.type=C),o!=null||f!=null){if(!(C!=="submit"&&C!=="reset"||o!=null)){Fu(a);return}f=f!=null?""+Dn(f):"",o=o!=null?""+Dn(o):f,G||o===a.value||(a.value=o),a.defaultValue=o}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=G?a.checked:!!p,a.defaultChecked=!!p,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(a.name=j),Fu(a)}function _f(a,o,f){o==="number"&&Uu(a.ownerDocument)===a||a.defaultValue===""+f||(a.defaultValue=""+f)}function kl(a,o,f,p){if(a=a.options,o){o={};for(var b=0;b<f.length;b++)o["$"+f[b]]=!0;for(f=0;f<a.length;f++)b=o.hasOwnProperty("$"+a[f].value),a[f].selected!==b&&(a[f].selected=b),b&&p&&(a[f].defaultSelected=!0)}else{for(f=""+Dn(f),o=null,b=0;b<a.length;b++){if(a[b].value===f){a[b].selected=!0,p&&(a[b].defaultSelected=!0);return}o!==null||a[b].disabled||(o=a[b])}o!==null&&(o.selected=!0)}}function Dy(a,o,f){if(o!=null&&(o=""+Dn(o),o!==a.value&&(a.value=o),f==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=f!=null?""+Dn(f):""}function My(a,o,f,p){if(o==null){if(p!=null){if(f!=null)throw Error(r(92));if($(p)){if(1<p.length)throw Error(r(93));p=p[0]}f=p}f==null&&(f=""),o=f}f=Dn(o),a.defaultValue=f,p=a.textContent,p===f&&p!==""&&p!==null&&(a.value=p),Fu(a)}function Nl(a,o){if(o){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=o;return}}a.textContent=o}var Mk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function By(a,o,f){var p=o.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":p?a.setProperty(o,f):typeof f!="number"||f===0||Mk.has(o)?o==="float"?a.cssFloat=f:a[o]=(""+f).trim():a[o]=f+"px"}function Oy(a,o,f){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var b in o)p=o[b],o.hasOwnProperty(b)&&f[b]!==p&&By(a,b,p)}else for(var C in o)o.hasOwnProperty(C)&&By(a,C,o[C])}function Pf(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ok=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vu(a){return Ok.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ya(){}var If=null;function qf(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Al=null,Rl=null;function Ly(a){var o=Ya(a);if(o&&(a=o.stateNode)){var f=a[Mt]||null;e:switch(a=o.stateNode,o.type){case"input":if(zf(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),o=f.name,f.type==="radio"&&o!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Mr(""+o)+'"][type="radio"]'),o=0;o<f.length;o++){var p=f[o];if(p!==a&&p.form===a.form){var b=p[Mt]||null;if(!b)throw Error(r(90));zf(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<f.length;o++)p=f[o],p.form===a.form&&Hu(p)}break e;case"textarea":Dy(a,f.value,f.defaultValue);break e;case"select":o=f.value,o!=null&&kl(a,!!f.multiple,o,!1)}}}var Ff=!1;function zy(a,o,f){if(Ff)return a(o,f);Ff=!0;try{var p=a(o);return p}finally{if(Ff=!1,(Al!==null||Rl!==null)&&(Dc(),Al&&(o=Al,a=Rl,Rl=Al=null,Ly(o),a)))for(o=0;o<a.length;o++)Ly(a[o])}}function Us(a,o){var f=a.stateNode;if(f===null)return null;var p=f[Mt]||null;if(p===null)return null;f=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(r(231,o,typeof f));return f}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hf=!1;if(xa)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){Hf=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{Hf=!1}var Ka=null,Uf=null,Gu=null;function _y(){if(Gu)return Gu;var a,o=Uf,f=o.length,p,b="value"in Ka?Ka.value:Ka.textContent,C=b.length;for(a=0;a<f&&o[a]===b[a];a++);var j=f-a;for(p=1;p<=j&&o[f-p]===b[C-p];p++);return Gu=b.slice(a,1<p?1-p:void 0)}function Yu(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function $u(){return!0}function Py(){return!1}function ar(a){function o(f,p,b,C,j){this._reactName=f,this._targetInst=b,this.type=p,this.nativeEvent=C,this.target=j,this.currentTarget=null;for(var G in a)a.hasOwnProperty(G)&&(f=a[G],this[G]=f?f(C):C[G]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?$u:Py,this.isPropagationStopped=Py,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=$u)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=$u)},persist:function(){},isPersistent:$u}),o}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xu=ar(Vi),Gs=v({},Vi,{view:0,detail:0}),Lk=ar(Gs),Vf,Gf,Ys,Ku=v({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$f,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ys&&(Ys&&a.type==="mousemove"?(Vf=a.screenX-Ys.screenX,Gf=a.screenY-Ys.screenY):Gf=Vf=0,Ys=a),Vf)},movementY:function(a){return"movementY"in a?a.movementY:Gf}}),Iy=ar(Ku),zk=v({},Ku,{dataTransfer:0}),_k=ar(zk),Pk=v({},Gs,{relatedTarget:0}),Yf=ar(Pk),Ik=v({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),qk=ar(Ik),Fk=v({},Vi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Hk=ar(Fk),Uk=v({},Vi,{data:0}),qy=ar(Uk),Vk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $k(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Yk[a])?!!o[a]:!1}function $f(){return $k}var Xk=v({},Gs,{key:function(a){if(a.key){var o=Vk[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Yu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Gk[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$f,charCode:function(a){return a.type==="keypress"?Yu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Yu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Kk=ar(Xk),Qk=v({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fy=ar(Qk),Zk=v({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$f}),Wk=ar(Zk),Jk=v({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),eN=ar(Jk),tN=v({},Ku,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),nN=ar(tN),rN=v({},Vi,{newState:0,oldState:0}),aN=ar(rN),iN=[9,13,27,32],Xf=xa&&"CompositionEvent"in window,$s=null;xa&&"documentMode"in document&&($s=document.documentMode);var lN=xa&&"TextEvent"in window&&!$s,Hy=xa&&(!Xf||$s&&8<$s&&11>=$s),Uy=" ",Vy=!1;function Gy(a,o){switch(a){case"keyup":return iN.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yy(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var jl=!1;function sN(a,o){switch(a){case"compositionend":return Yy(o);case"keypress":return o.which!==32?null:(Vy=!0,Uy);case"textInput":return a=o.data,a===Uy&&Vy?null:a;default:return null}}function oN(a,o){if(jl)return a==="compositionend"||!Xf&&Gy(a,o)?(a=_y(),Gu=Uf=Ka=null,jl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Hy&&o.locale!=="ko"?null:o.data;default:return null}}var uN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $y(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!uN[a.type]:o==="textarea"}function Xy(a,o,f,p){Al?Rl?Rl.push(p):Rl=[p]:Al=p,o=Pc(o,"onChange"),0<o.length&&(f=new Xu("onChange","change",null,f,p),a.push({event:f,listeners:o}))}var Xs=null,Ks=null;function cN(a){jb(a,0)}function Qu(a){var o=Ui(a);if(Hu(o))return a}function Ky(a,o){if(a==="change")return o}var Qy=!1;if(xa){var Kf;if(xa){var Qf="oninput"in document;if(!Qf){var Zy=document.createElement("div");Zy.setAttribute("oninput","return;"),Qf=typeof Zy.oninput=="function"}Kf=Qf}else Kf=!1;Qy=Kf&&(!document.documentMode||9<document.documentMode)}function Wy(){Xs&&(Xs.detachEvent("onpropertychange",Jy),Ks=Xs=null)}function Jy(a){if(a.propertyName==="value"&&Qu(Ks)){var o=[];Xy(o,Ks,a,qf(a)),zy(cN,o)}}function dN(a,o,f){a==="focusin"?(Wy(),Xs=o,Ks=f,Xs.attachEvent("onpropertychange",Jy)):a==="focusout"&&Wy()}function fN(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Qu(Ks)}function hN(a,o){if(a==="click")return Qu(o)}function vN(a,o){if(a==="input"||a==="change")return Qu(o)}function pN(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var br=typeof Object.is=="function"?Object.is:pN;function Qs(a,o){if(br(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var f=Object.keys(a),p=Object.keys(o);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var b=f[p];if(!Ge.call(o,b)||!br(a[b],o[b]))return!1}return!0}function e0(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function t0(a,o){var f=e0(a);a=0;for(var p;f;){if(f.nodeType===3){if(p=a+f.textContent.length,a<=o&&p>=o)return{node:f,offset:o-a};a=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=e0(f)}}function n0(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?n0(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function r0(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Uu(a.document);o instanceof a.HTMLIFrameElement;){try{var f=typeof o.contentWindow.location.href=="string"}catch{f=!1}if(f)a=o.contentWindow;else break;o=Uu(a.document)}return o}function Zf(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var mN=xa&&"documentMode"in document&&11>=document.documentMode,Dl=null,Wf=null,Zs=null,Jf=!1;function a0(a,o,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Jf||Dl==null||Dl!==Uu(p)||(p=Dl,"selectionStart"in p&&Zf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Zs&&Qs(Zs,p)||(Zs=p,p=Pc(Wf,"onSelect"),0<p.length&&(o=new Xu("onSelect","select",null,o,f),a.push({event:o,listeners:p}),o.target=Dl)))}function Gi(a,o){var f={};return f[a.toLowerCase()]=o.toLowerCase(),f["Webkit"+a]="webkit"+o,f["Moz"+a]="moz"+o,f}var Ml={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},eh={},i0={};xa&&(i0=document.createElement("div").style,"AnimationEvent"in window||(delete Ml.animationend.animation,delete Ml.animationiteration.animation,delete Ml.animationstart.animation),"TransitionEvent"in window||delete Ml.transitionend.transition);function Yi(a){if(eh[a])return eh[a];if(!Ml[a])return a;var o=Ml[a],f;for(f in o)if(o.hasOwnProperty(f)&&f in i0)return eh[a]=o[f];return a}var l0=Yi("animationend"),s0=Yi("animationiteration"),o0=Yi("animationstart"),gN=Yi("transitionrun"),yN=Yi("transitionstart"),xN=Yi("transitioncancel"),u0=Yi("transitionend"),c0=new Map,th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");th.push("scrollEnd");function Yr(a,o){c0.set(a,o),xr(o,[a])}var Zu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Br=[],Bl=0,nh=0;function Wu(){for(var a=Bl,o=nh=Bl=0;o<a;){var f=Br[o];Br[o++]=null;var p=Br[o];Br[o++]=null;var b=Br[o];Br[o++]=null;var C=Br[o];if(Br[o++]=null,p!==null&&b!==null){var j=p.pending;j===null?b.next=b:(b.next=j.next,j.next=b),p.pending=b}C!==0&&d0(f,b,C)}}function Ju(a,o,f,p){Br[Bl++]=a,Br[Bl++]=o,Br[Bl++]=f,Br[Bl++]=p,nh|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function rh(a,o,f,p){return Ju(a,o,f,p),ec(a)}function $i(a,o){return Ju(a,null,null,o),ec(a)}function d0(a,o,f){a.lanes|=f;var p=a.alternate;p!==null&&(p.lanes|=f);for(var b=!1,C=a.return;C!==null;)C.childLanes|=f,p=C.alternate,p!==null&&(p.childLanes|=f),C.tag===22&&(a=C.stateNode,a===null||a._visibility&1||(b=!0)),a=C,C=C.return;return a.tag===3?(C=a.stateNode,b&&o!==null&&(b=31-Z(f),a=C.hiddenUpdates,p=a[b],p===null?a[b]=[o]:p.push(o),o.lane=f|536870912),C):null}function ec(a){if(50<bo)throw bo=0,fv=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Ol={};function bN(a,o,f,p){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(a,o,f,p){return new bN(a,o,f,p)}function ah(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ba(a,o){var f=a.alternate;return f===null?(f=wr(a.tag,o,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=o,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&65011712,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,o=a.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f.refCleanup=a.refCleanup,f}function f0(a,o){a.flags&=65011714;var f=a.alternate;return f===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,o=f.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function tc(a,o,f,p,b,C){var j=0;if(p=a,typeof a=="function")ah(a)&&(j=1);else if(typeof a=="string")j=TA(a,f,ne.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case B:return a=wr(31,f,o,b),a.elementType=B,a.lanes=C,a;case S:return Xi(f.children,b,C,o);case w:j=8,b|=24;break;case E:return a=wr(12,f,o,b|2),a.elementType=E,a.lanes=C,a;case M:return a=wr(13,f,o,b),a.elementType=M,a.lanes=C,a;case R:return a=wr(19,f,o,b),a.elementType=R,a.lanes=C,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:j=10;break e;case T:j=9;break e;case N:j=11;break e;case A:j=14;break e;case O:j=16,p=null;break e}j=29,f=Error(r(130,a===null?"null":typeof a,"")),p=null}return o=wr(j,f,o,b),o.elementType=a,o.type=p,o.lanes=C,o}function Xi(a,o,f,p){return a=wr(7,a,p,o),a.lanes=f,a}function ih(a,o,f){return a=wr(6,a,null,o),a.lanes=f,a}function h0(a){var o=wr(18,null,null,0);return o.stateNode=a,o}function lh(a,o,f){return o=wr(4,a.children!==null?a.children:[],a.key,o),o.lanes=f,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var v0=new WeakMap;function Or(a,o){if(typeof a=="object"&&a!==null){var f=v0.get(a);return f!==void 0?f:(o={value:a,source:o,stack:$e(o)},v0.set(a,o),o)}return{value:a,source:o,stack:$e(o)}}var Ll=[],zl=0,nc=null,Ws=0,Lr=[],zr=0,Qa=null,ea=1,ta="";function wa(a,o){Ll[zl++]=Ws,Ll[zl++]=nc,nc=a,Ws=o}function p0(a,o,f){Lr[zr++]=ea,Lr[zr++]=ta,Lr[zr++]=Qa,Qa=a;var p=ea;a=ta;var b=32-Z(p)-1;p&=~(1<<b),f+=1;var C=32-Z(o)+b;if(30<C){var j=b-b%5;C=(p&(1<<j)-1).toString(32),p>>=j,b-=j,ea=1<<32-Z(o)+b|f<<b|p,ta=C+a}else ea=1<<C|f<<b|p,ta=a}function sh(a){a.return!==null&&(wa(a,1),p0(a,1,0))}function oh(a){for(;a===nc;)nc=Ll[--zl],Ll[zl]=null,Ws=Ll[--zl],Ll[zl]=null;for(;a===Qa;)Qa=Lr[--zr],Lr[zr]=null,ta=Lr[--zr],Lr[zr]=null,ea=Lr[--zr],Lr[zr]=null}function m0(a,o){Lr[zr++]=ea,Lr[zr++]=ta,Lr[zr++]=Qa,ea=o.id,ta=o.overflow,Qa=a}var _n=null,nn=null,Rt=!1,Za=null,_r=!1,uh=Error(r(519));function Wa(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Js(Or(o,a)),uh}function g0(a){var o=a.stateNode,f=a.type,p=a.memoizedProps;switch(o[pt]=a,o[Mt]=p,f){case"dialog":Tt("cancel",o),Tt("close",o);break;case"iframe":case"object":case"embed":Tt("load",o);break;case"video":case"audio":for(f=0;f<So.length;f++)Tt(So[f],o);break;case"source":Tt("error",o);break;case"img":case"image":case"link":Tt("error",o),Tt("load",o);break;case"details":Tt("toggle",o);break;case"input":Tt("invalid",o),jy(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Tt("invalid",o);break;case"textarea":Tt("invalid",o),My(o,p.value,p.defaultValue,p.children)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||o.textContent===""+f||p.suppressHydrationWarning===!0||Ob(o.textContent,f)?(p.popover!=null&&(Tt("beforetoggle",o),Tt("toggle",o)),p.onScroll!=null&&Tt("scroll",o),p.onScrollEnd!=null&&Tt("scrollend",o),p.onClick!=null&&(o.onclick=ya),o=!0):o=!1,o||Wa(a,!0)}function y0(a){for(_n=a.return;_n;)switch(_n.tag){case 5:case 31:case 13:_r=!1;return;case 27:case 3:_r=!0;return;default:_n=_n.return}}function _l(a){if(a!==_n)return!1;if(!Rt)return y0(a),Rt=!0,!1;var o=a.tag,f;if((f=o!==3&&o!==27)&&((f=o===5)&&(f=a.type,f=!(f!=="form"&&f!=="button")||Nv(a.type,a.memoizedProps)),f=!f),f&&nn&&Wa(a),y0(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));nn=Ub(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));nn=Ub(a)}else o===27?(o=nn,fi(a.type)?(a=Mv,Mv=null,nn=a):nn=o):nn=_n?Ir(a.stateNode.nextSibling):null;return!0}function Ki(){nn=_n=null,Rt=!1}function ch(){var a=Za;return a!==null&&(or===null?or=a:or.push.apply(or,a),Za=null),a}function Js(a){Za===null?Za=[a]:Za.push(a)}var dh=_(null),Qi=null,Sa=null;function Ja(a,o,f){z(dh,o._currentValue),o._currentValue=f}function Ea(a){a._currentValue=dh.current,X(dh)}function fh(a,o,f){for(;a!==null;){var p=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),a===f)break;a=a.return}}function hh(a,o,f,p){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var C=b.dependencies;if(C!==null){var j=b.child;C=C.firstContext;e:for(;C!==null;){var G=C;C=b;for(var te=0;te<o.length;te++)if(G.context===o[te]){C.lanes|=f,G=C.alternate,G!==null&&(G.lanes|=f),fh(C.return,f,a),p||(j=null);break e}C=G.next}}else if(b.tag===18){if(j=b.return,j===null)throw Error(r(341));j.lanes|=f,C=j.alternate,C!==null&&(C.lanes|=f),fh(j,f,a),j=null}else j=b.child;if(j!==null)j.return=b;else for(j=b;j!==null;){if(j===a){j=null;break}if(b=j.sibling,b!==null){b.return=j.return,j=b;break}j=j.return}b=j}}function Pl(a,o,f,p){a=null;for(var b=o,C=!1;b!==null;){if(!C){if((b.flags&524288)!==0)C=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var j=b.alternate;if(j===null)throw Error(r(387));if(j=j.memoizedProps,j!==null){var G=b.type;br(b.pendingProps.value,j.value)||(a!==null?a.push(G):a=[G])}}else if(b===ye.current){if(j=b.alternate,j===null)throw Error(r(387));j.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(No):a=[No])}b=b.return}a!==null&&hh(o,a,f,p),o.flags|=262144}function rc(a){for(a=a.firstContext;a!==null;){if(!br(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Zi(a){Qi=a,Sa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Pn(a){return x0(Qi,a)}function ac(a,o){return Qi===null&&Zi(a),x0(a,o)}function x0(a,o){var f=o._currentValue;if(o={context:o,memoizedValue:f,next:null},Sa===null){if(a===null)throw Error(r(308));Sa=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Sa=Sa.next=o;return f}var wN=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(f,p){a.push(p)}};this.abort=function(){o.aborted=!0,a.forEach(function(f){return f()})}},SN=t.unstable_scheduleCallback,EN=t.unstable_NormalPriority,xn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vh(){return{controller:new wN,data:new Map,refCount:0}}function eo(a){a.refCount--,a.refCount===0&&SN(EN,function(){a.controller.abort()})}var to=null,ph=0,Il=0,ql=null;function CN(a,o){if(to===null){var f=to=[];ph=0,Il=yv(),ql={status:"pending",value:void 0,then:function(p){f.push(p)}}}return ph++,o.then(b0,b0),o}function b0(){if(--ph===0&&to!==null){ql!==null&&(ql.status="fulfilled");var a=to;to=null,Il=0,ql=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function TN(a,o){var f=[],p={status:"pending",value:null,reason:null,then:function(b){f.push(b)}};return a.then(function(){p.status="fulfilled",p.value=o;for(var b=0;b<f.length;b++)(0,f[b])(o)},function(b){for(p.status="rejected",p.reason=b,b=0;b<f.length;b++)(0,f[b])(void 0)}),p}var w0=H.S;H.S=function(a,o){ab=Ue(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&CN(a,o),w0!==null&&w0(a,o)};var Wi=_(null);function mh(){var a=Wi.current;return a!==null?a:Qt.pooledCache}function ic(a,o){o===null?z(Wi,Wi.current):z(Wi,o.pool)}function S0(){var a=mh();return a===null?null:{parent:xn._currentValue,pool:a}}var Fl=Error(r(460)),gh=Error(r(474)),lc=Error(r(542)),sc={then:function(){}};function E0(a){return a=a.status,a==="fulfilled"||a==="rejected"}function C0(a,o,f){switch(f=a[f],f===void 0?a.push(o):f!==o&&(o.then(ya,ya),o=f),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,k0(a),a;default:if(typeof o.status=="string")o.then(ya,ya);else{if(a=Qt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(p){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=p}},function(p){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,k0(a),a}throw el=o,Fl}}function Ji(a){try{var o=a._init;return o(a._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(el=f,Fl):f}}var el=null;function T0(){if(el===null)throw Error(r(459));var a=el;return el=null,a}function k0(a){if(a===Fl||a===lc)throw Error(r(483))}var Hl=null,no=0;function oc(a){var o=no;return no+=1,Hl===null&&(Hl=[]),C0(Hl,a,o)}function ro(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function uc(a,o){throw o.$$typeof===m?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function N0(a){function o(se,ae){if(a){var fe=se.deletions;fe===null?(se.deletions=[ae],se.flags|=16):fe.push(ae)}}function f(se,ae){if(!a)return null;for(;ae!==null;)o(se,ae),ae=ae.sibling;return null}function p(se){for(var ae=new Map;se!==null;)se.key!==null?ae.set(se.key,se):ae.set(se.index,se),se=se.sibling;return ae}function b(se,ae){return se=ba(se,ae),se.index=0,se.sibling=null,se}function C(se,ae,fe){return se.index=fe,a?(fe=se.alternate,fe!==null?(fe=fe.index,fe<ae?(se.flags|=67108866,ae):fe):(se.flags|=67108866,ae)):(se.flags|=1048576,ae)}function j(se){return a&&se.alternate===null&&(se.flags|=67108866),se}function G(se,ae,fe,Ne){return ae===null||ae.tag!==6?(ae=ih(fe,se.mode,Ne),ae.return=se,ae):(ae=b(ae,fe),ae.return=se,ae)}function te(se,ae,fe,Ne){var rt=fe.type;return rt===S?ke(se,ae,fe.props.children,Ne,fe.key):ae!==null&&(ae.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===O&&Ji(rt)===ae.type)?(ae=b(ae,fe.props),ro(ae,fe),ae.return=se,ae):(ae=tc(fe.type,fe.key,fe.props,null,se.mode,Ne),ro(ae,fe),ae.return=se,ae)}function ve(se,ae,fe,Ne){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==fe.containerInfo||ae.stateNode.implementation!==fe.implementation?(ae=lh(fe,se.mode,Ne),ae.return=se,ae):(ae=b(ae,fe.children||[]),ae.return=se,ae)}function ke(se,ae,fe,Ne,rt){return ae===null||ae.tag!==7?(ae=Xi(fe,se.mode,Ne,rt),ae.return=se,ae):(ae=b(ae,fe),ae.return=se,ae)}function Re(se,ae,fe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=ih(""+ae,se.mode,fe),ae.return=se,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case y:return fe=tc(ae.type,ae.key,ae.props,null,se.mode,fe),ro(fe,ae),fe.return=se,fe;case x:return ae=lh(ae,se.mode,fe),ae.return=se,ae;case O:return ae=Ji(ae),Re(se,ae,fe)}if($(ae)||L(ae))return ae=Xi(ae,se.mode,fe,null),ae.return=se,ae;if(typeof ae.then=="function")return Re(se,oc(ae),fe);if(ae.$$typeof===k)return Re(se,ac(se,ae),fe);uc(se,ae)}return null}function ge(se,ae,fe,Ne){var rt=ae!==null?ae.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return rt!==null?null:G(se,ae,""+fe,Ne);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case y:return fe.key===rt?te(se,ae,fe,Ne):null;case x:return fe.key===rt?ve(se,ae,fe,Ne):null;case O:return fe=Ji(fe),ge(se,ae,fe,Ne)}if($(fe)||L(fe))return rt!==null?null:ke(se,ae,fe,Ne,null);if(typeof fe.then=="function")return ge(se,ae,oc(fe),Ne);if(fe.$$typeof===k)return ge(se,ae,ac(se,fe),Ne);uc(se,fe)}return null}function we(se,ae,fe,Ne,rt){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return se=se.get(fe)||null,G(ae,se,""+Ne,rt);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case y:return se=se.get(Ne.key===null?fe:Ne.key)||null,te(ae,se,Ne,rt);case x:return se=se.get(Ne.key===null?fe:Ne.key)||null,ve(ae,se,Ne,rt);case O:return Ne=Ji(Ne),we(se,ae,fe,Ne,rt)}if($(Ne)||L(Ne))return se=se.get(fe)||null,ke(ae,se,Ne,rt,null);if(typeof Ne.then=="function")return we(se,ae,fe,oc(Ne),rt);if(Ne.$$typeof===k)return we(se,ae,fe,ac(ae,Ne),rt);uc(ae,Ne)}return null}function Ze(se,ae,fe,Ne){for(var rt=null,Bt=null,Je=ae,bt=ae=0,Nt=null;Je!==null&&bt<fe.length;bt++){Je.index>bt?(Nt=Je,Je=null):Nt=Je.sibling;var Ot=ge(se,Je,fe[bt],Ne);if(Ot===null){Je===null&&(Je=Nt);break}a&&Je&&Ot.alternate===null&&o(se,Je),ae=C(Ot,ae,bt),Bt===null?rt=Ot:Bt.sibling=Ot,Bt=Ot,Je=Nt}if(bt===fe.length)return f(se,Je),Rt&&wa(se,bt),rt;if(Je===null){for(;bt<fe.length;bt++)Je=Re(se,fe[bt],Ne),Je!==null&&(ae=C(Je,ae,bt),Bt===null?rt=Je:Bt.sibling=Je,Bt=Je);return Rt&&wa(se,bt),rt}for(Je=p(Je);bt<fe.length;bt++)Nt=we(Je,se,bt,fe[bt],Ne),Nt!==null&&(a&&Nt.alternate!==null&&Je.delete(Nt.key===null?bt:Nt.key),ae=C(Nt,ae,bt),Bt===null?rt=Nt:Bt.sibling=Nt,Bt=Nt);return a&&Je.forEach(function(gi){return o(se,gi)}),Rt&&wa(se,bt),rt}function ut(se,ae,fe,Ne){if(fe==null)throw Error(r(151));for(var rt=null,Bt=null,Je=ae,bt=ae=0,Nt=null,Ot=fe.next();Je!==null&&!Ot.done;bt++,Ot=fe.next()){Je.index>bt?(Nt=Je,Je=null):Nt=Je.sibling;var gi=ge(se,Je,Ot.value,Ne);if(gi===null){Je===null&&(Je=Nt);break}a&&Je&&gi.alternate===null&&o(se,Je),ae=C(gi,ae,bt),Bt===null?rt=gi:Bt.sibling=gi,Bt=gi,Je=Nt}if(Ot.done)return f(se,Je),Rt&&wa(se,bt),rt;if(Je===null){for(;!Ot.done;bt++,Ot=fe.next())Ot=Re(se,Ot.value,Ne),Ot!==null&&(ae=C(Ot,ae,bt),Bt===null?rt=Ot:Bt.sibling=Ot,Bt=Ot);return Rt&&wa(se,bt),rt}for(Je=p(Je);!Ot.done;bt++,Ot=fe.next())Ot=we(Je,se,bt,Ot.value,Ne),Ot!==null&&(a&&Ot.alternate!==null&&Je.delete(Ot.key===null?bt:Ot.key),ae=C(Ot,ae,bt),Bt===null?rt=Ot:Bt.sibling=Ot,Bt=Ot);return a&&Je.forEach(function(zA){return o(se,zA)}),Rt&&wa(se,bt),rt}function $t(se,ae,fe,Ne){if(typeof fe=="object"&&fe!==null&&fe.type===S&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case y:e:{for(var rt=fe.key;ae!==null;){if(ae.key===rt){if(rt=fe.type,rt===S){if(ae.tag===7){f(se,ae.sibling),Ne=b(ae,fe.props.children),Ne.return=se,se=Ne;break e}}else if(ae.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===O&&Ji(rt)===ae.type){f(se,ae.sibling),Ne=b(ae,fe.props),ro(Ne,fe),Ne.return=se,se=Ne;break e}f(se,ae);break}else o(se,ae);ae=ae.sibling}fe.type===S?(Ne=Xi(fe.props.children,se.mode,Ne,fe.key),Ne.return=se,se=Ne):(Ne=tc(fe.type,fe.key,fe.props,null,se.mode,Ne),ro(Ne,fe),Ne.return=se,se=Ne)}return j(se);case x:e:{for(rt=fe.key;ae!==null;){if(ae.key===rt)if(ae.tag===4&&ae.stateNode.containerInfo===fe.containerInfo&&ae.stateNode.implementation===fe.implementation){f(se,ae.sibling),Ne=b(ae,fe.children||[]),Ne.return=se,se=Ne;break e}else{f(se,ae);break}else o(se,ae);ae=ae.sibling}Ne=lh(fe,se.mode,Ne),Ne.return=se,se=Ne}return j(se);case O:return fe=Ji(fe),$t(se,ae,fe,Ne)}if($(fe))return Ze(se,ae,fe,Ne);if(L(fe)){if(rt=L(fe),typeof rt!="function")throw Error(r(150));return fe=rt.call(fe),ut(se,ae,fe,Ne)}if(typeof fe.then=="function")return $t(se,ae,oc(fe),Ne);if(fe.$$typeof===k)return $t(se,ae,ac(se,fe),Ne);uc(se,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,ae!==null&&ae.tag===6?(f(se,ae.sibling),Ne=b(ae,fe),Ne.return=se,se=Ne):(f(se,ae),Ne=ih(fe,se.mode,Ne),Ne.return=se,se=Ne),j(se)):f(se,ae)}return function(se,ae,fe,Ne){try{no=0;var rt=$t(se,ae,fe,Ne);return Hl=null,rt}catch(Je){if(Je===Fl||Je===lc)throw Je;var Bt=wr(29,Je,null,se.mode);return Bt.lanes=Ne,Bt.return=se,Bt}finally{}}}var tl=N0(!0),A0=N0(!1),ei=!1;function yh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xh(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ti(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ni(a,o,f){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(_t&2)!==0){var b=p.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),p.pending=o,o=ec(a),d0(a,null,f),o}return Ju(a,p,o,f),ec(a)}function ao(a,o,f){if(o=o.updateQueue,o!==null&&(o=o.shared,(f&4194048)!==0)){var p=o.lanes;p&=a.pendingLanes,f|=p,o.lanes=f,ot(a,f)}}function bh(a,o){var f=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var b=null,C=null;if(f=f.firstBaseUpdate,f!==null){do{var j={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};C===null?b=C=j:C=C.next=j,f=f.next}while(f!==null);C===null?b=C=o:C=C.next=o}else b=C=o;f={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:C,shared:p.shared,callbacks:p.callbacks},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=o:a.next=o,f.lastBaseUpdate=o}var wh=!1;function io(){if(wh){var a=ql;if(a!==null)throw a}}function lo(a,o,f,p){wh=!1;var b=a.updateQueue;ei=!1;var C=b.firstBaseUpdate,j=b.lastBaseUpdate,G=b.shared.pending;if(G!==null){b.shared.pending=null;var te=G,ve=te.next;te.next=null,j===null?C=ve:j.next=ve,j=te;var ke=a.alternate;ke!==null&&(ke=ke.updateQueue,G=ke.lastBaseUpdate,G!==j&&(G===null?ke.firstBaseUpdate=ve:G.next=ve,ke.lastBaseUpdate=te))}if(C!==null){var Re=b.baseState;j=0,ke=ve=te=null,G=C;do{var ge=G.lane&-536870913,we=ge!==G.lane;if(we?(kt&ge)===ge:(p&ge)===ge){ge!==0&&ge===Il&&(wh=!0),ke!==null&&(ke=ke.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Ze=a,ut=G;ge=o;var $t=f;switch(ut.tag){case 1:if(Ze=ut.payload,typeof Ze=="function"){Re=Ze.call($t,Re,ge);break e}Re=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=ut.payload,ge=typeof Ze=="function"?Ze.call($t,Re,ge):Ze,ge==null)break e;Re=v({},Re,ge);break e;case 2:ei=!0}}ge=G.callback,ge!==null&&(a.flags|=64,we&&(a.flags|=8192),we=b.callbacks,we===null?b.callbacks=[ge]:we.push(ge))}else we={lane:ge,tag:G.tag,payload:G.payload,callback:G.callback,next:null},ke===null?(ve=ke=we,te=Re):ke=ke.next=we,j|=ge;if(G=G.next,G===null){if(G=b.shared.pending,G===null)break;we=G,G=we.next,we.next=null,b.lastBaseUpdate=we,b.shared.pending=null}}while(!0);ke===null&&(te=Re),b.baseState=te,b.firstBaseUpdate=ve,b.lastBaseUpdate=ke,C===null&&(b.shared.lanes=0),si|=j,a.lanes=j,a.memoizedState=Re}}function R0(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function j0(a,o){var f=a.callbacks;if(f!==null)for(a.callbacks=null,a=0;a<f.length;a++)R0(f[a],o)}var Ul=_(null),cc=_(0);function D0(a,o){a=Ma,z(cc,a),z(Ul,o),Ma=a|o.baseLanes}function Sh(){z(cc,Ma),z(Ul,Ul.current)}function Eh(){Ma=cc.current,X(Ul),X(cc)}var Sr=_(null),Pr=null;function ri(a){var o=a.alternate;z(pn,pn.current&1),z(Sr,a),Pr===null&&(o===null||Ul.current!==null||o.memoizedState!==null)&&(Pr=a)}function Ch(a){z(pn,pn.current),z(Sr,a),Pr===null&&(Pr=a)}function M0(a){a.tag===22?(z(pn,pn.current),z(Sr,a),Pr===null&&(Pr=a)):ai()}function ai(){z(pn,pn.current),z(Sr,Sr.current)}function Er(a){X(Sr),Pr===a&&(Pr=null),X(pn)}var pn=_(0);function dc(a){for(var o=a;o!==null;){if(o.tag===13){var f=o.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||jv(f)||Dv(f)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ca=0,yt=null,Gt=null,bn=null,fc=!1,Vl=!1,nl=!1,hc=0,so=0,Gl=null,kN=0;function fn(){throw Error(r(321))}function Th(a,o){if(o===null)return!1;for(var f=0;f<o.length&&f<a.length;f++)if(!br(a[f],o[f]))return!1;return!0}function kh(a,o,f,p,b,C){return Ca=C,yt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,H.H=a===null||a.memoizedState===null?px:Fh,nl=!1,C=f(p,b),nl=!1,Vl&&(C=O0(o,f,p,b)),B0(a),C}function B0(a){H.H=co;var o=Gt!==null&&Gt.next!==null;if(Ca=0,bn=Gt=yt=null,fc=!1,so=0,Gl=null,o)throw Error(r(300));a===null||wn||(a=a.dependencies,a!==null&&rc(a)&&(wn=!0))}function O0(a,o,f,p){yt=a;var b=0;do{if(Vl&&(Gl=null),so=0,Vl=!1,25<=b)throw Error(r(301));if(b+=1,bn=Gt=null,a.updateQueue!=null){var C=a.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}H.H=mx,C=o(f,p)}while(Vl);return C}function NN(){var a=H.H,o=a.useState()[0];return o=typeof o.then=="function"?oo(o):o,a=a.useState()[0],(Gt!==null?Gt.memoizedState:null)!==a&&(yt.flags|=1024),o}function Nh(){var a=hc!==0;return hc=0,a}function Ah(a,o,f){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~f}function Rh(a){if(fc){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}fc=!1}Ca=0,bn=Gt=yt=null,Vl=!1,so=hc=0,Gl=null}function Wn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?yt.memoizedState=bn=a:bn=bn.next=a,bn}function mn(){if(Gt===null){var a=yt.alternate;a=a!==null?a.memoizedState:null}else a=Gt.next;var o=bn===null?yt.memoizedState:bn.next;if(o!==null)bn=o,Gt=a;else{if(a===null)throw yt.alternate===null?Error(r(467)):Error(r(310));Gt=a,a={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},bn===null?yt.memoizedState=bn=a:bn=bn.next=a}return bn}function vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oo(a){var o=so;return so+=1,Gl===null&&(Gl=[]),a=C0(Gl,a,o),o=yt,(bn===null?o.memoizedState:bn.next)===null&&(o=o.alternate,H.H=o===null||o.memoizedState===null?px:Fh),a}function pc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return oo(a);if(a.$$typeof===k)return Pn(a)}throw Error(r(438,String(a)))}function jh(a){var o=null,f=yt.updateQueue;if(f!==null&&(o=f.memoCache),o==null){var p=yt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),f===null&&(f=vc(),yt.updateQueue=f),f.memoCache=o,f=o.data[o.index],f===void 0)for(f=o.data[o.index]=Array(a),p=0;p<a;p++)f[p]=P;return o.index++,f}function Ta(a,o){return typeof o=="function"?o(a):o}function mc(a){var o=mn();return Dh(o,Gt,a)}function Dh(a,o,f){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=f;var b=a.baseQueue,C=p.pending;if(C!==null){if(b!==null){var j=b.next;b.next=C.next,C.next=j}o.baseQueue=b=C,p.pending=null}if(C=a.baseState,b===null)a.memoizedState=C;else{o=b.next;var G=j=null,te=null,ve=o,ke=!1;do{var Re=ve.lane&-536870913;if(Re!==ve.lane?(kt&Re)===Re:(Ca&Re)===Re){var ge=ve.revertLane;if(ge===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),Re===Il&&(ke=!0);else if((Ca&ge)===ge){ve=ve.next,ge===Il&&(ke=!0);continue}else Re={lane:0,revertLane:ve.revertLane,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},te===null?(G=te=Re,j=C):te=te.next=Re,yt.lanes|=ge,si|=ge;Re=ve.action,nl&&f(C,Re),C=ve.hasEagerState?ve.eagerState:f(C,Re)}else ge={lane:Re,revertLane:ve.revertLane,gesture:ve.gesture,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},te===null?(G=te=ge,j=C):te=te.next=ge,yt.lanes|=Re,si|=Re;ve=ve.next}while(ve!==null&&ve!==o);if(te===null?j=C:te.next=G,!br(C,a.memoizedState)&&(wn=!0,ke&&(f=ql,f!==null)))throw f;a.memoizedState=C,a.baseState=j,a.baseQueue=te,p.lastRenderedState=C}return b===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function Mh(a){var o=mn(),f=o.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var p=f.dispatch,b=f.pending,C=o.memoizedState;if(b!==null){f.pending=null;var j=b=b.next;do C=a(C,j.action),j=j.next;while(j!==b);br(C,o.memoizedState)||(wn=!0),o.memoizedState=C,o.baseQueue===null&&(o.baseState=C),f.lastRenderedState=C}return[C,p]}function L0(a,o,f){var p=yt,b=mn(),C=Rt;if(C){if(f===void 0)throw Error(r(407));f=f()}else f=o();var j=!br((Gt||b).memoizedState,f);if(j&&(b.memoizedState=f,wn=!0),b=b.queue,Lh(P0.bind(null,p,b,a),[a]),b.getSnapshot!==o||j||bn!==null&&bn.memoizedState.tag&1){if(p.flags|=2048,Yl(9,{destroy:void 0},_0.bind(null,p,b,f,o),null),Qt===null)throw Error(r(349));C||(Ca&127)!==0||z0(p,o,f)}return f}function z0(a,o,f){a.flags|=16384,a={getSnapshot:o,value:f},o=yt.updateQueue,o===null?(o=vc(),yt.updateQueue=o,o.stores=[a]):(f=o.stores,f===null?o.stores=[a]:f.push(a))}function _0(a,o,f,p){o.value=f,o.getSnapshot=p,I0(o)&&q0(a)}function P0(a,o,f){return f(function(){I0(o)&&q0(a)})}function I0(a){var o=a.getSnapshot;a=a.value;try{var f=o();return!br(a,f)}catch{return!0}}function q0(a){var o=$i(a,2);o!==null&&ur(o,a,2)}function Bh(a){var o=Wn();if(typeof a=="function"){var f=a;if(a=f(),nl){Q(!0);try{f()}finally{Q(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:a},o}function F0(a,o,f,p){return a.baseState=f,Dh(a,Gt,typeof p=="function"?p:Ta)}function AN(a,o,f,p,b){if(xc(a))throw Error(r(485));if(a=o.action,a!==null){var C={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){C.listeners.push(j)}};H.T!==null?f(!0):C.isTransition=!1,p(C),f=o.pending,f===null?(C.next=o.pending=C,H0(o,C)):(C.next=f.next,o.pending=f.next=C)}}function H0(a,o){var f=o.action,p=o.payload,b=a.state;if(o.isTransition){var C=H.T,j={};H.T=j;try{var G=f(b,p),te=H.S;te!==null&&te(j,G),U0(a,o,G)}catch(ve){Oh(a,o,ve)}finally{C!==null&&j.types!==null&&(C.types=j.types),H.T=C}}else try{C=f(b,p),U0(a,o,C)}catch(ve){Oh(a,o,ve)}}function U0(a,o,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){V0(a,o,p)},function(p){return Oh(a,o,p)}):V0(a,o,f)}function V0(a,o,f){o.status="fulfilled",o.value=f,G0(o),a.state=f,o=a.pending,o!==null&&(f=o.next,f===o?a.pending=null:(f=f.next,o.next=f,H0(a,f)))}function Oh(a,o,f){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=f,G0(o),o=o.next;while(o!==p)}a.action=null}function G0(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Y0(a,o){return o}function $0(a,o){if(Rt){var f=Qt.formState;if(f!==null){e:{var p=yt;if(Rt){if(nn){t:{for(var b=nn,C=_r;b.nodeType!==8;){if(!C){b=null;break t}if(b=Ir(b.nextSibling),b===null){b=null;break t}}C=b.data,b=C==="F!"||C==="F"?b:null}if(b){nn=Ir(b.nextSibling),p=b.data==="F!";break e}}Wa(p)}p=!1}p&&(o=f[0])}}return f=Wn(),f.memoizedState=f.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y0,lastRenderedState:o},f.queue=p,f=fx.bind(null,yt,p),p.dispatch=f,p=Bh(!1),C=qh.bind(null,yt,!1,p.queue),p=Wn(),b={state:o,dispatch:null,action:a,pending:null},p.queue=b,f=AN.bind(null,yt,b,C,f),b.dispatch=f,p.memoizedState=a,[o,f,!1]}function X0(a){var o=mn();return K0(o,Gt,a)}function K0(a,o,f){if(o=Dh(a,o,Y0)[0],a=mc(Ta)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=oo(o)}catch(j){throw j===Fl?lc:j}else p=o;o=mn();var b=o.queue,C=b.dispatch;return f!==o.memoizedState&&(yt.flags|=2048,Yl(9,{destroy:void 0},RN.bind(null,b,f),null)),[p,C,a]}function RN(a,o){a.action=o}function Q0(a){var o=mn(),f=Gt;if(f!==null)return K0(o,f,a);mn(),o=o.memoizedState,f=mn();var p=f.queue.dispatch;return f.memoizedState=a,[o,p,!1]}function Yl(a,o,f,p){return a={tag:a,create:f,deps:p,inst:o,next:null},o=yt.updateQueue,o===null&&(o=vc(),yt.updateQueue=o),f=o.lastEffect,f===null?o.lastEffect=a.next=a:(p=f.next,f.next=a,a.next=p,o.lastEffect=a),a}function Z0(){return mn().memoizedState}function gc(a,o,f,p){var b=Wn();yt.flags|=a,b.memoizedState=Yl(1|o,{destroy:void 0},f,p===void 0?null:p)}function yc(a,o,f,p){var b=mn();p=p===void 0?null:p;var C=b.memoizedState.inst;Gt!==null&&p!==null&&Th(p,Gt.memoizedState.deps)?b.memoizedState=Yl(o,C,f,p):(yt.flags|=a,b.memoizedState=Yl(1|o,C,f,p))}function W0(a,o){gc(8390656,8,a,o)}function Lh(a,o){yc(2048,8,a,o)}function jN(a){yt.flags|=4;var o=yt.updateQueue;if(o===null)o=vc(),yt.updateQueue=o,o.events=[a];else{var f=o.events;f===null?o.events=[a]:f.push(a)}}function J0(a){var o=mn().memoizedState;return jN({ref:o,nextImpl:a}),function(){if((_t&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function ex(a,o){return yc(4,2,a,o)}function tx(a,o){return yc(4,4,a,o)}function nx(a,o){if(typeof o=="function"){a=a();var f=o(a);return function(){typeof f=="function"?f():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function rx(a,o,f){f=f!=null?f.concat([a]):null,yc(4,4,nx.bind(null,o,a),f)}function zh(){}function ax(a,o){var f=mn();o=o===void 0?null:o;var p=f.memoizedState;return o!==null&&Th(o,p[1])?p[0]:(f.memoizedState=[a,o],a)}function ix(a,o){var f=mn();o=o===void 0?null:o;var p=f.memoizedState;if(o!==null&&Th(o,p[1]))return p[0];if(p=a(),nl){Q(!0);try{a()}finally{Q(!1)}}return f.memoizedState=[p,o],p}function _h(a,o,f){return f===void 0||(Ca&1073741824)!==0&&(kt&261930)===0?a.memoizedState=o:(a.memoizedState=f,a=lb(),yt.lanes|=a,si|=a,f)}function lx(a,o,f,p){return br(f,o)?f:Ul.current!==null?(a=_h(a,f,p),br(a,o)||(wn=!0),a):(Ca&42)===0||(Ca&1073741824)!==0&&(kt&261930)===0?(wn=!0,a.memoizedState=f):(a=lb(),yt.lanes|=a,si|=a,o)}function sx(a,o,f,p,b){var C=V.p;V.p=C!==0&&8>C?C:8;var j=H.T,G={};H.T=G,qh(a,!1,o,f);try{var te=b(),ve=H.S;if(ve!==null&&ve(G,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var ke=TN(te,p);uo(a,o,ke,kr(a))}else uo(a,o,p,kr(a))}catch(Re){uo(a,o,{then:function(){},status:"rejected",reason:Re},kr())}finally{V.p=C,j!==null&&G.types!==null&&(j.types=G.types),H.T=j}}function DN(){}function Ph(a,o,f,p){if(a.tag!==5)throw Error(r(476));var b=ox(a).queue;sx(a,b,o,K,f===null?DN:function(){return ux(a),f(p)})}function ox(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:K},next:null};var f={};return o.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:f},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function ux(a){var o=ox(a);o.next===null&&(o=a.alternate.memoizedState),uo(a,o.next.queue,{},kr())}function Ih(){return Pn(No)}function cx(){return mn().memoizedState}function dx(){return mn().memoizedState}function MN(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var f=kr();a=ti(f);var p=ni(o,a,f);p!==null&&(ur(p,o,f),ao(p,o,f)),o={cache:vh()},a.payload=o;return}o=o.return}}function BN(a,o,f){var p=kr();f={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},xc(a)?hx(o,f):(f=rh(a,o,f,p),f!==null&&(ur(f,a,p),vx(f,o,p)))}function fx(a,o,f){var p=kr();uo(a,o,f,p)}function uo(a,o,f,p){var b={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(xc(a))hx(o,b);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=o.lastRenderedReducer,C!==null))try{var j=o.lastRenderedState,G=C(j,f);if(b.hasEagerState=!0,b.eagerState=G,br(G,j))return Ju(a,o,b,0),Qt===null&&Wu(),!1}catch{}finally{}if(f=rh(a,o,b,p),f!==null)return ur(f,a,p),vx(f,o,p),!0}return!1}function qh(a,o,f,p){if(p={lane:2,revertLane:yv(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},xc(a)){if(o)throw Error(r(479))}else o=rh(a,f,p,2),o!==null&&ur(o,a,2)}function xc(a){var o=a.alternate;return a===yt||o!==null&&o===yt}function hx(a,o){Vl=fc=!0;var f=a.pending;f===null?o.next=o:(o.next=f.next,f.next=o),a.pending=o}function vx(a,o,f){if((f&4194048)!==0){var p=o.lanes;p&=a.pendingLanes,f|=p,o.lanes=f,ot(a,f)}}var co={readContext:Pn,use:pc,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn};co.useEffectEvent=fn;var px={readContext:Pn,use:pc,useCallback:function(a,o){return Wn().memoizedState=[a,o===void 0?null:o],a},useContext:Pn,useEffect:W0,useImperativeHandle:function(a,o,f){f=f!=null?f.concat([a]):null,gc(4194308,4,nx.bind(null,o,a),f)},useLayoutEffect:function(a,o){return gc(4194308,4,a,o)},useInsertionEffect:function(a,o){gc(4,2,a,o)},useMemo:function(a,o){var f=Wn();o=o===void 0?null:o;var p=a();if(nl){Q(!0);try{a()}finally{Q(!1)}}return f.memoizedState=[p,o],p},useReducer:function(a,o,f){var p=Wn();if(f!==void 0){var b=f(o);if(nl){Q(!0);try{f(o)}finally{Q(!1)}}}else b=o;return p.memoizedState=p.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},p.queue=a,a=a.dispatch=BN.bind(null,yt,a),[p.memoizedState,a]},useRef:function(a){var o=Wn();return a={current:a},o.memoizedState=a},useState:function(a){a=Bh(a);var o=a.queue,f=fx.bind(null,yt,o);return o.dispatch=f,[a.memoizedState,f]},useDebugValue:zh,useDeferredValue:function(a,o){var f=Wn();return _h(f,a,o)},useTransition:function(){var a=Bh(!1);return a=sx.bind(null,yt,a.queue,!0,!1),Wn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,f){var p=yt,b=Wn();if(Rt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=o(),Qt===null)throw Error(r(349));(kt&127)!==0||z0(p,o,f)}b.memoizedState=f;var C={value:f,getSnapshot:o};return b.queue=C,W0(P0.bind(null,p,C,a),[a]),p.flags|=2048,Yl(9,{destroy:void 0},_0.bind(null,p,C,f,o),null),f},useId:function(){var a=Wn(),o=Qt.identifierPrefix;if(Rt){var f=ta,p=ea;f=(p&~(1<<32-Z(p)-1)).toString(32)+f,o="_"+o+"R_"+f,f=hc++,0<f&&(o+="H"+f.toString(32)),o+="_"}else f=kN++,o="_"+o+"r_"+f.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Ih,useFormState:$0,useActionState:$0,useOptimistic:function(a){var o=Wn();o.memoizedState=o.baseState=a;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=f,o=qh.bind(null,yt,!0,f),f.dispatch=o,[a,o]},useMemoCache:jh,useCacheRefresh:function(){return Wn().memoizedState=MN.bind(null,yt)},useEffectEvent:function(a){var o=Wn(),f={impl:a};return o.memoizedState=f,function(){if((_t&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},Fh={readContext:Pn,use:pc,useCallback:ax,useContext:Pn,useEffect:Lh,useImperativeHandle:rx,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:ix,useReducer:mc,useRef:Z0,useState:function(){return mc(Ta)},useDebugValue:zh,useDeferredValue:function(a,o){var f=mn();return lx(f,Gt.memoizedState,a,o)},useTransition:function(){var a=mc(Ta)[0],o=mn().memoizedState;return[typeof a=="boolean"?a:oo(a),o]},useSyncExternalStore:L0,useId:cx,useHostTransitionStatus:Ih,useFormState:X0,useActionState:X0,useOptimistic:function(a,o){var f=mn();return F0(f,Gt,a,o)},useMemoCache:jh,useCacheRefresh:dx};Fh.useEffectEvent=J0;var mx={readContext:Pn,use:pc,useCallback:ax,useContext:Pn,useEffect:Lh,useImperativeHandle:rx,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:ix,useReducer:Mh,useRef:Z0,useState:function(){return Mh(Ta)},useDebugValue:zh,useDeferredValue:function(a,o){var f=mn();return Gt===null?_h(f,a,o):lx(f,Gt.memoizedState,a,o)},useTransition:function(){var a=Mh(Ta)[0],o=mn().memoizedState;return[typeof a=="boolean"?a:oo(a),o]},useSyncExternalStore:L0,useId:cx,useHostTransitionStatus:Ih,useFormState:Q0,useActionState:Q0,useOptimistic:function(a,o){var f=mn();return Gt!==null?F0(f,Gt,a,o):(f.baseState=a,[a,f.queue.dispatch])},useMemoCache:jh,useCacheRefresh:dx};mx.useEffectEvent=J0;function Hh(a,o,f,p){o=a.memoizedState,f=f(p,o),f=f==null?o:v({},o,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var Uh={enqueueSetState:function(a,o,f){a=a._reactInternals;var p=kr(),b=ti(p);b.payload=o,f!=null&&(b.callback=f),o=ni(a,b,p),o!==null&&(ur(o,a,p),ao(o,a,p))},enqueueReplaceState:function(a,o,f){a=a._reactInternals;var p=kr(),b=ti(p);b.tag=1,b.payload=o,f!=null&&(b.callback=f),o=ni(a,b,p),o!==null&&(ur(o,a,p),ao(o,a,p))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var f=kr(),p=ti(f);p.tag=2,o!=null&&(p.callback=o),o=ni(a,p,f),o!==null&&(ur(o,a,f),ao(o,a,f))}};function gx(a,o,f,p,b,C,j){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,C,j):o.prototype&&o.prototype.isPureReactComponent?!Qs(f,p)||!Qs(b,C):!0}function yx(a,o,f,p){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(f,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(f,p),o.state!==a&&Uh.enqueueReplaceState(o,o.state,null)}function rl(a,o){var f=o;if("ref"in o){f={};for(var p in o)p!=="ref"&&(f[p]=o[p])}if(a=a.defaultProps){f===o&&(f=v({},f));for(var b in a)f[b]===void 0&&(f[b]=a[b])}return f}function xx(a){Zu(a)}function bx(a){console.error(a)}function wx(a){Zu(a)}function bc(a,o){try{var f=a.onUncaughtError;f(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function Sx(a,o,f){try{var p=a.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Vh(a,o,f){return f=ti(f),f.tag=3,f.payload={element:null},f.callback=function(){bc(a,o)},f}function Ex(a){return a=ti(a),a.tag=3,a}function Cx(a,o,f,p){var b=f.type.getDerivedStateFromError;if(typeof b=="function"){var C=p.value;a.payload=function(){return b(C)},a.callback=function(){Sx(o,f,p)}}var j=f.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(a.callback=function(){Sx(o,f,p),typeof b!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var G=p.stack;this.componentDidCatch(p.value,{componentStack:G!==null?G:""})})}function ON(a,o,f,p,b){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=f.alternate,o!==null&&Pl(o,f,b,!0),f=Sr.current,f!==null){switch(f.tag){case 31:case 13:return Pr===null?Mc():f.alternate===null&&hn===0&&(hn=3),f.flags&=-257,f.flags|=65536,f.lanes=b,p===sc?f.flags|=16384:(o=f.updateQueue,o===null?f.updateQueue=new Set([p]):o.add(p),pv(a,p,b)),!1;case 22:return f.flags|=65536,p===sc?f.flags|=16384:(o=f.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=o):(f=o.retryQueue,f===null?o.retryQueue=new Set([p]):f.add(p)),pv(a,p,b)),!1}throw Error(r(435,f.tag))}return pv(a,p,b),Mc(),!1}if(Rt)return o=Sr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,p!==uh&&(a=Error(r(422),{cause:p}),Js(Or(a,f)))):(p!==uh&&(o=Error(r(423),{cause:p}),Js(Or(o,f))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,p=Or(p,f),b=Vh(a.stateNode,p,b),bh(a,b),hn!==4&&(hn=2)),!1;var C=Error(r(520),{cause:p});if(C=Or(C,f),xo===null?xo=[C]:xo.push(C),hn!==4&&(hn=2),o===null)return!0;p=Or(p,f),f=o;do{switch(f.tag){case 3:return f.flags|=65536,a=b&-b,f.lanes|=a,a=Vh(f.stateNode,p,a),bh(f,a),!1;case 1:if(o=f.type,C=f.stateNode,(f.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(oi===null||!oi.has(C))))return f.flags|=65536,b&=-b,f.lanes|=b,b=Ex(b),Cx(b,a,f,p),bh(f,b),!1}f=f.return}while(f!==null);return!1}var Gh=Error(r(461)),wn=!1;function In(a,o,f,p){o.child=a===null?A0(o,null,f,p):tl(o,a.child,f,p)}function Tx(a,o,f,p,b){f=f.render;var C=o.ref;if("ref"in p){var j={};for(var G in p)G!=="ref"&&(j[G]=p[G])}else j=p;return Zi(o),p=kh(a,o,f,j,C,b),G=Nh(),a!==null&&!wn?(Ah(a,o,b),ka(a,o,b)):(Rt&&G&&sh(o),o.flags|=1,In(a,o,p,b),o.child)}function kx(a,o,f,p,b){if(a===null){var C=f.type;return typeof C=="function"&&!ah(C)&&C.defaultProps===void 0&&f.compare===null?(o.tag=15,o.type=C,Nx(a,o,C,p,b)):(a=tc(f.type,null,p,o,o.mode,b),a.ref=o.ref,a.return=o,o.child=a)}if(C=a.child,!Jh(a,b)){var j=C.memoizedProps;if(f=f.compare,f=f!==null?f:Qs,f(j,p)&&a.ref===o.ref)return ka(a,o,b)}return o.flags|=1,a=ba(C,p),a.ref=o.ref,a.return=o,o.child=a}function Nx(a,o,f,p,b){if(a!==null){var C=a.memoizedProps;if(Qs(C,p)&&a.ref===o.ref)if(wn=!1,o.pendingProps=p=C,Jh(a,b))(a.flags&131072)!==0&&(wn=!0);else return o.lanes=a.lanes,ka(a,o,b)}return Yh(a,o,f,p,b)}function Ax(a,o,f,p){var b=p.children,C=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(C=C!==null?C.baseLanes|f:f,a!==null){for(p=o.child=a.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~C}else p=0,o.child=null;return Rx(a,o,C,f,p)}if((f&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&ic(o,C!==null?C.cachePool:null),C!==null?D0(o,C):Sh(),M0(o);else return p=o.lanes=536870912,Rx(a,o,C!==null?C.baseLanes|f:f,f,p)}else C!==null?(ic(o,C.cachePool),D0(o,C),ai(),o.memoizedState=null):(a!==null&&ic(o,null),Sh(),ai());return In(a,o,b,f),o.child}function fo(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Rx(a,o,f,p,b){var C=mh();return C=C===null?null:{parent:xn._currentValue,pool:C},o.memoizedState={baseLanes:f,cachePool:C},a!==null&&ic(o,null),Sh(),M0(o),a!==null&&Pl(a,o,p,!0),o.childLanes=b,null}function wc(a,o){return o=Ec({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function jx(a,o,f){return tl(o,a.child,null,f),a=wc(o,o.pendingProps),a.flags|=2,Er(o),o.memoizedState=null,a}function LN(a,o,f){var p=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Rt){if(p.mode==="hidden")return a=wc(o,p),o.lanes=536870912,fo(null,a);if(Ch(o),(a=nn)?(a=Hb(a,_r),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Qa!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},f=h0(a),f.return=o,o.child=f,_n=o,nn=null)):a=null,a===null)throw Wa(o);return o.lanes=536870912,null}return wc(o,p)}var C=a.memoizedState;if(C!==null){var j=C.dehydrated;if(Ch(o),b)if(o.flags&256)o.flags&=-257,o=jx(a,o,f);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(wn||Pl(a,o,f,!1),b=(f&a.childLanes)!==0,wn||b){if(p=Qt,p!==null&&(j=ct(p,f),j!==0&&j!==C.retryLane))throw C.retryLane=j,$i(a,j),ur(p,a,j),Gh;Mc(),o=jx(a,o,f)}else a=C.treeContext,nn=Ir(j.nextSibling),_n=o,Rt=!0,Za=null,_r=!1,a!==null&&m0(o,a),o=wc(o,p),o.flags|=4096;return o}return a=ba(a.child,{mode:p.mode,children:p.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Sc(a,o){var f=o.ref;if(f===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(a===null||a.ref!==f)&&(o.flags|=4194816)}}function Yh(a,o,f,p,b){return Zi(o),f=kh(a,o,f,p,void 0,b),p=Nh(),a!==null&&!wn?(Ah(a,o,b),ka(a,o,b)):(Rt&&p&&sh(o),o.flags|=1,In(a,o,f,b),o.child)}function Dx(a,o,f,p,b,C){return Zi(o),o.updateQueue=null,f=O0(o,p,f,b),B0(a),p=Nh(),a!==null&&!wn?(Ah(a,o,C),ka(a,o,C)):(Rt&&p&&sh(o),o.flags|=1,In(a,o,f,C),o.child)}function Mx(a,o,f,p,b){if(Zi(o),o.stateNode===null){var C=Ol,j=f.contextType;typeof j=="object"&&j!==null&&(C=Pn(j)),C=new f(p,C),o.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Uh,o.stateNode=C,C._reactInternals=o,C=o.stateNode,C.props=p,C.state=o.memoizedState,C.refs={},yh(o),j=f.contextType,C.context=typeof j=="object"&&j!==null?Pn(j):Ol,C.state=o.memoizedState,j=f.getDerivedStateFromProps,typeof j=="function"&&(Hh(o,f,j,p),C.state=o.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(j=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),j!==C.state&&Uh.enqueueReplaceState(C,C.state,null),lo(o,p,C,b),io(),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(a===null){C=o.stateNode;var G=o.memoizedProps,te=rl(f,G);C.props=te;var ve=C.context,ke=f.contextType;j=Ol,typeof ke=="object"&&ke!==null&&(j=Pn(ke));var Re=f.getDerivedStateFromProps;ke=typeof Re=="function"||typeof C.getSnapshotBeforeUpdate=="function",G=o.pendingProps!==G,ke||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(G||ve!==j)&&yx(o,C,p,j),ei=!1;var ge=o.memoizedState;C.state=ge,lo(o,p,C,b),io(),ve=o.memoizedState,G||ge!==ve||ei?(typeof Re=="function"&&(Hh(o,f,Re,p),ve=o.memoizedState),(te=ei||gx(o,f,te,p,ge,ve,j))?(ke||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=ve),C.props=p,C.state=ve,C.context=j,p=te):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{C=o.stateNode,xh(a,o),j=o.memoizedProps,ke=rl(f,j),C.props=ke,Re=o.pendingProps,ge=C.context,ve=f.contextType,te=Ol,typeof ve=="object"&&ve!==null&&(te=Pn(ve)),G=f.getDerivedStateFromProps,(ve=typeof G=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(j!==Re||ge!==te)&&yx(o,C,p,te),ei=!1,ge=o.memoizedState,C.state=ge,lo(o,p,C,b),io();var we=o.memoizedState;j!==Re||ge!==we||ei||a!==null&&a.dependencies!==null&&rc(a.dependencies)?(typeof G=="function"&&(Hh(o,f,G,p),we=o.memoizedState),(ke=ei||gx(o,f,ke,p,ge,we,te)||a!==null&&a.dependencies!==null&&rc(a.dependencies))?(ve||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,we,te),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,we,te)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||j===a.memoizedProps&&ge===a.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&ge===a.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=we),C.props=p,C.state=we,C.context=te,p=ke):(typeof C.componentDidUpdate!="function"||j===a.memoizedProps&&ge===a.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&ge===a.memoizedState||(o.flags|=1024),p=!1)}return C=p,Sc(a,o),p=(o.flags&128)!==0,C||p?(C=o.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:C.render(),o.flags|=1,a!==null&&p?(o.child=tl(o,a.child,null,b),o.child=tl(o,null,f,b)):In(a,o,f,b),o.memoizedState=C.state,a=o.child):a=ka(a,o,b),a}function Bx(a,o,f,p){return Ki(),o.flags|=256,In(a,o,f,p),o.child}var $h={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xh(a){return{baseLanes:a,cachePool:S0()}}function Kh(a,o,f){return a=a!==null?a.childLanes&~f:0,o&&(a|=Tr),a}function Ox(a,o,f){var p=o.pendingProps,b=!1,C=(o.flags&128)!==0,j;if((j=C)||(j=a!==null&&a.memoizedState===null?!1:(pn.current&2)!==0),j&&(b=!0,o.flags&=-129),j=(o.flags&32)!==0,o.flags&=-33,a===null){if(Rt){if(b?ri(o):ai(),(a=nn)?(a=Hb(a,_r),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Qa!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},f=h0(a),f.return=o,o.child=f,_n=o,nn=null)):a=null,a===null)throw Wa(o);return Dv(a)?o.lanes=32:o.lanes=536870912,null}var G=p.children;return p=p.fallback,b?(ai(),b=o.mode,G=Ec({mode:"hidden",children:G},b),p=Xi(p,b,f,null),G.return=o,p.return=o,G.sibling=p,o.child=G,p=o.child,p.memoizedState=Xh(f),p.childLanes=Kh(a,j,f),o.memoizedState=$h,fo(null,p)):(ri(o),Qh(o,G))}var te=a.memoizedState;if(te!==null&&(G=te.dehydrated,G!==null)){if(C)o.flags&256?(ri(o),o.flags&=-257,o=Zh(a,o,f)):o.memoizedState!==null?(ai(),o.child=a.child,o.flags|=128,o=null):(ai(),G=p.fallback,b=o.mode,p=Ec({mode:"visible",children:p.children},b),G=Xi(G,b,f,null),G.flags|=2,p.return=o,G.return=o,p.sibling=G,o.child=p,tl(o,a.child,null,f),p=o.child,p.memoizedState=Xh(f),p.childLanes=Kh(a,j,f),o.memoizedState=$h,o=fo(null,p));else if(ri(o),Dv(G)){if(j=G.nextSibling&&G.nextSibling.dataset,j)var ve=j.dgst;j=ve,p=Error(r(419)),p.stack="",p.digest=j,Js({value:p,source:null,stack:null}),o=Zh(a,o,f)}else if(wn||Pl(a,o,f,!1),j=(f&a.childLanes)!==0,wn||j){if(j=Qt,j!==null&&(p=ct(j,f),p!==0&&p!==te.retryLane))throw te.retryLane=p,$i(a,p),ur(j,a,p),Gh;jv(G)||Mc(),o=Zh(a,o,f)}else jv(G)?(o.flags|=192,o.child=a.child,o=null):(a=te.treeContext,nn=Ir(G.nextSibling),_n=o,Rt=!0,Za=null,_r=!1,a!==null&&m0(o,a),o=Qh(o,p.children),o.flags|=4096);return o}return b?(ai(),G=p.fallback,b=o.mode,te=a.child,ve=te.sibling,p=ba(te,{mode:"hidden",children:p.children}),p.subtreeFlags=te.subtreeFlags&65011712,ve!==null?G=ba(ve,G):(G=Xi(G,b,f,null),G.flags|=2),G.return=o,p.return=o,p.sibling=G,o.child=p,fo(null,p),p=o.child,G=a.child.memoizedState,G===null?G=Xh(f):(b=G.cachePool,b!==null?(te=xn._currentValue,b=b.parent!==te?{parent:te,pool:te}:b):b=S0(),G={baseLanes:G.baseLanes|f,cachePool:b}),p.memoizedState=G,p.childLanes=Kh(a,j,f),o.memoizedState=$h,fo(a.child,p)):(ri(o),f=a.child,a=f.sibling,f=ba(f,{mode:"visible",children:p.children}),f.return=o,f.sibling=null,a!==null&&(j=o.deletions,j===null?(o.deletions=[a],o.flags|=16):j.push(a)),o.child=f,o.memoizedState=null,f)}function Qh(a,o){return o=Ec({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Ec(a,o){return a=wr(22,a,null,o),a.lanes=0,a}function Zh(a,o,f){return tl(o,a.child,null,f),a=Qh(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function Lx(a,o,f){a.lanes|=o;var p=a.alternate;p!==null&&(p.lanes|=o),fh(a.return,o,f)}function Wh(a,o,f,p,b,C){var j=a.memoizedState;j===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:b,treeForkCount:C}:(j.isBackwards=o,j.rendering=null,j.renderingStartTime=0,j.last=p,j.tail=f,j.tailMode=b,j.treeForkCount=C)}function zx(a,o,f){var p=o.pendingProps,b=p.revealOrder,C=p.tail;p=p.children;var j=pn.current,G=(j&2)!==0;if(G?(j=j&1|2,o.flags|=128):j&=1,z(pn,j),In(a,o,p,f),p=Rt?Ws:0,!G&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Lx(a,f,o);else if(a.tag===19)Lx(a,f,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(f=o.child,b=null;f!==null;)a=f.alternate,a!==null&&dc(a)===null&&(b=f),f=f.sibling;f=b,f===null?(b=o.child,o.child=null):(b=f.sibling,f.sibling=null),Wh(o,!1,b,f,C,p);break;case"backwards":case"unstable_legacy-backwards":for(f=null,b=o.child,o.child=null;b!==null;){if(a=b.alternate,a!==null&&dc(a)===null){o.child=b;break}a=b.sibling,b.sibling=f,f=b,b=a}Wh(o,!0,f,null,C,p);break;case"together":Wh(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function ka(a,o,f){if(a!==null&&(o.dependencies=a.dependencies),si|=o.lanes,(f&o.childLanes)===0)if(a!==null){if(Pl(a,o,f,!1),(f&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,f=ba(a,a.pendingProps),o.child=f,f.return=o;a.sibling!==null;)a=a.sibling,f=f.sibling=ba(a,a.pendingProps),f.return=o;f.sibling=null}return o.child}function Jh(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&rc(a)))}function zN(a,o,f){switch(o.tag){case 3:je(o,o.stateNode.containerInfo),Ja(o,xn,a.memoizedState.cache),Ki();break;case 27:case 5:ie(o);break;case 4:je(o,o.stateNode.containerInfo);break;case 10:Ja(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Ch(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(ri(o),o.flags|=128,null):(f&o.child.childLanes)!==0?Ox(a,o,f):(ri(o),a=ka(a,o,f),a!==null?a.sibling:null);ri(o);break;case 19:var b=(a.flags&128)!==0;if(p=(f&o.childLanes)!==0,p||(Pl(a,o,f,!1),p=(f&o.childLanes)!==0),b){if(p)return zx(a,o,f);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),z(pn,pn.current),p)break;return null;case 22:return o.lanes=0,Ax(a,o,f,o.pendingProps);case 24:Ja(o,xn,a.memoizedState.cache)}return ka(a,o,f)}function _x(a,o,f){if(a!==null)if(a.memoizedProps!==o.pendingProps)wn=!0;else{if(!Jh(a,f)&&(o.flags&128)===0)return wn=!1,zN(a,o,f);wn=(a.flags&131072)!==0}else wn=!1,Rt&&(o.flags&1048576)!==0&&p0(o,Ws,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(a=Ji(o.elementType),o.type=a,typeof a=="function")ah(a)?(p=rl(a,p),o.tag=1,o=Mx(null,o,a,p,f)):(o.tag=0,o=Yh(null,o,a,p,f));else{if(a!=null){var b=a.$$typeof;if(b===N){o.tag=11,o=Tx(null,o,a,p,f);break e}else if(b===A){o.tag=14,o=kx(null,o,a,p,f);break e}}throw o=F(a)||a,Error(r(306,o,""))}}return o;case 0:return Yh(a,o,o.type,o.pendingProps,f);case 1:return p=o.type,b=rl(p,o.pendingProps),Mx(a,o,p,b,f);case 3:e:{if(je(o,o.stateNode.containerInfo),a===null)throw Error(r(387));p=o.pendingProps;var C=o.memoizedState;b=C.element,xh(a,o),lo(o,p,null,f);var j=o.memoizedState;if(p=j.cache,Ja(o,xn,p),p!==C.cache&&hh(o,[xn],f,!0),io(),p=j.element,C.isDehydrated)if(C={element:p,isDehydrated:!1,cache:j.cache},o.updateQueue.baseState=C,o.memoizedState=C,o.flags&256){o=Bx(a,o,p,f);break e}else if(p!==b){b=Or(Error(r(424)),o),Js(b),o=Bx(a,o,p,f);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(nn=Ir(a.firstChild),_n=o,Rt=!0,Za=null,_r=!0,f=A0(o,null,p,f),o.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Ki(),p===b){o=ka(a,o,f);break e}In(a,o,p,f)}o=o.child}return o;case 26:return Sc(a,o),a===null?(f=Xb(o.type,null,o.pendingProps,null))?o.memoizedState=f:Rt||(f=o.type,a=o.pendingProps,p=Ic(de.current).createElement(f),p[pt]=o,p[Mt]=a,qn(p,f,a),yn(p),o.stateNode=p):o.memoizedState=Xb(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return ie(o),a===null&&Rt&&(p=o.stateNode=Gb(o.type,o.pendingProps,de.current),_n=o,_r=!0,b=nn,fi(o.type)?(Mv=b,nn=Ir(p.firstChild)):nn=b),In(a,o,o.pendingProps.children,f),Sc(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Rt&&((b=p=nn)&&(p=fA(p,o.type,o.pendingProps,_r),p!==null?(o.stateNode=p,_n=o,nn=Ir(p.firstChild),_r=!1,b=!0):b=!1),b||Wa(o)),ie(o),b=o.type,C=o.pendingProps,j=a!==null?a.memoizedProps:null,p=C.children,Nv(b,C)?p=null:j!==null&&Nv(b,j)&&(o.flags|=32),o.memoizedState!==null&&(b=kh(a,o,NN,null,null,f),No._currentValue=b),Sc(a,o),In(a,o,p,f),o.child;case 6:return a===null&&Rt&&((a=f=nn)&&(f=hA(f,o.pendingProps,_r),f!==null?(o.stateNode=f,_n=o,nn=null,a=!0):a=!1),a||Wa(o)),null;case 13:return Ox(a,o,f);case 4:return je(o,o.stateNode.containerInfo),p=o.pendingProps,a===null?o.child=tl(o,null,p,f):In(a,o,p,f),o.child;case 11:return Tx(a,o,o.type,o.pendingProps,f);case 7:return In(a,o,o.pendingProps,f),o.child;case 8:return In(a,o,o.pendingProps.children,f),o.child;case 12:return In(a,o,o.pendingProps.children,f),o.child;case 10:return p=o.pendingProps,Ja(o,o.type,p.value),In(a,o,p.children,f),o.child;case 9:return b=o.type._context,p=o.pendingProps.children,Zi(o),b=Pn(b),p=p(b),o.flags|=1,In(a,o,p,f),o.child;case 14:return kx(a,o,o.type,o.pendingProps,f);case 15:return Nx(a,o,o.type,o.pendingProps,f);case 19:return zx(a,o,f);case 31:return LN(a,o,f);case 22:return Ax(a,o,f,o.pendingProps);case 24:return Zi(o),p=Pn(xn),a===null?(b=mh(),b===null&&(b=Qt,C=vh(),b.pooledCache=C,C.refCount++,C!==null&&(b.pooledCacheLanes|=f),b=C),o.memoizedState={parent:p,cache:b},yh(o),Ja(o,xn,b)):((a.lanes&f)!==0&&(xh(a,o),lo(o,null,null,f),io()),b=a.memoizedState,C=o.memoizedState,b.parent!==p?(b={parent:p,cache:p},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),Ja(o,xn,p)):(p=C.cache,Ja(o,xn,p),p!==b.cache&&hh(o,[xn],f,!0))),In(a,o,o.pendingProps.children,f),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Na(a){a.flags|=4}function ev(a,o,f,p,b){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(cb())a.flags|=8192;else throw el=sc,gh}else a.flags&=-16777217}function Px(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Jb(o))if(cb())a.flags|=8192;else throw el=sc,gh}function Cc(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Be():536870912,a.lanes|=o,Ql|=o)}function ho(a,o){if(!Rt)switch(a.tailMode){case"hidden":o=a.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function rn(a){var o=a.alternate!==null&&a.alternate.child===a.child,f=0,p=0;if(o)for(var b=a.child;b!==null;)f|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)f|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=p,a.childLanes=f,o}function _N(a,o,f){var p=o.pendingProps;switch(oh(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(o),null;case 1:return rn(o),null;case 3:return f=o.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Ea(xn),xe(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(_l(o)?Na(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ch())),rn(o),null;case 26:var b=o.type,C=o.memoizedState;return a===null?(Na(o),C!==null?(rn(o),Px(o,C)):(rn(o),ev(o,b,null,p,f))):C?C!==a.memoizedState?(Na(o),rn(o),Px(o,C)):(rn(o),o.flags&=-16777217):(a=a.memoizedProps,a!==p&&Na(o),rn(o),ev(o,b,a,p,f)),null;case 27:if(ue(o),f=de.current,b=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&Na(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return rn(o),null}a=ne.current,_l(o)?g0(o):(a=Gb(b,p,f),o.stateNode=a,Na(o))}return rn(o),null;case 5:if(ue(o),b=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&Na(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return rn(o),null}if(C=ne.current,_l(o))g0(o);else{var j=Ic(de.current);switch(C){case 1:C=j.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:C=j.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":C=j.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":C=j.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":C=j.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof p.is=="string"?j.createElement("select",{is:p.is}):j.createElement("select"),p.multiple?C.multiple=!0:p.size&&(C.size=p.size);break;default:C=typeof p.is=="string"?j.createElement(b,{is:p.is}):j.createElement(b)}}C[pt]=o,C[Mt]=p;e:for(j=o.child;j!==null;){if(j.tag===5||j.tag===6)C.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===o)break e;for(;j.sibling===null;){if(j.return===null||j.return===o)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}o.stateNode=C;e:switch(qn(C,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Na(o)}}return rn(o),ev(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,f),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==p&&Na(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(a=de.current,_l(o)){if(a=o.stateNode,f=o.memoizedProps,p=null,b=_n,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}a[pt]=o,a=!!(a.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||Ob(a.nodeValue,f)),a||Wa(o,!0)}else a=Ic(a).createTextNode(p),a[pt]=o,o.stateNode=a}return rn(o),null;case 31:if(f=o.memoizedState,a===null||a.memoizedState!==null){if(p=_l(o),f!==null){if(a===null){if(!p)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[pt]=o}else Ki(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;rn(o),a=!1}else f=ch(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=f),a=!0;if(!a)return o.flags&256?(Er(o),o):(Er(o),null);if((o.flags&128)!==0)throw Error(r(558))}return rn(o),null;case 13:if(p=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=_l(o),p!==null&&p.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[pt]=o}else Ki(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;rn(o),b=!1}else b=ch(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(Er(o),o):(Er(o),null)}return Er(o),(o.flags&128)!==0?(o.lanes=f,o):(f=p!==null,a=a!==null&&a.memoizedState!==null,f&&(p=o.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),C=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(C=p.memoizedState.cachePool.pool),C!==b&&(p.flags|=2048)),f!==a&&f&&(o.child.flags|=8192),Cc(o,o.updateQueue),rn(o),null);case 4:return xe(),a===null&&Sv(o.stateNode.containerInfo),rn(o),null;case 10:return Ea(o.type),rn(o),null;case 19:if(X(pn),p=o.memoizedState,p===null)return rn(o),null;if(b=(o.flags&128)!==0,C=p.rendering,C===null)if(b)ho(p,!1);else{if(hn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(C=dc(a),C!==null){for(o.flags|=128,ho(p,!1),a=C.updateQueue,o.updateQueue=a,Cc(o,a),o.subtreeFlags=0,a=f,f=o.child;f!==null;)f0(f,a),f=f.sibling;return z(pn,pn.current&1|2),Rt&&wa(o,p.treeForkCount),o.child}a=a.sibling}p.tail!==null&&Ue()>Rc&&(o.flags|=128,b=!0,ho(p,!1),o.lanes=4194304)}else{if(!b)if(a=dc(C),a!==null){if(o.flags|=128,b=!0,a=a.updateQueue,o.updateQueue=a,Cc(o,a),ho(p,!0),p.tail===null&&p.tailMode==="hidden"&&!C.alternate&&!Rt)return rn(o),null}else 2*Ue()-p.renderingStartTime>Rc&&f!==536870912&&(o.flags|=128,b=!0,ho(p,!1),o.lanes=4194304);p.isBackwards?(C.sibling=o.child,o.child=C):(a=p.last,a!==null?a.sibling=C:o.child=C,p.last=C)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Ue(),a.sibling=null,f=pn.current,z(pn,b?f&1|2:f&1),Rt&&wa(o,p.treeForkCount),a):(rn(o),null);case 22:case 23:return Er(o),Eh(),p=o.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(f&536870912)!==0&&(o.flags&128)===0&&(rn(o),o.subtreeFlags&6&&(o.flags|=8192)):rn(o),f=o.updateQueue,f!==null&&Cc(o,f.retryQueue),f=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==f&&(o.flags|=2048),a!==null&&X(Wi),null;case 24:return f=null,a!==null&&(f=a.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Ea(xn),rn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function PN(a,o){switch(oh(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ea(xn),xe(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return ue(o),null;case 31:if(o.memoizedState!==null){if(Er(o),o.alternate===null)throw Error(r(340));Ki()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Er(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ki()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return X(pn),null;case 4:return xe(),null;case 10:return Ea(o.type),null;case 22:case 23:return Er(o),Eh(),a!==null&&X(Wi),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Ea(xn),null;case 25:return null;default:return null}}function Ix(a,o){switch(oh(o),o.tag){case 3:Ea(xn),xe();break;case 26:case 27:case 5:ue(o);break;case 4:xe();break;case 31:o.memoizedState!==null&&Er(o);break;case 13:Er(o);break;case 19:X(pn);break;case 10:Ea(o.type);break;case 22:case 23:Er(o),Eh(),a!==null&&X(Wi);break;case 24:Ea(xn)}}function vo(a,o){try{var f=o.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var b=p.next;f=b;do{if((f.tag&a)===a){p=void 0;var C=f.create,j=f.inst;p=C(),j.destroy=p}f=f.next}while(f!==b)}}catch(G){Ut(o,o.return,G)}}function ii(a,o,f){try{var p=o.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var C=b.next;p=C;do{if((p.tag&a)===a){var j=p.inst,G=j.destroy;if(G!==void 0){j.destroy=void 0,b=o;var te=f,ve=G;try{ve()}catch(ke){Ut(b,te,ke)}}}p=p.next}while(p!==C)}}catch(ke){Ut(o,o.return,ke)}}function qx(a){var o=a.updateQueue;if(o!==null){var f=a.stateNode;try{j0(o,f)}catch(p){Ut(a,a.return,p)}}}function Fx(a,o,f){f.props=rl(a.type,a.memoizedProps),f.state=a.memoizedState;try{f.componentWillUnmount()}catch(p){Ut(a,o,p)}}function po(a,o){try{var f=a.ref;if(f!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof f=="function"?a.refCleanup=f(p):f.current=p}}catch(b){Ut(a,o,b)}}function na(a,o){var f=a.ref,p=a.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(b){Ut(a,o,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(b){Ut(a,o,b)}else f.current=null}function Hx(a){var o=a.type,f=a.memoizedProps,p=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(b){Ut(a,a.return,b)}}function tv(a,o,f){try{var p=a.stateNode;lA(p,a.type,f,o),p[Mt]=o}catch(b){Ut(a,a.return,b)}}function Ux(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&fi(a.type)||a.tag===4}function nv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Ux(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&fi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function rv(a,o,f){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(a,o):(o=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,o.appendChild(a),f=f._reactRootContainer,f!=null||o.onclick!==null||(o.onclick=ya));else if(p!==4&&(p===27&&fi(a.type)&&(f=a.stateNode,o=null),a=a.child,a!==null))for(rv(a,o,f),a=a.sibling;a!==null;)rv(a,o,f),a=a.sibling}function Tc(a,o,f){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?f.insertBefore(a,o):f.appendChild(a);else if(p!==4&&(p===27&&fi(a.type)&&(f=a.stateNode),a=a.child,a!==null))for(Tc(a,o,f),a=a.sibling;a!==null;)Tc(a,o,f),a=a.sibling}function Vx(a){var o=a.stateNode,f=a.memoizedProps;try{for(var p=a.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);qn(o,p,f),o[pt]=a,o[Mt]=f}catch(C){Ut(a,a.return,C)}}var Aa=!1,Sn=!1,av=!1,Gx=typeof WeakSet=="function"?WeakSet:Set,Mn=null;function IN(a,o){if(a=a.containerInfo,Tv=Yc,a=r0(a),Zf(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var b=p.anchorOffset,C=p.focusNode;p=p.focusOffset;try{f.nodeType,C.nodeType}catch{f=null;break e}var j=0,G=-1,te=-1,ve=0,ke=0,Re=a,ge=null;t:for(;;){for(var we;Re!==f||b!==0&&Re.nodeType!==3||(G=j+b),Re!==C||p!==0&&Re.nodeType!==3||(te=j+p),Re.nodeType===3&&(j+=Re.nodeValue.length),(we=Re.firstChild)!==null;)ge=Re,Re=we;for(;;){if(Re===a)break t;if(ge===f&&++ve===b&&(G=j),ge===C&&++ke===p&&(te=j),(we=Re.nextSibling)!==null)break;Re=ge,ge=Re.parentNode}Re=we}f=G===-1||te===-1?null:{start:G,end:te}}else f=null}f=f||{start:0,end:0}}else f=null;for(kv={focusedElem:a,selectionRange:f},Yc=!1,Mn=o;Mn!==null;)if(o=Mn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Mn=a;else for(;Mn!==null;){switch(o=Mn,C=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(f=0;f<a.length;f++)b=a[f],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&C!==null){a=void 0,f=o,b=C.memoizedProps,C=C.memoizedState,p=f.stateNode;try{var Ze=rl(f.type,b);a=p.getSnapshotBeforeUpdate(Ze,C),p.__reactInternalSnapshotBeforeUpdate=a}catch(ut){Ut(f,f.return,ut)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,f=a.nodeType,f===9)Rv(a);else if(f===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Rv(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Mn=a;break}Mn=o.return}}function Yx(a,o,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:ja(a,f),p&4&&vo(5,f);break;case 1:if(ja(a,f),p&4)if(a=f.stateNode,o===null)try{a.componentDidMount()}catch(j){Ut(f,f.return,j)}else{var b=rl(f.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(b,o,a.__reactInternalSnapshotBeforeUpdate)}catch(j){Ut(f,f.return,j)}}p&64&&qx(f),p&512&&po(f,f.return);break;case 3:if(ja(a,f),p&64&&(a=f.updateQueue,a!==null)){if(o=null,f.child!==null)switch(f.child.tag){case 27:case 5:o=f.child.stateNode;break;case 1:o=f.child.stateNode}try{j0(a,o)}catch(j){Ut(f,f.return,j)}}break;case 27:o===null&&p&4&&Vx(f);case 26:case 5:ja(a,f),o===null&&p&4&&Hx(f),p&512&&po(f,f.return);break;case 12:ja(a,f);break;case 31:ja(a,f),p&4&&Kx(a,f);break;case 13:ja(a,f),p&4&&Qx(a,f),p&64&&(a=f.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(f=XN.bind(null,f),vA(a,f))));break;case 22:if(p=f.memoizedState!==null||Aa,!p){o=o!==null&&o.memoizedState!==null||Sn,b=Aa;var C=Sn;Aa=p,(Sn=o)&&!C?Da(a,f,(f.subtreeFlags&8772)!==0):ja(a,f),Aa=b,Sn=C}break;case 30:break;default:ja(a,f)}}function $x(a){var o=a.alternate;o!==null&&(a.alternate=null,$x(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&zn(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var on=null,ir=!1;function Ra(a,o,f){for(f=f.child;f!==null;)Xx(a,o,f),f=f.sibling}function Xx(a,o,f){if(U&&typeof U.onCommitFiberUnmount=="function")try{U.onCommitFiberUnmount(Y,f)}catch{}switch(f.tag){case 26:Sn||na(f,o),Ra(a,o,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Sn||na(f,o);var p=on,b=ir;fi(f.type)&&(on=f.stateNode,ir=!1),Ra(a,o,f),Co(f.stateNode),on=p,ir=b;break;case 5:Sn||na(f,o);case 6:if(p=on,b=ir,on=null,Ra(a,o,f),on=p,ir=b,on!==null)if(ir)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(f.stateNode)}catch(C){Ut(f,o,C)}else try{on.removeChild(f.stateNode)}catch(C){Ut(f,o,C)}break;case 18:on!==null&&(ir?(a=on,qb(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,f.stateNode),as(a)):qb(on,f.stateNode));break;case 4:p=on,b=ir,on=f.stateNode.containerInfo,ir=!0,Ra(a,o,f),on=p,ir=b;break;case 0:case 11:case 14:case 15:ii(2,f,o),Sn||ii(4,f,o),Ra(a,o,f);break;case 1:Sn||(na(f,o),p=f.stateNode,typeof p.componentWillUnmount=="function"&&Fx(f,o,p)),Ra(a,o,f);break;case 21:Ra(a,o,f);break;case 22:Sn=(p=Sn)||f.memoizedState!==null,Ra(a,o,f),Sn=p;break;default:Ra(a,o,f)}}function Kx(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{as(a)}catch(f){Ut(o,o.return,f)}}}function Qx(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{as(a)}catch(f){Ut(o,o.return,f)}}function qN(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new Gx),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new Gx),o;default:throw Error(r(435,a.tag))}}function kc(a,o){var f=qN(a);o.forEach(function(p){if(!f.has(p)){f.add(p);var b=KN.bind(null,a,p);p.then(b,b)}})}function lr(a,o){var f=o.deletions;if(f!==null)for(var p=0;p<f.length;p++){var b=f[p],C=a,j=o,G=j;e:for(;G!==null;){switch(G.tag){case 27:if(fi(G.type)){on=G.stateNode,ir=!1;break e}break;case 5:on=G.stateNode,ir=!1;break e;case 3:case 4:on=G.stateNode.containerInfo,ir=!0;break e}G=G.return}if(on===null)throw Error(r(160));Xx(C,j,b),on=null,ir=!1,C=b.alternate,C!==null&&(C.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Zx(o,a),o=o.sibling}var $r=null;function Zx(a,o){var f=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:lr(o,a),sr(a),p&4&&(ii(3,a,a.return),vo(3,a),ii(5,a,a.return));break;case 1:lr(o,a),sr(a),p&512&&(Sn||f===null||na(f,f.return)),p&64&&Aa&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(f=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var b=$r;if(lr(o,a),sr(a),p&512&&(Sn||f===null||na(f,f.return)),p&4){var C=f!==null?f.memoizedState:null;if(p=a.memoizedState,f===null)if(p===null)if(a.stateNode===null){e:{p=a.type,f=a.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":C=b.getElementsByTagName("title")[0],(!C||C[sn]||C[pt]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=b.createElement(p),b.head.insertBefore(C,b.querySelector("head > title"))),qn(C,p,f),C[pt]=a,yn(C),p=C;break e;case"link":var j=Zb("link","href",b).get(p+(f.href||""));if(j){for(var G=0;G<j.length;G++)if(C=j[G],C.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&C.getAttribute("rel")===(f.rel==null?null:f.rel)&&C.getAttribute("title")===(f.title==null?null:f.title)&&C.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){j.splice(G,1);break t}}C=b.createElement(p),qn(C,p,f),b.head.appendChild(C);break;case"meta":if(j=Zb("meta","content",b).get(p+(f.content||""))){for(G=0;G<j.length;G++)if(C=j[G],C.getAttribute("content")===(f.content==null?null:""+f.content)&&C.getAttribute("name")===(f.name==null?null:f.name)&&C.getAttribute("property")===(f.property==null?null:f.property)&&C.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&C.getAttribute("charset")===(f.charSet==null?null:f.charSet)){j.splice(G,1);break t}}C=b.createElement(p),qn(C,p,f),b.head.appendChild(C);break;default:throw Error(r(468,p))}C[pt]=a,yn(C),p=C}a.stateNode=p}else Wb(b,a.type,a.stateNode);else a.stateNode=Qb(b,p,a.memoizedProps);else C!==p?(C===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):C.count--,p===null?Wb(b,a.type,a.stateNode):Qb(b,p,a.memoizedProps)):p===null&&a.stateNode!==null&&tv(a,a.memoizedProps,f.memoizedProps)}break;case 27:lr(o,a),sr(a),p&512&&(Sn||f===null||na(f,f.return)),f!==null&&p&4&&tv(a,a.memoizedProps,f.memoizedProps);break;case 5:if(lr(o,a),sr(a),p&512&&(Sn||f===null||na(f,f.return)),a.flags&32){b=a.stateNode;try{Nl(b,"")}catch(Ze){Ut(a,a.return,Ze)}}p&4&&a.stateNode!=null&&(b=a.memoizedProps,tv(a,b,f!==null?f.memoizedProps:b)),p&1024&&(av=!0);break;case 6:if(lr(o,a),sr(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,f=a.stateNode;try{f.nodeValue=p}catch(Ze){Ut(a,a.return,Ze)}}break;case 3:if(Hc=null,b=$r,$r=qc(o.containerInfo),lr(o,a),$r=b,sr(a),p&4&&f!==null&&f.memoizedState.isDehydrated)try{as(o.containerInfo)}catch(Ze){Ut(a,a.return,Ze)}av&&(av=!1,Wx(a));break;case 4:p=$r,$r=qc(a.stateNode.containerInfo),lr(o,a),sr(a),$r=p;break;case 12:lr(o,a),sr(a);break;case 31:lr(o,a),sr(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,kc(a,p)));break;case 13:lr(o,a),sr(a),a.child.flags&8192&&a.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Ac=Ue()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,kc(a,p)));break;case 22:b=a.memoizedState!==null;var te=f!==null&&f.memoizedState!==null,ve=Aa,ke=Sn;if(Aa=ve||b,Sn=ke||te,lr(o,a),Sn=ke,Aa=ve,sr(a),p&8192)e:for(o=a.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(f===null||te||Aa||Sn||al(a)),f=null,o=a;;){if(o.tag===5||o.tag===26){if(f===null){te=f=o;try{if(C=te.stateNode,b)j=C.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{G=te.stateNode;var Re=te.memoizedProps.style,ge=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;G.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(Ze){Ut(te,te.return,Ze)}}}else if(o.tag===6){if(f===null){te=o;try{te.stateNode.nodeValue=b?"":te.memoizedProps}catch(Ze){Ut(te,te.return,Ze)}}}else if(o.tag===18){if(f===null){te=o;try{var we=te.stateNode;b?Fb(we,!0):Fb(te.stateNode,!1)}catch(Ze){Ut(te,te.return,Ze)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;f===o&&(f=null),o=o.return}f===o&&(f=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=a.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,kc(a,f))));break;case 19:lr(o,a),sr(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,kc(a,p)));break;case 30:break;case 21:break;default:lr(o,a),sr(a)}}function sr(a){var o=a.flags;if(o&2){try{for(var f,p=a.return;p!==null;){if(Ux(p)){f=p;break}p=p.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var b=f.stateNode,C=nv(a);Tc(a,C,b);break;case 5:var j=f.stateNode;f.flags&32&&(Nl(j,""),f.flags&=-33);var G=nv(a);Tc(a,G,j);break;case 3:case 4:var te=f.stateNode.containerInfo,ve=nv(a);rv(a,ve,te);break;default:throw Error(r(161))}}catch(ke){Ut(a,a.return,ke)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function Wx(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;Wx(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ja(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Yx(a,o.alternate,o),o=o.sibling}function al(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:ii(4,o,o.return),al(o);break;case 1:na(o,o.return);var f=o.stateNode;typeof f.componentWillUnmount=="function"&&Fx(o,o.return,f),al(o);break;case 27:Co(o.stateNode);case 26:case 5:na(o,o.return),al(o);break;case 22:o.memoizedState===null&&al(o);break;case 30:al(o);break;default:al(o)}a=a.sibling}}function Da(a,o,f){for(f=f&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,b=a,C=o,j=C.flags;switch(C.tag){case 0:case 11:case 15:Da(b,C,f),vo(4,C);break;case 1:if(Da(b,C,f),p=C,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ve){Ut(p,p.return,ve)}if(p=C,b=p.updateQueue,b!==null){var G=p.stateNode;try{var te=b.shared.hiddenCallbacks;if(te!==null)for(b.shared.hiddenCallbacks=null,b=0;b<te.length;b++)R0(te[b],G)}catch(ve){Ut(p,p.return,ve)}}f&&j&64&&qx(C),po(C,C.return);break;case 27:Vx(C);case 26:case 5:Da(b,C,f),f&&p===null&&j&4&&Hx(C),po(C,C.return);break;case 12:Da(b,C,f);break;case 31:Da(b,C,f),f&&j&4&&Kx(b,C);break;case 13:Da(b,C,f),f&&j&4&&Qx(b,C);break;case 22:C.memoizedState===null&&Da(b,C,f),po(C,C.return);break;case 30:break;default:Da(b,C,f)}o=o.sibling}}function iv(a,o){var f=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==f&&(a!=null&&a.refCount++,f!=null&&eo(f))}function lv(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&eo(a))}function Xr(a,o,f,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Jx(a,o,f,p),o=o.sibling}function Jx(a,o,f,p){var b=o.flags;switch(o.tag){case 0:case 11:case 15:Xr(a,o,f,p),b&2048&&vo(9,o);break;case 1:Xr(a,o,f,p);break;case 3:Xr(a,o,f,p),b&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&eo(a)));break;case 12:if(b&2048){Xr(a,o,f,p),a=o.stateNode;try{var C=o.memoizedProps,j=C.id,G=C.onPostCommit;typeof G=="function"&&G(j,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(te){Ut(o,o.return,te)}}else Xr(a,o,f,p);break;case 31:Xr(a,o,f,p);break;case 13:Xr(a,o,f,p);break;case 23:break;case 22:C=o.stateNode,j=o.alternate,o.memoizedState!==null?C._visibility&2?Xr(a,o,f,p):mo(a,o):C._visibility&2?Xr(a,o,f,p):(C._visibility|=2,$l(a,o,f,p,(o.subtreeFlags&10256)!==0||!1)),b&2048&&iv(j,o);break;case 24:Xr(a,o,f,p),b&2048&&lv(o.alternate,o);break;default:Xr(a,o,f,p)}}function $l(a,o,f,p,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var C=a,j=o,G=f,te=p,ve=j.flags;switch(j.tag){case 0:case 11:case 15:$l(C,j,G,te,b),vo(8,j);break;case 23:break;case 22:var ke=j.stateNode;j.memoizedState!==null?ke._visibility&2?$l(C,j,G,te,b):mo(C,j):(ke._visibility|=2,$l(C,j,G,te,b)),b&&ve&2048&&iv(j.alternate,j);break;case 24:$l(C,j,G,te,b),b&&ve&2048&&lv(j.alternate,j);break;default:$l(C,j,G,te,b)}o=o.sibling}}function mo(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var f=a,p=o,b=p.flags;switch(p.tag){case 22:mo(f,p),b&2048&&iv(p.alternate,p);break;case 24:mo(f,p),b&2048&&lv(p.alternate,p);break;default:mo(f,p)}o=o.sibling}}var go=8192;function Xl(a,o,f){if(a.subtreeFlags&go)for(a=a.child;a!==null;)eb(a,o,f),a=a.sibling}function eb(a,o,f){switch(a.tag){case 26:Xl(a,o,f),a.flags&go&&a.memoizedState!==null&&kA(f,$r,a.memoizedState,a.memoizedProps);break;case 5:Xl(a,o,f);break;case 3:case 4:var p=$r;$r=qc(a.stateNode.containerInfo),Xl(a,o,f),$r=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=go,go=16777216,Xl(a,o,f),go=p):Xl(a,o,f));break;default:Xl(a,o,f)}}function tb(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function yo(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var p=o[f];Mn=p,rb(p,a)}tb(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)nb(a),a=a.sibling}function nb(a){switch(a.tag){case 0:case 11:case 15:yo(a),a.flags&2048&&ii(9,a,a.return);break;case 3:yo(a);break;case 12:yo(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Nc(a)):yo(a);break;default:yo(a)}}function Nc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var p=o[f];Mn=p,rb(p,a)}tb(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:ii(8,o,o.return),Nc(o);break;case 22:f=o.stateNode,f._visibility&2&&(f._visibility&=-3,Nc(o));break;default:Nc(o)}a=a.sibling}}function rb(a,o){for(;Mn!==null;){var f=Mn;switch(f.tag){case 0:case 11:case 15:ii(8,f,o);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:eo(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,Mn=p;else e:for(f=a;Mn!==null;){p=Mn;var b=p.sibling,C=p.return;if($x(p),p===f){Mn=null;break e}if(b!==null){b.return=C,Mn=b;break e}Mn=C}}}var FN={getCacheForType:function(a){var o=Pn(xn),f=o.data.get(a);return f===void 0&&(f=a(),o.data.set(a,f)),f},cacheSignal:function(){return Pn(xn).controller.signal}},HN=typeof WeakMap=="function"?WeakMap:Map,_t=0,Qt=null,Ct=null,kt=0,Ht=0,Cr=null,li=!1,Kl=!1,sv=!1,Ma=0,hn=0,si=0,il=0,ov=0,Tr=0,Ql=0,xo=null,or=null,uv=!1,Ac=0,ab=0,Rc=1/0,jc=null,oi=null,kn=0,ui=null,Zl=null,Ba=0,cv=0,dv=null,ib=null,bo=0,fv=null;function kr(){return(_t&2)!==0&&kt!==0?kt&-kt:H.T!==null?yv():lt()}function lb(){if(Tr===0)if((kt&536870912)===0||Rt){var a=oe;oe<<=1,(oe&3932160)===0&&(oe=262144),Tr=a}else Tr=536870912;return a=Sr.current,a!==null&&(a.flags|=32),Tr}function ur(a,o,f){(a===Qt&&(Ht===2||Ht===9)||a.cancelPendingCommit!==null)&&(Wl(a,0),ci(a,kt,Tr,!1)),Ke(a,f),((_t&2)===0||a!==Qt)&&(a===Qt&&((_t&2)===0&&(il|=f),hn===4&&ci(a,kt,Tr,!1)),ra(a))}function sb(a,o,f){if((_t&6)!==0)throw Error(r(327));var p=!f&&(o&127)===0&&(o&a.expiredLanes)===0||Se(a,o),b=p?GN(a,o):vv(a,o,!0),C=p;do{if(b===0){Kl&&!p&&ci(a,o,0,!1);break}else{if(f=a.current.alternate,C&&!UN(f)){b=vv(a,o,!1),C=!1;continue}if(b===2){if(C=o,a.errorRecoveryDisabledLanes&C)var j=0;else j=a.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){o=j;e:{var G=a;b=xo;var te=G.current.memoizedState.isDehydrated;if(te&&(Wl(G,j).flags|=256),j=vv(G,j,!1),j!==2){if(sv&&!te){G.errorRecoveryDisabledLanes|=C,il|=C,b=4;break e}C=or,or=b,C!==null&&(or===null?or=C:or.push.apply(or,C))}b=j}if(C=!1,b!==2)continue}}if(b===1){Wl(a,0),ci(a,o,0,!0);break}e:{switch(p=a,C=b,C){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:ci(p,o,Tr,!li);break e;case 2:or=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(b=Ac+300-Ue(),10<b)){if(ci(p,o,Tr,!li),Oe(p,0,!0)!==0)break e;Ba=o,p.timeoutHandle=Pb(ob.bind(null,p,f,or,jc,uv,o,Tr,il,Ql,li,C,"Throttled",-0,0),b);break e}ob(p,f,or,jc,uv,o,Tr,il,Ql,li,C,null,-0,0)}}break}while(!0);ra(a)}function ob(a,o,f,p,b,C,j,G,te,ve,ke,Re,ge,we){if(a.timeoutHandle=-1,Re=o.subtreeFlags,Re&8192||(Re&16785408)===16785408){Re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ya},eb(o,C,Re);var Ze=(C&62914560)===C?Ac-Ue():(C&4194048)===C?ab-Ue():0;if(Ze=NA(Re,Ze),Ze!==null){Ba=C,a.cancelPendingCommit=Ze(mb.bind(null,a,o,C,f,p,b,j,G,te,ke,Re,null,ge,we)),ci(a,C,j,!ve);return}}mb(a,o,C,f,p,b,j,G,te)}function UN(a){for(var o=a;;){var f=o.tag;if((f===0||f===11||f===15)&&o.flags&16384&&(f=o.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var b=f[p],C=b.getSnapshot;b=b.value;try{if(!br(C(),b))return!1}catch{return!1}}if(f=o.child,o.subtreeFlags&16384&&f!==null)f.return=o,o=f;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ci(a,o,f,p){o&=~ov,o&=~il,a.suspendedLanes|=o,a.pingedLanes&=~o,p&&(a.warmLanes|=o),p=a.expirationTimes;for(var b=o;0<b;){var C=31-Z(b),j=1<<C;p[C]=-1,b&=~j}f!==0&&it(a,f,o)}function Dc(){return(_t&6)===0?(wo(0),!1):!0}function hv(){if(Ct!==null){if(Ht===0)var a=Ct.return;else a=Ct,Sa=Qi=null,Rh(a),Hl=null,no=0,a=Ct;for(;a!==null;)Ix(a.alternate,a),a=a.return;Ct=null}}function Wl(a,o){var f=a.timeoutHandle;f!==-1&&(a.timeoutHandle=-1,uA(f)),f=a.cancelPendingCommit,f!==null&&(a.cancelPendingCommit=null,f()),Ba=0,hv(),Qt=a,Ct=f=ba(a.current,null),kt=o,Ht=0,Cr=null,li=!1,Kl=Se(a,o),sv=!1,Ql=Tr=ov=il=si=hn=0,or=xo=null,uv=!1,(o&8)!==0&&(o|=o&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=o;0<p;){var b=31-Z(p),C=1<<b;o|=a[b],p&=~C}return Ma=o,Wu(),f}function ub(a,o){yt=null,H.H=co,o===Fl||o===lc?(o=T0(),Ht=3):o===gh?(o=T0(),Ht=4):Ht=o===Gh?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Cr=o,Ct===null&&(hn=1,bc(a,Or(o,a.current)))}function cb(){var a=Sr.current;return a===null?!0:(kt&4194048)===kt?Pr===null:(kt&62914560)===kt||(kt&536870912)!==0?a===Pr:!1}function db(){var a=H.H;return H.H=co,a===null?co:a}function fb(){var a=H.A;return H.A=FN,a}function Mc(){hn=4,li||(kt&4194048)!==kt&&Sr.current!==null||(Kl=!0),(si&134217727)===0&&(il&134217727)===0||Qt===null||ci(Qt,kt,Tr,!1)}function vv(a,o,f){var p=_t;_t|=2;var b=db(),C=fb();(Qt!==a||kt!==o)&&(jc=null,Wl(a,o)),o=!1;var j=hn;e:do try{if(Ht!==0&&Ct!==null){var G=Ct,te=Cr;switch(Ht){case 8:hv(),j=6;break e;case 3:case 2:case 9:case 6:Sr.current===null&&(o=!0);var ve=Ht;if(Ht=0,Cr=null,Jl(a,G,te,ve),f&&Kl){j=0;break e}break;default:ve=Ht,Ht=0,Cr=null,Jl(a,G,te,ve)}}VN(),j=hn;break}catch(ke){ub(a,ke)}while(!0);return o&&a.shellSuspendCounter++,Sa=Qi=null,_t=p,H.H=b,H.A=C,Ct===null&&(Qt=null,kt=0,Wu()),j}function VN(){for(;Ct!==null;)hb(Ct)}function GN(a,o){var f=_t;_t|=2;var p=db(),b=fb();Qt!==a||kt!==o?(jc=null,Rc=Ue()+500,Wl(a,o)):Kl=Se(a,o);e:do try{if(Ht!==0&&Ct!==null){o=Ct;var C=Cr;t:switch(Ht){case 1:Ht=0,Cr=null,Jl(a,o,C,1);break;case 2:case 9:if(E0(C)){Ht=0,Cr=null,vb(o);break}o=function(){Ht!==2&&Ht!==9||Qt!==a||(Ht=7),ra(a)},C.then(o,o);break e;case 3:Ht=7;break e;case 4:Ht=5;break e;case 7:E0(C)?(Ht=0,Cr=null,vb(o)):(Ht=0,Cr=null,Jl(a,o,C,7));break;case 5:var j=null;switch(Ct.tag){case 26:j=Ct.memoizedState;case 5:case 27:var G=Ct;if(j?Jb(j):G.stateNode.complete){Ht=0,Cr=null;var te=G.sibling;if(te!==null)Ct=te;else{var ve=G.return;ve!==null?(Ct=ve,Bc(ve)):Ct=null}break t}}Ht=0,Cr=null,Jl(a,o,C,5);break;case 6:Ht=0,Cr=null,Jl(a,o,C,6);break;case 8:hv(),hn=6;break e;default:throw Error(r(462))}}YN();break}catch(ke){ub(a,ke)}while(!0);return Sa=Qi=null,H.H=p,H.A=b,_t=f,Ct!==null?0:(Qt=null,kt=0,Wu(),hn)}function YN(){for(;Ct!==null&&!We();)hb(Ct)}function hb(a){var o=_x(a.alternate,a,Ma);a.memoizedProps=a.pendingProps,o===null?Bc(a):Ct=o}function vb(a){var o=a,f=o.alternate;switch(o.tag){case 15:case 0:o=Dx(f,o,o.pendingProps,o.type,void 0,kt);break;case 11:o=Dx(f,o,o.pendingProps,o.type.render,o.ref,kt);break;case 5:Rh(o);default:Ix(f,o),o=Ct=f0(o,Ma),o=_x(f,o,Ma)}a.memoizedProps=a.pendingProps,o===null?Bc(a):Ct=o}function Jl(a,o,f,p){Sa=Qi=null,Rh(o),Hl=null,no=0;var b=o.return;try{if(ON(a,b,o,f,kt)){hn=1,bc(a,Or(f,a.current)),Ct=null;return}}catch(C){if(b!==null)throw Ct=b,C;hn=1,bc(a,Or(f,a.current)),Ct=null;return}o.flags&32768?(Rt||p===1?a=!0:Kl||(kt&536870912)!==0?a=!1:(li=a=!0,(p===2||p===9||p===3||p===6)&&(p=Sr.current,p!==null&&p.tag===13&&(p.flags|=16384))),pb(o,a)):Bc(o)}function Bc(a){var o=a;do{if((o.flags&32768)!==0){pb(o,li);return}a=o.return;var f=_N(o.alternate,o,Ma);if(f!==null){Ct=f;return}if(o=o.sibling,o!==null){Ct=o;return}Ct=o=a}while(o!==null);hn===0&&(hn=5)}function pb(a,o){do{var f=PN(a.alternate,a);if(f!==null){f.flags&=32767,Ct=f;return}if(f=a.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!o&&(a=a.sibling,a!==null)){Ct=a;return}Ct=a=f}while(a!==null);hn=6,Ct=null}function mb(a,o,f,p,b,C,j,G,te){a.cancelPendingCommit=null;do Oc();while(kn!==0);if((_t&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(C=o.lanes|o.childLanes,C|=nh,et(a,f,C,j,G,te),a===Qt&&(Ct=Qt=null,kt=0),Zl=o,ui=a,Ba=f,cv=C,dv=b,ib=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,QN(_e,function(){return wb(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=H.T,H.T=null,b=V.p,V.p=2,j=_t,_t|=4;try{IN(a,o,f)}finally{_t=j,V.p=b,H.T=p}}kn=1,gb(),yb(),xb()}}function gb(){if(kn===1){kn=0;var a=ui,o=Zl,f=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||f){f=H.T,H.T=null;var p=V.p;V.p=2;var b=_t;_t|=4;try{Zx(o,a);var C=kv,j=r0(a.containerInfo),G=C.focusedElem,te=C.selectionRange;if(j!==G&&G&&G.ownerDocument&&n0(G.ownerDocument.documentElement,G)){if(te!==null&&Zf(G)){var ve=te.start,ke=te.end;if(ke===void 0&&(ke=ve),"selectionStart"in G)G.selectionStart=ve,G.selectionEnd=Math.min(ke,G.value.length);else{var Re=G.ownerDocument||document,ge=Re&&Re.defaultView||window;if(ge.getSelection){var we=ge.getSelection(),Ze=G.textContent.length,ut=Math.min(te.start,Ze),$t=te.end===void 0?ut:Math.min(te.end,Ze);!we.extend&&ut>$t&&(j=$t,$t=ut,ut=j);var se=t0(G,ut),ae=t0(G,$t);if(se&&ae&&(we.rangeCount!==1||we.anchorNode!==se.node||we.anchorOffset!==se.offset||we.focusNode!==ae.node||we.focusOffset!==ae.offset)){var fe=Re.createRange();fe.setStart(se.node,se.offset),we.removeAllRanges(),ut>$t?(we.addRange(fe),we.extend(ae.node,ae.offset)):(fe.setEnd(ae.node,ae.offset),we.addRange(fe))}}}}for(Re=[],we=G;we=we.parentNode;)we.nodeType===1&&Re.push({element:we,left:we.scrollLeft,top:we.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Re.length;G++){var Ne=Re[G];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}Yc=!!Tv,kv=Tv=null}finally{_t=b,V.p=p,H.T=f}}a.current=o,kn=2}}function yb(){if(kn===2){kn=0;var a=ui,o=Zl,f=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||f){f=H.T,H.T=null;var p=V.p;V.p=2;var b=_t;_t|=4;try{Yx(a,o.alternate,o)}finally{_t=b,V.p=p,H.T=f}}kn=3}}function xb(){if(kn===4||kn===3){kn=0,at();var a=ui,o=Zl,f=Ba,p=ib;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?kn=5:(kn=0,Zl=ui=null,bb(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(oi=null),At(f),o=o.stateNode,U&&typeof U.onCommitFiberRoot=="function")try{U.onCommitFiberRoot(Y,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=H.T,b=V.p,V.p=2,H.T=null;try{for(var C=a.onRecoverableError,j=0;j<p.length;j++){var G=p[j];C(G.value,{componentStack:G.stack})}}finally{H.T=o,V.p=b}}(Ba&3)!==0&&Oc(),ra(a),b=a.pendingLanes,(f&261930)!==0&&(b&42)!==0?a===fv?bo++:(bo=0,fv=a):bo=0,wo(0)}}function bb(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,eo(o)))}function Oc(){return gb(),yb(),xb(),wb()}function wb(){if(kn!==5)return!1;var a=ui,o=cv;cv=0;var f=At(Ba),p=H.T,b=V.p;try{V.p=32>f?32:f,H.T=null,f=dv,dv=null;var C=ui,j=Ba;if(kn=0,Zl=ui=null,Ba=0,(_t&6)!==0)throw Error(r(331));var G=_t;if(_t|=4,nb(C.current),Jx(C,C.current,j,f),_t=G,wo(0,!1),U&&typeof U.onPostCommitFiberRoot=="function")try{U.onPostCommitFiberRoot(Y,C)}catch{}return!0}finally{V.p=b,H.T=p,bb(a,o)}}function Sb(a,o,f){o=Or(f,o),o=Vh(a.stateNode,o,2),a=ni(a,o,2),a!==null&&(Ke(a,2),ra(a))}function Ut(a,o,f){if(a.tag===3)Sb(a,a,f);else for(;o!==null;){if(o.tag===3){Sb(o,a,f);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(oi===null||!oi.has(p))){a=Or(f,a),f=Ex(2),p=ni(o,f,2),p!==null&&(Cx(f,p,o,a),Ke(p,2),ra(p));break}}o=o.return}}function pv(a,o,f){var p=a.pingCache;if(p===null){p=a.pingCache=new HN;var b=new Set;p.set(o,b)}else b=p.get(o),b===void 0&&(b=new Set,p.set(o,b));b.has(f)||(sv=!0,b.add(f),a=$N.bind(null,a,o,f),o.then(a,a))}function $N(a,o,f){var p=a.pingCache;p!==null&&p.delete(o),a.pingedLanes|=a.suspendedLanes&f,a.warmLanes&=~f,Qt===a&&(kt&f)===f&&(hn===4||hn===3&&(kt&62914560)===kt&&300>Ue()-Ac?(_t&2)===0&&Wl(a,0):ov|=f,Ql===kt&&(Ql=0)),ra(a)}function Eb(a,o){o===0&&(o=Be()),a=$i(a,o),a!==null&&(Ke(a,o),ra(a))}function XN(a){var o=a.memoizedState,f=0;o!==null&&(f=o.retryLane),Eb(a,f)}function KN(a,o){var f=0;switch(a.tag){case 31:case 13:var p=a.stateNode,b=a.memoizedState;b!==null&&(f=b.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),Eb(a,f)}function QN(a,o){return Pe(a,o)}var Lc=null,es=null,mv=!1,zc=!1,gv=!1,di=0;function ra(a){a!==es&&a.next===null&&(es===null?Lc=es=a:es=es.next=a),zc=!0,mv||(mv=!0,WN())}function wo(a,o){if(!gv&&zc){gv=!0;do for(var f=!1,p=Lc;p!==null;){if(a!==0){var b=p.pendingLanes;if(b===0)var C=0;else{var j=p.suspendedLanes,G=p.pingedLanes;C=(1<<31-Z(42|a)+1)-1,C&=b&~(j&~G),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(f=!0,Nb(p,C))}else C=kt,C=Oe(p,p===Qt?C:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(C&3)===0||Se(p,C)||(f=!0,Nb(p,C));p=p.next}while(f);gv=!1}}function ZN(){Cb()}function Cb(){zc=mv=!1;var a=0;di!==0&&oA()&&(a=di);for(var o=Ue(),f=null,p=Lc;p!==null;){var b=p.next,C=Tb(p,o);C===0?(p.next=null,f===null?Lc=b:f.next=b,b===null&&(es=f)):(f=p,(a!==0||(C&3)!==0)&&(zc=!0)),p=b}kn!==0&&kn!==5||wo(a),di!==0&&(di=0)}function Tb(a,o){for(var f=a.suspendedLanes,p=a.pingedLanes,b=a.expirationTimes,C=a.pendingLanes&-62914561;0<C;){var j=31-Z(C),G=1<<j,te=b[j];te===-1?((G&f)===0||(G&p)!==0)&&(b[j]=Me(G,o)):te<=o&&(a.expiredLanes|=G),C&=~G}if(o=Qt,f=kt,f=Oe(a,a===o?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,f===0||a===o&&(Ht===2||Ht===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&Xe(p),a.callbackNode=null,a.callbackPriority=0;if((f&3)===0||Se(a,f)){if(o=f&-f,o===a.callbackPriority)return o;switch(p!==null&&Xe(p),At(f)){case 2:case 8:f=Ae;break;case 32:f=_e;break;case 268435456:f=qe;break;default:f=_e}return p=kb.bind(null,a),f=Pe(f,p),a.callbackPriority=o,a.callbackNode=f,o}return p!==null&&p!==null&&Xe(p),a.callbackPriority=2,a.callbackNode=null,2}function kb(a,o){if(kn!==0&&kn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var f=a.callbackNode;if(Oc()&&a.callbackNode!==f)return null;var p=kt;return p=Oe(a,a===Qt?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(sb(a,p,o),Tb(a,Ue()),a.callbackNode!=null&&a.callbackNode===f?kb.bind(null,a):null)}function Nb(a,o){if(Oc())return null;sb(a,o,!0)}function WN(){cA(function(){(_t&6)!==0?Pe(he,ZN):Cb()})}function yv(){if(di===0){var a=Il;a===0&&(a=me,me<<=1,(me&261888)===0&&(me=256)),di=a}return di}function Ab(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Vu(""+a)}function Rb(a,o){var f=o.ownerDocument.createElement("input");return f.name=o.name,f.value=o.value,a.id&&f.setAttribute("form",a.id),o.parentNode.insertBefore(f,o),a=new FormData(a),f.parentNode.removeChild(f),a}function JN(a,o,f,p,b){if(o==="submit"&&f&&f.stateNode===b){var C=Ab((b[Mt]||null).action),j=p.submitter;j&&(o=(o=j[Mt]||null)?Ab(o.formAction):j.getAttribute("formAction"),o!==null&&(C=o,j=null));var G=new Xu("action","action",null,p,b);a.push({event:G,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(di!==0){var te=j?Rb(b,j):new FormData(b);Ph(f,{pending:!0,data:te,method:b.method,action:C},null,te)}}else typeof C=="function"&&(G.preventDefault(),te=j?Rb(b,j):new FormData(b),Ph(f,{pending:!0,data:te,method:b.method,action:C},C,te))},currentTarget:b}]})}}for(var xv=0;xv<th.length;xv++){var bv=th[xv],eA=bv.toLowerCase(),tA=bv[0].toUpperCase()+bv.slice(1);Yr(eA,"on"+tA)}Yr(l0,"onAnimationEnd"),Yr(s0,"onAnimationIteration"),Yr(o0,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(gN,"onTransitionRun"),Yr(yN,"onTransitionStart"),Yr(xN,"onTransitionCancel"),Yr(u0,"onTransitionEnd"),Jr("onMouseEnter",["mouseout","mouseover"]),Jr("onMouseLeave",["mouseout","mouseover"]),Jr("onPointerEnter",["pointerout","pointerover"]),Jr("onPointerLeave",["pointerout","pointerover"]),xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(So));function jb(a,o){o=(o&4)!==0;for(var f=0;f<a.length;f++){var p=a[f],b=p.event;p=p.listeners;e:{var C=void 0;if(o)for(var j=p.length-1;0<=j;j--){var G=p[j],te=G.instance,ve=G.currentTarget;if(G=G.listener,te!==C&&b.isPropagationStopped())break e;C=G,b.currentTarget=ve;try{C(b)}catch(ke){Zu(ke)}b.currentTarget=null,C=te}else for(j=0;j<p.length;j++){if(G=p[j],te=G.instance,ve=G.currentTarget,G=G.listener,te!==C&&b.isPropagationStopped())break e;C=G,b.currentTarget=ve;try{C(b)}catch(ke){Zu(ke)}b.currentTarget=null,C=te}}}}function Tt(a,o){var f=o[Ft];f===void 0&&(f=o[Ft]=new Set);var p=a+"__bubble";f.has(p)||(Db(o,a,2,!1),f.add(p))}function wv(a,o,f){var p=0;o&&(p|=4),Db(f,a,p,o)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Sv(a){if(!a[_c]){a[_c]=!0,Iu.forEach(function(f){f!=="selectionchange"&&(nA.has(f)||wv(f,!1,a),wv(f,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[_c]||(o[_c]=!0,wv("selectionchange",!1,o))}}function Db(a,o,f,p){switch(l1(o)){case 2:var b=jA;break;case 8:b=DA;break;default:b=_v}f=b.bind(null,o,f,a),b=void 0,!Hf||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),p?b!==void 0?a.addEventListener(o,f,{capture:!0,passive:b}):a.addEventListener(o,f,!0):b!==void 0?a.addEventListener(o,f,{passive:b}):a.addEventListener(o,f,!1)}function Ev(a,o,f,p,b){var C=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var j=p.tag;if(j===3||j===4){var G=p.stateNode.containerInfo;if(G===b)break;if(j===4)for(j=p.return;j!==null;){var te=j.tag;if((te===3||te===4)&&j.stateNode.containerInfo===b)return;j=j.return}for(;G!==null;){if(j=Ga(G),j===null)return;if(te=j.tag,te===5||te===6||te===26||te===27){p=C=j;continue e}G=G.parentNode}}p=p.return}zy(function(){var ve=C,ke=qf(f),Re=[];e:{var ge=c0.get(a);if(ge!==void 0){var we=Xu,Ze=a;switch(a){case"keypress":if(Yu(f)===0)break e;case"keydown":case"keyup":we=Kk;break;case"focusin":Ze="focus",we=Yf;break;case"focusout":Ze="blur",we=Yf;break;case"beforeblur":case"afterblur":we=Yf;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=_k;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=Wk;break;case l0:case s0:case o0:we=qk;break;case u0:we=eN;break;case"scroll":case"scrollend":we=Lk;break;case"wheel":we=nN;break;case"copy":case"cut":case"paste":we=Hk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Fy;break;case"toggle":case"beforetoggle":we=aN}var ut=(o&4)!==0,$t=!ut&&(a==="scroll"||a==="scrollend"),se=ut?ge!==null?ge+"Capture":null:ge;ut=[];for(var ae=ve,fe;ae!==null;){var Ne=ae;if(fe=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||fe===null||se===null||(Ne=Us(ae,se),Ne!=null&&ut.push(Eo(ae,Ne,fe))),$t)break;ae=ae.return}0<ut.length&&(ge=new we(ge,Ze,null,f,ke),Re.push({event:ge,listeners:ut}))}}if((o&7)===0){e:{if(ge=a==="mouseover"||a==="pointerover",we=a==="mouseout"||a==="pointerout",ge&&f!==If&&(Ze=f.relatedTarget||f.fromElement)&&(Ga(Ze)||Ze[ln]))break e;if((we||ge)&&(ge=ke.window===ke?ke:(ge=ke.ownerDocument)?ge.defaultView||ge.parentWindow:window,we?(Ze=f.relatedTarget||f.toElement,we=ve,Ze=Ze?Ga(Ze):null,Ze!==null&&($t=l(Ze),ut=Ze.tag,Ze!==$t||ut!==5&&ut!==27&&ut!==6)&&(Ze=null)):(we=null,Ze=ve),we!==Ze)){if(ut=Iy,Ne="onMouseLeave",se="onMouseEnter",ae="mouse",(a==="pointerout"||a==="pointerover")&&(ut=Fy,Ne="onPointerLeave",se="onPointerEnter",ae="pointer"),$t=we==null?ge:Ui(we),fe=Ze==null?ge:Ui(Ze),ge=new ut(Ne,ae+"leave",we,f,ke),ge.target=$t,ge.relatedTarget=fe,Ne=null,Ga(ke)===ve&&(ut=new ut(se,ae+"enter",Ze,f,ke),ut.target=fe,ut.relatedTarget=$t,Ne=ut),$t=Ne,we&&Ze)t:{for(ut=rA,se=we,ae=Ze,fe=0,Ne=se;Ne;Ne=ut(Ne))fe++;Ne=0;for(var rt=ae;rt;rt=ut(rt))Ne++;for(;0<fe-Ne;)se=ut(se),fe--;for(;0<Ne-fe;)ae=ut(ae),Ne--;for(;fe--;){if(se===ae||ae!==null&&se===ae.alternate){ut=se;break t}se=ut(se),ae=ut(ae)}ut=null}else ut=null;we!==null&&Mb(Re,ge,we,ut,!1),Ze!==null&&$t!==null&&Mb(Re,$t,Ze,ut,!0)}}e:{if(ge=ve?Ui(ve):window,we=ge.nodeName&&ge.nodeName.toLowerCase(),we==="select"||we==="input"&&ge.type==="file")var Bt=Ky;else if($y(ge))if(Qy)Bt=vN;else{Bt=fN;var Je=dN}else we=ge.nodeName,!we||we.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?ve&&Pf(ve.elementType)&&(Bt=Ky):Bt=hN;if(Bt&&(Bt=Bt(a,ve))){Xy(Re,Bt,f,ke);break e}Je&&Je(a,ge,ve),a==="focusout"&&ve&&ge.type==="number"&&ve.memoizedProps.value!=null&&_f(ge,"number",ge.value)}switch(Je=ve?Ui(ve):window,a){case"focusin":($y(Je)||Je.contentEditable==="true")&&(Dl=Je,Wf=ve,Zs=null);break;case"focusout":Zs=Wf=Dl=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,a0(Re,f,ke);break;case"selectionchange":if(mN)break;case"keydown":case"keyup":a0(Re,f,ke)}var bt;if(Xf)e:{switch(a){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else jl?Gy(a,f)&&(Nt="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Nt="onCompositionStart");Nt&&(Hy&&f.locale!=="ko"&&(jl||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&jl&&(bt=_y()):(Ka=ke,Uf="value"in Ka?Ka.value:Ka.textContent,jl=!0)),Je=Pc(ve,Nt),0<Je.length&&(Nt=new qy(Nt,a,null,f,ke),Re.push({event:Nt,listeners:Je}),bt?Nt.data=bt:(bt=Yy(f),bt!==null&&(Nt.data=bt)))),(bt=lN?sN(a,f):oN(a,f))&&(Nt=Pc(ve,"onBeforeInput"),0<Nt.length&&(Je=new qy("onBeforeInput","beforeinput",null,f,ke),Re.push({event:Je,listeners:Nt}),Je.data=bt)),JN(Re,a,ve,f,ke)}jb(Re,o)})}function Eo(a,o,f){return{instance:a,listener:o,currentTarget:f}}function Pc(a,o){for(var f=o+"Capture",p=[];a!==null;){var b=a,C=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||C===null||(b=Us(a,f),b!=null&&p.unshift(Eo(a,b,C)),b=Us(a,o),b!=null&&p.push(Eo(a,b,C))),a.tag===3)return p;a=a.return}return[]}function rA(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Mb(a,o,f,p,b){for(var C=o._reactName,j=[];f!==null&&f!==p;){var G=f,te=G.alternate,ve=G.stateNode;if(G=G.tag,te!==null&&te===p)break;G!==5&&G!==26&&G!==27||ve===null||(te=ve,b?(ve=Us(f,C),ve!=null&&j.unshift(Eo(f,ve,te))):b||(ve=Us(f,C),ve!=null&&j.push(Eo(f,ve,te)))),f=f.return}j.length!==0&&a.push({event:o,listeners:j})}var aA=/\r\n?/g,iA=/\u0000|\uFFFD/g;function Bb(a){return(typeof a=="string"?a:""+a).replace(aA,`
`).replace(iA,"")}function Ob(a,o){return o=Bb(o),Bb(a)===o}function Yt(a,o,f,p,b,C){switch(f){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Nl(a,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Nl(a,""+p);break;case"className":Xa(a,"class",p);break;case"tabIndex":Xa(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Xa(a,f,p);break;case"style":Oy(a,p,C);break;case"data":if(o!=="object"){Xa(a,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||f!=="href")){a.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(f);break}p=Vu(""+p),a.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(f==="formAction"?(o!=="input"&&Yt(a,o,"name",b.name,b,null),Yt(a,o,"formEncType",b.formEncType,b,null),Yt(a,o,"formMethod",b.formMethod,b,null),Yt(a,o,"formTarget",b.formTarget,b,null)):(Yt(a,o,"encType",b.encType,b,null),Yt(a,o,"method",b.method,b,null),Yt(a,o,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(f);break}p=Vu(""+p),a.setAttribute(f,p);break;case"onClick":p!=null&&(a.onclick=ya);break;case"onScroll":p!=null&&Tt("scroll",a);break;case"onScrollEnd":p!=null&&Tt("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}f=Vu(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(f,""+p):a.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(f,""):a.removeAttribute(f);break;case"capture":case"download":p===!0?a.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(f,p):a.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(f,p):a.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(f):a.setAttribute(f,p);break;case"popover":Tt("beforetoggle",a),Tt("toggle",a),Gn(a,"popover",p);break;case"xlinkActuate":Dr(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Dr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Dr(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Dr(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Dr(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Dr(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Dr(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Dr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Dr(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Gn(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Bk.get(f)||f,Gn(a,f,p))}}function Cv(a,o,f,p,b,C){switch(f){case"style":Oy(a,p,C);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"children":typeof p=="string"?Nl(a,p):(typeof p=="number"||typeof p=="bigint")&&Nl(a,""+p);break;case"onScroll":p!=null&&Tt("scroll",a);break;case"onScrollEnd":p!=null&&Tt("scrollend",a);break;case"onClick":p!=null&&(a.onclick=ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qu.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(b=f.endsWith("Capture"),o=f.slice(2,b?f.length-7:void 0),C=a[Mt]||null,C=C!=null?C[f]:null,typeof C=="function"&&a.removeEventListener(o,C,b),typeof p=="function")){typeof C!="function"&&C!==null&&(f in a?a[f]=null:a.hasAttribute(f)&&a.removeAttribute(f)),a.addEventListener(o,p,b);break e}f in a?a[f]=p:p===!0?a.setAttribute(f,""):Gn(a,f,p)}}}function qn(a,o,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tt("error",a),Tt("load",a);var p=!1,b=!1,C;for(C in f)if(f.hasOwnProperty(C)){var j=f[C];if(j!=null)switch(C){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Yt(a,o,C,j,f,null)}}b&&Yt(a,o,"srcSet",f.srcSet,f,null),p&&Yt(a,o,"src",f.src,f,null);return;case"input":Tt("invalid",a);var G=C=j=b=null,te=null,ve=null;for(p in f)if(f.hasOwnProperty(p)){var ke=f[p];if(ke!=null)switch(p){case"name":b=ke;break;case"type":j=ke;break;case"checked":te=ke;break;case"defaultChecked":ve=ke;break;case"value":C=ke;break;case"defaultValue":G=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,o));break;default:Yt(a,o,p,ke,f,null)}}jy(a,C,G,te,ve,j,b,!1);return;case"select":Tt("invalid",a),p=j=C=null;for(b in f)if(f.hasOwnProperty(b)&&(G=f[b],G!=null))switch(b){case"value":C=G;break;case"defaultValue":j=G;break;case"multiple":p=G;default:Yt(a,o,b,G,f,null)}o=C,f=j,a.multiple=!!p,o!=null?kl(a,!!p,o,!1):f!=null&&kl(a,!!p,f,!0);return;case"textarea":Tt("invalid",a),C=b=p=null;for(j in f)if(f.hasOwnProperty(j)&&(G=f[j],G!=null))switch(j){case"value":p=G;break;case"defaultValue":b=G;break;case"children":C=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:Yt(a,o,j,G,f,null)}My(a,p,b,C);return;case"option":for(te in f)if(f.hasOwnProperty(te)&&(p=f[te],p!=null))switch(te){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Yt(a,o,te,p,f,null)}return;case"dialog":Tt("beforetoggle",a),Tt("toggle",a),Tt("cancel",a),Tt("close",a);break;case"iframe":case"object":Tt("load",a);break;case"video":case"audio":for(p=0;p<So.length;p++)Tt(So[p],a);break;case"image":Tt("error",a),Tt("load",a);break;case"details":Tt("toggle",a);break;case"embed":case"source":case"link":Tt("error",a),Tt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in f)if(f.hasOwnProperty(ve)&&(p=f[ve],p!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Yt(a,o,ve,p,f,null)}return;default:if(Pf(o)){for(ke in f)f.hasOwnProperty(ke)&&(p=f[ke],p!==void 0&&Cv(a,o,ke,p,f,void 0));return}}for(G in f)f.hasOwnProperty(G)&&(p=f[G],p!=null&&Yt(a,o,G,p,f,null))}function lA(a,o,f,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,C=null,j=null,G=null,te=null,ve=null,ke=null;for(we in f){var Re=f[we];if(f.hasOwnProperty(we)&&Re!=null)switch(we){case"checked":break;case"value":break;case"defaultValue":te=Re;default:p.hasOwnProperty(we)||Yt(a,o,we,null,p,Re)}}for(var ge in p){var we=p[ge];if(Re=f[ge],p.hasOwnProperty(ge)&&(we!=null||Re!=null))switch(ge){case"type":C=we;break;case"name":b=we;break;case"checked":ve=we;break;case"defaultChecked":ke=we;break;case"value":j=we;break;case"defaultValue":G=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,o));break;default:we!==Re&&Yt(a,o,ge,we,p,Re)}}zf(a,j,G,te,ve,ke,C,b);return;case"select":we=j=G=ge=null;for(C in f)if(te=f[C],f.hasOwnProperty(C)&&te!=null)switch(C){case"value":break;case"multiple":we=te;default:p.hasOwnProperty(C)||Yt(a,o,C,null,p,te)}for(b in p)if(C=p[b],te=f[b],p.hasOwnProperty(b)&&(C!=null||te!=null))switch(b){case"value":ge=C;break;case"defaultValue":G=C;break;case"multiple":j=C;default:C!==te&&Yt(a,o,b,C,p,te)}o=G,f=j,p=we,ge!=null?kl(a,!!f,ge,!1):!!p!=!!f&&(o!=null?kl(a,!!f,o,!0):kl(a,!!f,f?[]:"",!1));return;case"textarea":we=ge=null;for(G in f)if(b=f[G],f.hasOwnProperty(G)&&b!=null&&!p.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Yt(a,o,G,null,p,b)}for(j in p)if(b=p[j],C=f[j],p.hasOwnProperty(j)&&(b!=null||C!=null))switch(j){case"value":ge=b;break;case"defaultValue":we=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==C&&Yt(a,o,j,b,p,C)}Dy(a,ge,we);return;case"option":for(var Ze in f)if(ge=f[Ze],f.hasOwnProperty(Ze)&&ge!=null&&!p.hasOwnProperty(Ze))switch(Ze){case"selected":a.selected=!1;break;default:Yt(a,o,Ze,null,p,ge)}for(te in p)if(ge=p[te],we=f[te],p.hasOwnProperty(te)&&ge!==we&&(ge!=null||we!=null))switch(te){case"selected":a.selected=ge&&typeof ge!="function"&&typeof ge!="symbol";break;default:Yt(a,o,te,ge,p,we)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in f)ge=f[ut],f.hasOwnProperty(ut)&&ge!=null&&!p.hasOwnProperty(ut)&&Yt(a,o,ut,null,p,ge);for(ve in p)if(ge=p[ve],we=f[ve],p.hasOwnProperty(ve)&&ge!==we&&(ge!=null||we!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,o));break;default:Yt(a,o,ve,ge,p,we)}return;default:if(Pf(o)){for(var $t in f)ge=f[$t],f.hasOwnProperty($t)&&ge!==void 0&&!p.hasOwnProperty($t)&&Cv(a,o,$t,void 0,p,ge);for(ke in p)ge=p[ke],we=f[ke],!p.hasOwnProperty(ke)||ge===we||ge===void 0&&we===void 0||Cv(a,o,ke,ge,p,we);return}}for(var se in f)ge=f[se],f.hasOwnProperty(se)&&ge!=null&&!p.hasOwnProperty(se)&&Yt(a,o,se,null,p,ge);for(Re in p)ge=p[Re],we=f[Re],!p.hasOwnProperty(Re)||ge===we||ge==null&&we==null||Yt(a,o,Re,ge,p,we)}function Lb(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sA(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,f=performance.getEntriesByType("resource"),p=0;p<f.length;p++){var b=f[p],C=b.transferSize,j=b.initiatorType,G=b.duration;if(C&&G&&Lb(j)){for(j=0,G=b.responseEnd,p+=1;p<f.length;p++){var te=f[p],ve=te.startTime;if(ve>G)break;var ke=te.transferSize,Re=te.initiatorType;ke&&Lb(Re)&&(te=te.responseEnd,j+=ke*(te<G?1:(G-ve)/(te-ve)))}if(--p,o+=8*(C+j)/(b.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Tv=null,kv=null;function Ic(a){return a.nodeType===9?a:a.ownerDocument}function zb(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _b(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Nv(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Av=null;function oA(){var a=window.event;return a&&a.type==="popstate"?a===Av?!1:(Av=a,!0):(Av=null,!1)}var Pb=typeof setTimeout=="function"?setTimeout:void 0,uA=typeof clearTimeout=="function"?clearTimeout:void 0,Ib=typeof Promise=="function"?Promise:void 0,cA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ib<"u"?function(a){return Ib.resolve(null).then(a).catch(dA)}:Pb;function dA(a){setTimeout(function(){throw a})}function fi(a){return a==="head"}function qb(a,o){var f=o,p=0;do{var b=f.nextSibling;if(a.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"||f==="/&"){if(p===0){a.removeChild(b),as(o);return}p--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")p++;else if(f==="html")Co(a.ownerDocument.documentElement);else if(f==="head"){f=a.ownerDocument.head,Co(f);for(var C=f.firstChild;C;){var j=C.nextSibling,G=C.nodeName;C[sn]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=j}}else f==="body"&&Co(a.ownerDocument.body);f=b}while(f);as(o)}function Fb(a,o){var f=a;a=0;do{var p=f.nextSibling;if(f.nodeType===1?o?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(o?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),p&&p.nodeType===8)if(f=p.data,f==="/$"){if(a===0)break;a--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||a++;f=p}while(f)}function Rv(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var f=o;switch(o=o.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Rv(f),zn(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}a.removeChild(f)}}function fA(a,o,f,p){for(;a.nodeType===1;){var b=f;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[sn])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(C=a.getAttribute("rel"),C==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(C!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(C=a.getAttribute("src"),(C!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&C&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var C=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===C)return a}else return a;if(a=Ir(a.nextSibling),a===null)break}return null}function hA(a,o,f){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!f||(a=Ir(a.nextSibling),a===null))return null;return a}function Hb(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Ir(a.nextSibling),a===null))return null;return a}function jv(a){return a.data==="$?"||a.data==="$~"}function Dv(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function vA(a,o){var f=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||f.readyState!=="loading")o();else{var p=function(){o(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function Ir(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Mv=null;function Ub(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"||f==="/&"){if(o===0)return Ir(a.nextSibling);o--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||o++}a=a.nextSibling}return null}function Vb(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(o===0)return a;o--}else f!=="/$"&&f!=="/&"||o++}a=a.previousSibling}return null}function Gb(a,o,f){switch(o=Ic(f),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Co(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);zn(a)}var qr=new Map,Yb=new Set;function qc(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Oa=V.d;V.d={f:pA,r:mA,D:gA,C:yA,L:xA,m:bA,X:SA,S:wA,M:EA};function pA(){var a=Oa.f(),o=Dc();return a||o}function mA(a){var o=Ya(a);o!==null&&o.tag===5&&o.type==="form"?ux(o):Oa.r(a)}var ts=typeof document>"u"?null:document;function $b(a,o,f){var p=ts;if(p&&typeof o=="string"&&o){var b=Mr(o);b='link[rel="'+a+'"][href="'+b+'"]',typeof f=="string"&&(b+='[crossorigin="'+f+'"]'),Yb.has(b)||(Yb.add(b),a={rel:a,crossOrigin:f,href:o},p.querySelector(b)===null&&(o=p.createElement("link"),qn(o,"link",a),yn(o),p.head.appendChild(o)))}}function gA(a){Oa.D(a),$b("dns-prefetch",a,null)}function yA(a,o){Oa.C(a,o),$b("preconnect",a,o)}function xA(a,o,f){Oa.L(a,o,f);var p=ts;if(p&&a&&o){var b='link[rel="preload"][as="'+Mr(o)+'"]';o==="image"&&f&&f.imageSrcSet?(b+='[imagesrcset="'+Mr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(b+='[imagesizes="'+Mr(f.imageSizes)+'"]')):b+='[href="'+Mr(a)+'"]';var C=b;switch(o){case"style":C=ns(a);break;case"script":C=rs(a)}qr.has(C)||(a=v({rel:"preload",href:o==="image"&&f&&f.imageSrcSet?void 0:a,as:o},f),qr.set(C,a),p.querySelector(b)!==null||o==="style"&&p.querySelector(To(C))||o==="script"&&p.querySelector(ko(C))||(o=p.createElement("link"),qn(o,"link",a),yn(o),p.head.appendChild(o)))}}function bA(a,o){Oa.m(a,o);var f=ts;if(f&&a){var p=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+Mr(p)+'"][href="'+Mr(a)+'"]',C=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=rs(a)}if(!qr.has(C)&&(a=v({rel:"modulepreload",href:a},o),qr.set(C,a),f.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(ko(C)))return}p=f.createElement("link"),qn(p,"link",a),yn(p),f.head.appendChild(p)}}}function wA(a,o,f){Oa.S(a,o,f);var p=ts;if(p&&a){var b=$a(p).hoistableStyles,C=ns(a);o=o||"default";var j=b.get(C);if(!j){var G={loading:0,preload:null};if(j=p.querySelector(To(C)))G.loading=5;else{a=v({rel:"stylesheet",href:a,"data-precedence":o},f),(f=qr.get(C))&&Bv(a,f);var te=j=p.createElement("link");yn(te),qn(te,"link",a),te._p=new Promise(function(ve,ke){te.onload=ve,te.onerror=ke}),te.addEventListener("load",function(){G.loading|=1}),te.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Fc(j,o,p)}j={type:"stylesheet",instance:j,count:1,state:G},b.set(C,j)}}}function SA(a,o){Oa.X(a,o);var f=ts;if(f&&a){var p=$a(f).hoistableScripts,b=rs(a),C=p.get(b);C||(C=f.querySelector(ko(b)),C||(a=v({src:a,async:!0},o),(o=qr.get(b))&&Ov(a,o),C=f.createElement("script"),yn(C),qn(C,"link",a),f.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(b,C))}}function EA(a,o){Oa.M(a,o);var f=ts;if(f&&a){var p=$a(f).hoistableScripts,b=rs(a),C=p.get(b);C||(C=f.querySelector(ko(b)),C||(a=v({src:a,async:!0,type:"module"},o),(o=qr.get(b))&&Ov(a,o),C=f.createElement("script"),yn(C),qn(C,"link",a),f.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(b,C))}}function Xb(a,o,f,p){var b=(b=de.current)?qc(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(o=ns(f.href),f=$a(b).hoistableStyles,p=f.get(o),p||(p={type:"style",instance:null,count:0,state:null},f.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){a=ns(f.href);var C=$a(b).hoistableStyles,j=C.get(a);if(j||(b=b.ownerDocument||b,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(a,j),(C=b.querySelector(To(a)))&&!C._p&&(j.instance=C,j.state.loading=5),qr.has(a)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},qr.set(a,f),C||CA(b,a,f,j.state))),o&&p===null)throw Error(r(528,""));return j}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=f.async,f=f.src,typeof f=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=rs(f),f=$a(b).hoistableScripts,p=f.get(o),p||(p={type:"script",instance:null,count:0,state:null},f.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function ns(a){return'href="'+Mr(a)+'"'}function To(a){return'link[rel="stylesheet"]['+a+"]"}function Kb(a){return v({},a,{"data-precedence":a.precedence,precedence:null})}function CA(a,o,f,p){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=a.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),qn(o,"link",f),yn(o),a.head.appendChild(o))}function rs(a){return'[src="'+Mr(a)+'"]'}function ko(a){return"script[async]"+a}function Qb(a,o,f){if(o.count++,o.instance===null)switch(o.type){case"style":var p=a.querySelector('style[data-href~="'+Mr(f.href)+'"]');if(p)return o.instance=p,yn(p),p;var b=v({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),yn(p),qn(p,"style",b),Fc(p,f.precedence,a),o.instance=p;case"stylesheet":b=ns(f.href);var C=a.querySelector(To(b));if(C)return o.state.loading|=4,o.instance=C,yn(C),C;p=Kb(f),(b=qr.get(b))&&Bv(p,b),C=(a.ownerDocument||a).createElement("link"),yn(C);var j=C;return j._p=new Promise(function(G,te){j.onload=G,j.onerror=te}),qn(C,"link",p),o.state.loading|=4,Fc(C,f.precedence,a),o.instance=C;case"script":return C=rs(f.src),(b=a.querySelector(ko(C)))?(o.instance=b,yn(b),b):(p=f,(b=qr.get(C))&&(p=v({},f),Ov(p,b)),a=a.ownerDocument||a,b=a.createElement("script"),yn(b),qn(b,"link",p),a.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Fc(p,f.precedence,a));return o.instance}function Fc(a,o,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,C=b,j=0;j<p.length;j++){var G=p[j];if(G.dataset.precedence===o)C=G;else if(C!==b)break}C?C.parentNode.insertBefore(a,C.nextSibling):(o=f.nodeType===9?f.head:f,o.insertBefore(a,o.firstChild))}function Bv(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Ov(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Hc=null;function Zb(a,o,f){if(Hc===null){var p=new Map,b=Hc=new Map;b.set(f,p)}else b=Hc,p=b.get(f),p||(p=new Map,b.set(f,p));if(p.has(a))return p;for(p.set(a,null),f=f.getElementsByTagName(a),b=0;b<f.length;b++){var C=f[b];if(!(C[sn]||C[pt]||a==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var j=C.getAttribute(o)||"";j=a+j;var G=p.get(j);G?G.push(C):p.set(j,[C])}}return p}function Wb(a,o,f){a=a.ownerDocument||a,a.head.insertBefore(f,o==="title"?a.querySelector("head > title"):null)}function TA(a,o,f){if(f===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Jb(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function kA(a,o,f,p){if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var b=ns(p.href),C=o.querySelector(To(b));if(C){o=C._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Uc.bind(a),o.then(a,a)),f.state.loading|=4,f.instance=C,yn(C);return}C=o.ownerDocument||o,p=Kb(p),(b=qr.get(b))&&Bv(p,b),C=C.createElement("link"),yn(C);var j=C;j._p=new Promise(function(G,te){j.onload=G,j.onerror=te}),qn(C,"link",p),f.instance=C}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(f,o),(o=f.state.preload)&&(f.state.loading&3)===0&&(a.count++,f=Uc.bind(a),o.addEventListener("load",f),o.addEventListener("error",f))}}var Lv=0;function NA(a,o){return a.stylesheets&&a.count===0&&Gc(a,a.stylesheets),0<a.count||0<a.imgCount?function(f){var p=setTimeout(function(){if(a.stylesheets&&Gc(a,a.stylesheets),a.unsuspend){var C=a.unsuspend;a.unsuspend=null,C()}},6e4+o);0<a.imgBytes&&Lv===0&&(Lv=62500*sA());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Gc(a,a.stylesheets),a.unsuspend)){var C=a.unsuspend;a.unsuspend=null,C()}},(a.imgBytes>Lv?50:800)+o);return a.unsuspend=f,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function Uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Vc=null;function Gc(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Vc=new Map,o.forEach(AA,a),Vc=null,Uc.call(a))}function AA(a,o){if(!(o.state.loading&4)){var f=Vc.get(a);if(f)var p=f.get(null);else{f=new Map,Vc.set(a,f);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<b.length;C++){var j=b[C];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(f.set(j.dataset.precedence,j),p=j)}p&&f.set(null,p)}b=o.instance,j=b.getAttribute("data-precedence"),C=f.get(j)||p,C===p&&f.set(null,b),f.set(j,b),this.count++,p=Uc.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),C?C.parentNode.insertBefore(b,C.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),o.state.loading|=4}}var No={$$typeof:k,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function RA(a,o,f,p,b,C,j,G,te){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=He(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=He(0),this.hiddenUpdates=He(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=C,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function e1(a,o,f,p,b,C,j,G,te,ve,ke,Re){return a=new RA(a,o,f,j,te,ve,ke,Re,G),o=1,C===!0&&(o|=24),C=wr(3,null,null,o),a.current=C,C.stateNode=a,o=vh(),o.refCount++,a.pooledCache=o,o.refCount++,C.memoizedState={element:p,isDehydrated:f,cache:o},yh(C),a}function t1(a){return a?(a=Ol,a):Ol}function n1(a,o,f,p,b,C){b=t1(b),p.context===null?p.context=b:p.pendingContext=b,p=ti(o),p.payload={element:f},C=C===void 0?null:C,C!==null&&(p.callback=C),f=ni(a,p,o),f!==null&&(ur(f,a,o),ao(f,a,o))}function r1(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<o?f:o}}function zv(a,o){r1(a,o),(a=a.alternate)&&r1(a,o)}function a1(a){if(a.tag===13||a.tag===31){var o=$i(a,67108864);o!==null&&ur(o,a,67108864),zv(a,67108864)}}function i1(a){if(a.tag===13||a.tag===31){var o=kr();o=vt(o);var f=$i(a,o);f!==null&&ur(f,a,o),zv(a,o)}}var Yc=!0;function jA(a,o,f,p){var b=H.T;H.T=null;var C=V.p;try{V.p=2,_v(a,o,f,p)}finally{V.p=C,H.T=b}}function DA(a,o,f,p){var b=H.T;H.T=null;var C=V.p;try{V.p=8,_v(a,o,f,p)}finally{V.p=C,H.T=b}}function _v(a,o,f,p){if(Yc){var b=Pv(p);if(b===null)Ev(a,o,p,$c,f),s1(a,p);else if(BA(b,a,o,f,p))p.stopPropagation();else if(s1(a,p),o&4&&-1<MA.indexOf(a)){for(;b!==null;){var C=Ya(b);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var j=De(C.pendingLanes);if(j!==0){var G=C;for(G.pendingLanes|=2,G.entangledLanes|=2;j;){var te=1<<31-Z(j);G.entanglements[1]|=te,j&=~te}ra(C),(_t&6)===0&&(Rc=Ue()+500,wo(0))}}break;case 31:case 13:G=$i(C,2),G!==null&&ur(G,C,2),Dc(),zv(C,2)}if(C=Pv(p),C===null&&Ev(a,o,p,$c,f),C===b)break;b=C}b!==null&&p.stopPropagation()}else Ev(a,o,p,null,f)}}function Pv(a){return a=qf(a),Iv(a)}var $c=null;function Iv(a){if($c=null,a=Ga(a),a!==null){var o=l(a);if(o===null)a=null;else{var f=o.tag;if(f===13){if(a=s(o),a!==null)return a;a=null}else if(f===31){if(a=u(o),a!==null)return a;a=null}else if(f===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return $c=a,null}function l1(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ft()){case he:return 2;case Ae:return 8;case _e:case Ve:return 32;case qe:return 268435456;default:return 32}default:return 32}}var qv=!1,hi=null,vi=null,pi=null,Ao=new Map,Ro=new Map,mi=[],MA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s1(a,o){switch(a){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":Ao.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(o.pointerId)}}function jo(a,o,f,p,b,C){return a===null||a.nativeEvent!==C?(a={blockedOn:o,domEventName:f,eventSystemFlags:p,nativeEvent:C,targetContainers:[b]},o!==null&&(o=Ya(o),o!==null&&a1(o)),a):(a.eventSystemFlags|=p,o=a.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),a)}function BA(a,o,f,p,b){switch(o){case"focusin":return hi=jo(hi,a,o,f,p,b),!0;case"dragenter":return vi=jo(vi,a,o,f,p,b),!0;case"mouseover":return pi=jo(pi,a,o,f,p,b),!0;case"pointerover":var C=b.pointerId;return Ao.set(C,jo(Ao.get(C)||null,a,o,f,p,b)),!0;case"gotpointercapture":return C=b.pointerId,Ro.set(C,jo(Ro.get(C)||null,a,o,f,p,b)),!0}return!1}function o1(a){var o=Ga(a.target);if(o!==null){var f=l(o);if(f!==null){if(o=f.tag,o===13){if(o=s(f),o!==null){a.blockedOn=o,Et(a.priority,function(){i1(f)});return}}else if(o===31){if(o=u(f),o!==null){a.blockedOn=o,Et(a.priority,function(){i1(f)});return}}else if(o===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xc(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var f=Pv(a.nativeEvent);if(f===null){f=a.nativeEvent;var p=new f.constructor(f.type,f);If=p,f.target.dispatchEvent(p),If=null}else return o=Ya(f),o!==null&&a1(o),a.blockedOn=f,!1;o.shift()}return!0}function u1(a,o,f){Xc(a)&&f.delete(o)}function OA(){qv=!1,hi!==null&&Xc(hi)&&(hi=null),vi!==null&&Xc(vi)&&(vi=null),pi!==null&&Xc(pi)&&(pi=null),Ao.forEach(u1),Ro.forEach(u1)}function Kc(a,o){a.blockedOn===o&&(a.blockedOn=null,qv||(qv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,OA)))}var Qc=null;function c1(a){Qc!==a&&(Qc=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Qc===a&&(Qc=null);for(var o=0;o<a.length;o+=3){var f=a[o],p=a[o+1],b=a[o+2];if(typeof p!="function"){if(Iv(p||f)===null)continue;break}var C=Ya(f);C!==null&&(a.splice(o,3),o-=3,Ph(C,{pending:!0,data:b,method:f.method,action:p},p,b))}}))}function as(a){function o(te){return Kc(te,a)}hi!==null&&Kc(hi,a),vi!==null&&Kc(vi,a),pi!==null&&Kc(pi,a),Ao.forEach(o),Ro.forEach(o);for(var f=0;f<mi.length;f++){var p=mi[f];p.blockedOn===a&&(p.blockedOn=null)}for(;0<mi.length&&(f=mi[0],f.blockedOn===null);)o1(f),f.blockedOn===null&&mi.shift();if(f=(a.ownerDocument||a).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var b=f[p],C=f[p+1],j=b[Mt]||null;if(typeof C=="function")j||c1(f);else if(j){var G=null;if(C&&C.hasAttribute("formAction")){if(b=C,j=C[Mt]||null)G=j.formAction;else if(Iv(b)!==null)continue}else G=j.action;typeof G=="function"?f[p+1]=G:(f.splice(p,3),p-=3),c1(f)}}}function d1(){function a(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(j){return b=j})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),p||setTimeout(f,20)}function f(){if(!p&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(f,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function Fv(a){this._internalRoot=a}Zc.prototype.render=Fv.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var f=o.current,p=kr();n1(f,p,a,o,null,null)},Zc.prototype.unmount=Fv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;n1(a.current,2,null,a,null,null),Dc(),o[ln]=null}};function Zc(a){this._internalRoot=a}Zc.prototype.unstable_scheduleHydration=function(a){if(a){var o=lt();a={blockedOn:null,target:a,priority:o};for(var f=0;f<mi.length&&o!==0&&o<mi[f].priority;f++);mi.splice(f,0,a),f===0&&o1(a)}};var f1=e.version;if(f1!=="19.2.0")throw Error(r(527,f1,"19.2.0"));V.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=c(o),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var LA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Y=Wc.inject(LA),U=Wc}catch{}}return Mo.createRoot=function(a,o){if(!i(a))throw Error(r(299));var f=!1,p="",b=xx,C=bx,j=wx;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(j=o.onRecoverableError)),o=e1(a,1,!1,null,null,f,p,null,b,C,j,d1),a[ln]=o.current,Sv(a),new Fv(o)},Mo.hydrateRoot=function(a,o,f){if(!i(a))throw Error(r(299));var p=!1,b="",C=xx,j=bx,G=wx,te=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(C=f.onUncaughtError),f.onCaughtError!==void 0&&(j=f.onCaughtError),f.onRecoverableError!==void 0&&(G=f.onRecoverableError),f.formState!==void 0&&(te=f.formState)),o=e1(a,1,!0,o,f??null,p,b,te,C,j,G,d1),o.context=t1(null),f=o.current,p=kr(),p=vt(p),b=ti(p),b.callback=null,ni(f,b,p),f=p,o.current.lanes=f,Ke(o,f),ra(o),a[ln]=o.current,Sv(a),new Zc(o)},Mo.version="19.2.0",Mo}var S1;function GA(){if(S1)return Vv.exports;S1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vv.exports=VA(),Vv.exports}var YA=GA();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E1="popstate";function $A(t={}){function e(r,i){let{pathname:l,search:s,hash:u}=r.location;return Km("",{pathname:l,search:s,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ru(i)}return KA(e,n,null,t)}function cn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XA(){return Math.random().toString(36).substring(2,10)}function C1(t,e){return{usr:t.state,key:t.key,idx:e}}function Km(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Rs(e):e,state:n,key:e&&e.key||r||XA()}}function ru({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function KA(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:l=!1}=r,s=i.history,u="POP",d=null,c=h();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function h(){return(s.state||{idx:null}).idx}function v(){u="POP";let w=h(),E=w==null?null:w-c;c=w,d&&d({action:u,location:S.location,delta:E})}function m(w,E){u="PUSH";let T=Km(S.location,w,E);c=h()+1;let k=C1(T,c),N=S.createHref(T);try{s.pushState(k,"",N)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(N)}l&&d&&d({action:u,location:S.location,delta:1})}function y(w,E){u="REPLACE";let T=Km(S.location,w,E);c=h();let k=C1(T,c),N=S.createHref(T);s.replaceState(k,"",N),l&&d&&d({action:u,location:S.location,delta:0})}function x(w){return QA(w)}let S={get action(){return u},get location(){return t(i,s)},listen(w){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(E1,v),d=w,()=>{i.removeEventListener(E1,v),d=null}},createHref(w){return e(i,w)},createURL:x,encodeLocation(w){let E=x(w);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:y,go(w){return s.go(w)}};return S}function QA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),cn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ru(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function pE(t,e,n="/"){return ZA(t,e,n,!1)}function ZA(t,e,n,r){let i=typeof e=="string"?Rs(e):e,l=Ia(i.pathname||"/",n);if(l==null)return null;let s=mE(t);WA(s);let u=null;for(let d=0;u==null&&d<s.length;++d){let c=uR(l);u=sR(s[d],c,r)}return u}function mE(t,e=[],n=[],r="",i=!1){let l=(s,u,d=i,c)=>{let h={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:u,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&d)return;cn(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let v=Pa([r,h.relativePath]),m=n.concat(h);s.children&&s.children.length>0&&(cn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),mE(s.children,e,m,v,d)),!(s.path==null&&!s.index)&&e.push({path:v,score:iR(v,s.index),routesMeta:m})};return t.forEach((s,u)=>{if(s.path===""||!s.path?.includes("?"))l(s,u);else for(let d of gE(s.path))l(s,u,!0,d)}),e}function gE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let s=gE(r.join("/")),u=[];return u.push(...s.map(d=>d===""?l:[l,d].join("/"))),i&&u.push(...s),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function WA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:lR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var JA=/^:[\w-]+$/,eR=3,tR=2,nR=1,rR=10,aR=-2,T1=t=>t==="*";function iR(t,e){let n=t.split("/"),r=n.length;return n.some(T1)&&(r+=aR),e&&(r+=tR),n.filter(i=>!T1(i)).reduce((i,l)=>i+(JA.test(l)?eR:l===""?nR:rR),r)}function lR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function sR(t,e,n=!1){let{routesMeta:r}=t,i={},l="/",s=[];for(let u=0;u<r.length;++u){let d=r[u],c=u===r.length-1,h=l==="/"?e:e.slice(l.length)||"/",v=Pd({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},h),m=d.route;if(!v&&c&&n&&!r[r.length-1].route.index&&(v=Pd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!v)return null;Object.assign(i,v.params),s.push({params:i,pathname:Pa([l,v.pathname]),pathnameBase:hR(Pa([l,v.pathnameBase])),route:m}),v.pathnameBase!=="/"&&(l=Pa([l,v.pathnameBase]))}return s}function Pd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=oR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],s=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:v},m)=>{if(h==="*"){let x=u[m]||"";s=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const y=u[m];return v&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:l,pathnameBase:s,pattern:t}}function oR(t,e=!1,n=!0){fa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ia(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function cR(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Rs(t):t;return{pathname:n?n.startsWith("/")?n:dR(n,e):e,search:vR(r),hash:pR(i)}}function dR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Xv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yE(t){let e=fR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function xE(t,e,n,r=!1){let i;typeof t=="string"?i=Rs(t):(i={...t},cn(!i.pathname||!i.pathname.includes("?"),Xv("?","pathname","search",i)),cn(!i.pathname||!i.pathname.includes("#"),Xv("#","pathname","hash",i)),cn(!i.search||!i.search.includes("#"),Xv("#","search","hash",i)));let l=t===""||i.pathname==="",s=l?"/":i.pathname,u;if(s==null)u=n;else{let v=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),v-=1;i.pathname=m.join("/")}u=v>=0?e[v]:"/"}let d=cR(i,u),c=s&&s!=="/"&&s.endsWith("/"),h=(l||s===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(c||h)&&(d.pathname+="/"),d}var Pa=t=>t.join("/").replace(/\/\/+/g,"/"),hR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var bE=["POST","PUT","PATCH","DELETE"];new Set(bE);var gR=["GET",...bE];new Set(gR);var js=W.createContext(null);js.displayName="DataRouter";var lf=W.createContext(null);lf.displayName="DataRouterState";W.createContext(!1);var wE=W.createContext({isTransitioning:!1});wE.displayName="ViewTransition";var yR=W.createContext(new Map);yR.displayName="Fetchers";var xR=W.createContext(null);xR.displayName="Await";var pa=W.createContext(null);pa.displayName="Navigation";var gu=W.createContext(null);gu.displayName="Location";var Ha=W.createContext({outlet:null,matches:[],isDataRoute:!1});Ha.displayName="Route";var Og=W.createContext(null);Og.displayName="RouteError";function bR(t,{relative:e}={}){cn(yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=W.useContext(pa),{hash:i,pathname:l,search:s}=xu(t,{relative:e}),u=l;return n!=="/"&&(u=l==="/"?n:Pa([n,l])),r.createHref({pathname:u,search:s,hash:i})}function yu(){return W.useContext(gu)!=null}function Li(){return cn(yu(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(gu).location}var SE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function EE(t){W.useContext(pa).static||W.useLayoutEffect(t)}function wR(){let{isDataRoute:t}=W.useContext(Ha);return t?OR():SR()}function SR(){cn(yu(),"useNavigate() may be used only in the context of a <Router> component.");let t=W.useContext(js),{basename:e,navigator:n}=W.useContext(pa),{matches:r}=W.useContext(Ha),{pathname:i}=Li(),l=JSON.stringify(yE(r)),s=W.useRef(!1);return EE(()=>{s.current=!0}),W.useCallback((d,c={})=>{if(fa(s.current,SE),!s.current)return;if(typeof d=="number"){n.go(d);return}let h=xE(d,JSON.parse(l),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Pa([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,l,i,t])}W.createContext(null);function xu(t,{relative:e}={}){let{matches:n}=W.useContext(Ha),{pathname:r}=Li(),i=JSON.stringify(yE(n));return W.useMemo(()=>xE(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function ER(t,e){return CE(t,e)}function CE(t,e,n,r,i){cn(yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=W.useContext(pa),{matches:s}=W.useContext(Ha),u=s[s.length-1],d=u?u.params:{},c=u?u.pathname:"/",h=u?u.pathnameBase:"/",v=u&&u.route;{let T=v&&v.path||"";TE(c,!v||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let m=Li(),y;if(e){let T=typeof e=="string"?Rs(e):e;cn(h==="/"||T.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=m;let x=y.pathname||"/",S=x;if(h!=="/"){let T=h.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(T.length).join("/")}let w=pE(t,{pathname:S});fa(v||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),fa(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=AR(w&&w.map(T=>Object.assign({},T,{params:Object.assign({},d,T.params),pathname:Pa([h,l.encodeLocation?l.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:Pa([h,l.encodeLocation?l.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),s,n,r,i);return e&&E?W.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},E):E}function CR(){let t=BR(),e=mR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:l},"ErrorBoundary")," or"," ",W.createElement("code",{style:l},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:i},n):null,s)}var TR=W.createElement(CR,null),kR=class extends W.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?W.createElement(Ha.Provider,{value:this.props.routeContext},W.createElement(Og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NR({routeContext:t,match:e,children:n}){let r=W.useContext(js);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Ha.Provider,{value:t},n)}function AR(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,s=n?.errors;if(s!=null){let c=l.findIndex(h=>h.route.id&&s?.[h.route.id]!==void 0);cn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),l=l.slice(0,Math.min(l.length,c+1))}let u=!1,d=-1;if(n)for(let c=0;c<l.length;c++){let h=l[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=c),h.route.id){let{loaderData:v,errors:m}=n,y=h.route.loader&&!v.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){u=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((c,h,v)=>{let m,y=!1,x=null,S=null;n&&(m=s&&h.route.id?s[h.route.id]:void 0,x=h.route.errorElement||TR,u&&(d<0&&v===0?(TE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,S=null):d===v&&(y=!0,S=h.route.hydrateFallbackElement||null)));let w=e.concat(l.slice(0,v+1)),E=()=>{let T;return m?T=x:y?T=S:h.route.Component?T=W.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=c,W.createElement(NR,{match:h,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||v===0)?W.createElement(kR,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:r}):E()},null)}function Lg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RR(t){let e=W.useContext(js);return cn(e,Lg(t)),e}function jR(t){let e=W.useContext(lf);return cn(e,Lg(t)),e}function DR(t){let e=W.useContext(Ha);return cn(e,Lg(t)),e}function zg(t){let e=DR(t),n=e.matches[e.matches.length-1];return cn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function MR(){return zg("useRouteId")}function BR(){let t=W.useContext(Og),e=jR("useRouteError"),n=zg("useRouteError");return t!==void 0?t:e.errors?.[n]}function OR(){let{router:t}=RR("useNavigate"),e=zg("useNavigate"),n=W.useRef(!1);return EE(()=>{n.current=!0}),W.useCallback(async(i,l={})=>{fa(n.current,SE),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var k1={};function TE(t,e,n){!e&&!k1[t]&&(k1[t]=!0,fa(!1,n))}W.memo(LR);function LR({routes:t,future:e,state:n,unstable_onError:r}){return CE(t,void 0,n,r,e)}function sa(t){cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:l=!1}){cn(!yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),u=W.useMemo(()=>({basename:s,navigator:i,static:l,future:{}}),[s,i,l]);typeof n=="string"&&(n=Rs(n));let{pathname:d="/",search:c="",hash:h="",state:v=null,key:m="default"}=n,y=W.useMemo(()=>{let x=Ia(d,s);return x==null?null:{location:{pathname:x,search:c,hash:h,state:v,key:m},navigationType:r}},[s,d,c,h,v,m,r]);return fa(y!=null,`<Router basename="${s}"> is not able to match the URL "${d}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:W.createElement(pa.Provider,{value:u},W.createElement(gu.Provider,{children:e,value:y}))}function _R({children:t,location:e}){return ER(Qm(t),e)}function Qm(t,e=[]){let n=[];return W.Children.forEach(t,(r,i)=>{if(!W.isValidElement(r))return;let l=[...e,i];if(r.type===W.Fragment){n.push.apply(n,Qm(r.props.children,l));return}cn(r.type===sa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),cn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Qm(r.props.children,l)),n.push(s)}),n}var wd="get",Sd="application/x-www-form-urlencoded";function sf(t){return t!=null&&typeof t.tagName=="string"}function PR(t){return sf(t)&&t.tagName.toLowerCase()==="button"}function IR(t){return sf(t)&&t.tagName.toLowerCase()==="form"}function qR(t){return sf(t)&&t.tagName.toLowerCase()==="input"}function FR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function HR(t,e){return t.button===0&&(!e||e==="_self")&&!FR(t)}var Jc=null;function UR(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var VR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kv(t){return t!=null&&!VR.has(t)?(fa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sd}"`),null):t}function GR(t,e){let n,r,i,l,s;if(IR(t)){let u=t.getAttribute("action");r=u?Ia(u,e):null,n=t.getAttribute("method")||wd,i=Kv(t.getAttribute("enctype"))||Sd,l=new FormData(t)}else if(PR(t)||qR(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?Ia(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||wd,i=Kv(t.getAttribute("formenctype"))||Kv(u.getAttribute("enctype"))||Sd,l=new FormData(u,t),!UR()){let{name:c,type:h,value:v}=t;if(h==="image"){let m=c?`${c}.`:"";l.append(`${m}x`,"0"),l.append(`${m}y`,"0")}else c&&l.append(c,v)}}else{if(sf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wd,r=null,i=Sd,s=t}return l&&i==="text/plain"&&(s=l,l=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:l,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _g(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function YR(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ia(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function $R(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function KR(t,e,n){let r=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let s=await $R(l,n);return s.links?s.links():[]}return[]}));return JR(r.flat(1).filter(XR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function N1(t,e,n,r,i,l){let s=(d,c)=>n[c]?d.route.id!==n[c].route.id:!0,u=(d,c)=>n[c].pathname!==d.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,c)=>s(d,c)||u(d,c)):l==="data"?e.filter((d,c)=>{let h=r.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(s(d,c)||u(d,c))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function QR(t,e,{includeHydrateFallback:n}={}){return ZR(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function ZR(t){return[...new Set(t)]}function WR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function JR(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let l=JSON.stringify(WR(i));return n.has(l)||(n.add(l),r.push({key:l,link:i})),r},[])}function kE(){let t=W.useContext(js);return _g(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ej(){let t=W.useContext(lf);return _g(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Pg=W.createContext(void 0);Pg.displayName="FrameworkContext";function NE(){let t=W.useContext(Pg);return _g(t,"You must render this element inside a <HydratedRouter> element"),t}function tj(t,e){let n=W.useContext(Pg),[r,i]=W.useState(!1),[l,s]=W.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:c,onMouseLeave:h,onTouchStart:v}=e,m=W.useRef(null);W.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let S=E=>{E.forEach(T=>{s(T.isIntersecting)})},w=new IntersectionObserver(S,{threshold:.5});return m.current&&w.observe(m.current),()=>{w.disconnect()}}},[t]),W.useEffect(()=>{if(r){let S=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(S)}}},[r]);let y=()=>{i(!0)},x=()=>{i(!1),s(!1)};return n?t!=="intent"?[l,m,{}]:[l,m,{onFocus:Bo(u,y),onBlur:Bo(d,x),onMouseEnter:Bo(c,y),onMouseLeave:Bo(h,x),onTouchStart:Bo(v,y)}]:[!1,m,{}]}function Bo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function nj({page:t,...e}){let{router:n}=kE(),r=W.useMemo(()=>pE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?W.createElement(aj,{page:t,matches:r,...e}):null}function rj(t){let{manifest:e,routeModules:n}=NE(),[r,i]=W.useState([]);return W.useEffect(()=>{let l=!1;return KR(t,e,n).then(s=>{l||i(s)}),()=>{l=!0}},[t,e,n]),r}function aj({page:t,matches:e,...n}){let r=Li(),{manifest:i,routeModules:l}=NE(),{basename:s}=kE(),{loaderData:u,matches:d}=ej(),c=W.useMemo(()=>N1(t,e,d,i,r,"data"),[t,e,d,i,r]),h=W.useMemo(()=>N1(t,e,d,i,r,"assets"),[t,e,d,i,r]),v=W.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,S=!1;if(e.forEach(E=>{let T=i.routes[E.route.id];!T||!T.hasLoader||(!c.some(k=>k.route.id===E.route.id)&&E.route.id in u&&l[E.route.id]?.shouldRevalidate||T.hasClientLoader?S=!0:x.add(E.route.id))}),x.size===0)return[];let w=YR(t,s,"data");return S&&x.size>0&&w.searchParams.set("_routes",e.filter(E=>x.has(E.route.id)).map(E=>E.route.id).join(",")),[w.pathname+w.search]},[s,u,r,i,c,e,t,l]),m=W.useMemo(()=>QR(h,i),[h,i]),y=rj(h);return W.createElement(W.Fragment,null,v.map(x=>W.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),m.map(x=>W.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:S})=>W.createElement("link",{key:x,nonce:n.nonce,...S})))}function ij(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AE&&(window.__reactRouterVersion="7.9.4")}catch{}function lj({basename:t,children:e,window:n}){let r=W.useRef();r.current==null&&(r.current=$A({window:n,v5Compat:!0}));let i=r.current,[l,s]=W.useState({action:i.action,location:i.location}),u=W.useCallback(d=>{W.startTransition(()=>s(d))},[s]);return W.useLayoutEffect(()=>i.listen(u),[i,u]),W.createElement(zR,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:i})}var RE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bu=W.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:l,replace:s,state:u,target:d,to:c,preventScrollReset:h,viewTransition:v,...m},y){let{basename:x}=W.useContext(pa),S=typeof c=="string"&&RE.test(c),w,E=!1;if(typeof c=="string"&&S&&(w=c,AE))try{let B=new URL(window.location.href),P=c.startsWith("//")?new URL(B.protocol+c):new URL(c),q=Ia(P.pathname,x);P.origin===B.origin&&q!=null?c=q+P.search+P.hash:E=!0}catch{fa(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=bR(c,{relative:i}),[k,N,M]=tj(r,m),R=cj(c,{replace:s,state:u,target:d,preventScrollReset:h,relative:i,viewTransition:v});function A(B){e&&e(B),B.defaultPrevented||R(B)}let O=W.createElement("a",{...m,...M,href:w||T,onClick:E||l?e:A,ref:ij(y,N),target:d,"data-discover":!S&&n==="render"?"true":void 0});return k&&!S?W.createElement(W.Fragment,null,O,W.createElement(nj,{page:T})):O});bu.displayName="Link";var sj=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:l,to:s,viewTransition:u,children:d,...c},h){let v=xu(s,{relative:c.relative}),m=Li(),y=W.useContext(lf),{navigator:x,basename:S}=W.useContext(pa),w=y!=null&&pj(v)&&u===!0,E=x.encodeLocation?x.encodeLocation(v).pathname:v.pathname,T=m.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(T=T.toLowerCase(),k=k?k.toLowerCase():null,E=E.toLowerCase()),k&&S&&(k=Ia(k,S)||k);const N=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let M=T===E||!i&&T.startsWith(E)&&T.charAt(N)==="/",R=k!=null&&(k===E||!i&&k.startsWith(E)&&k.charAt(E.length)==="/"),A={isActive:M,isPending:R,isTransitioning:w},O=M?e:void 0,B;typeof r=="function"?B=r(A):B=[r,M?"active":null,R?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(A):l;return W.createElement(bu,{...c,"aria-current":O,className:B,ref:h,style:P,to:s,viewTransition:u},typeof d=="function"?d(A):d)});sj.displayName="NavLink";var oj=W.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:l,method:s=wd,action:u,onSubmit:d,relative:c,preventScrollReset:h,viewTransition:v,...m},y)=>{let x=hj(),S=vj(u,{relative:c}),w=s.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&RE.test(u),T=k=>{if(d&&d(k),k.defaultPrevented)return;k.preventDefault();let N=k.nativeEvent.submitter,M=N?.getAttribute("formmethod")||s;x(N||k.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:l,relative:c,preventScrollReset:h,viewTransition:v})};return W.createElement("form",{ref:y,method:w,action:S,onSubmit:r?d:T,...m,"data-discover":!E&&t==="render"?"true":void 0})});oj.displayName="Form";function uj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jE(t){let e=W.useContext(js);return cn(e,uj(t)),e}function cj(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:l,viewTransition:s}={}){let u=wR(),d=Li(),c=xu(t,{relative:l});return W.useCallback(h=>{if(HR(h,e)){h.preventDefault();let v=n!==void 0?n:ru(d)===ru(c);u(t,{replace:v,state:r,preventScrollReset:i,relative:l,viewTransition:s})}},[d,u,c,n,r,e,t,i,l,s])}var dj=0,fj=()=>`__${String(++dj)}__`;function hj(){let{router:t}=jE("useSubmit"),{basename:e}=W.useContext(pa),n=MR();return W.useCallback(async(r,i={})=>{let{action:l,method:s,encType:u,formData:d,body:c}=GR(r,e);if(i.navigate===!1){let h=i.fetcherKey||fj();await t.fetch(h,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:d,body:c,formMethod:i.method||s,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:d,body:c,formMethod:i.method||s,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function vj(t,{relative:e}={}){let{basename:n}=W.useContext(pa),r=W.useContext(Ha);cn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),l={...xu(t||".",{relative:e})},s=Li();if(t==null){l.search=s.search;let u=new URLSearchParams(l.search),d=u.getAll("index");if(d.some(h=>h==="")){u.delete("index"),d.filter(v=>v).forEach(v=>u.append("index",v));let h=u.toString();l.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Pa([n,l.pathname])),ru(l)}function pj(t,{relative:e}={}){let n=W.useContext(wE);cn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jE("useViewTransitionState"),i=xu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ia(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ia(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pd(i.pathname,s)!=null||Pd(i.pathname,l)!=null}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),A1=t=>{const e=gj(t);return e.charAt(0).toUpperCase()+e.slice(1)},DE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),yj=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=W.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:s,...u},d)=>W.createElement("svg",{ref:d,...xj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DE("lucide",i),...!l&&!yj(u)&&{"aria-hidden":"true"},...u},[...s.map(([c,h])=>W.createElement(c,h)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=(t,e)=>{const n=W.forwardRef(({className:r,...i},l)=>W.createElement(bj,{ref:l,iconNode:e,className:DE(`lucide-${mj(A1(t))}`,`lucide-${t}`,r),...i}));return n.displayName=A1(t),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],R1=zt("arrow-right",wj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Ej=zt("book-marked",Sj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],au=zt("book-open",Cj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],kj=zt("calendar",Tj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ME=zt("chevron-down",Nj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BE=zt("chevron-right",Aj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jj=zt("circle-question-mark",Rj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Mj=zt("circle-x",Dj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Oj=zt("clock",Bj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],j1=zt("database",Lj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],D1=zt("download",zj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Pj=zt("ellipsis-vertical",_j);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Id=zt("external-link",Ij);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fj=zt("eye",qj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],M1=zt("file-image",Hj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qd=zt("file-text",Uj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ig=zt("funnel",Vj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],Qv=zt("git-branch",Gj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],iu=zt("graduation-cap",Yj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Xj=zt("grid-3x3",$j);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Qj=zt("maximize",Kj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Wj=zt("message-square",Zj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],e5=zt("minimize",Jj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Ko=zt("network",t5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],r5=zt("palette",n5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],i5=zt("panels-top-left",a5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],B1=zt("quote",l5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],o5=zt("route",s5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qg=zt("search",u5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],d5=zt("sparkles",c5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],h5=zt("users",f5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fg=zt("x",v5);function p5(){return g.jsxs("div",{className:"space-y-12",children:[g.jsxs("section",{className:"text-center -mt-4 pt-0 pb-12",children:[g.jsx("div",{className:"flex justify-center mb-4",children:g.jsx("img",{src:"/logo.svg",alt:"EleutherIA - Ancient Free Will Database",className:"h-80 w-auto"})}),g.jsx("p",{className:"text-lg text-academic-text max-w-3xl mx-auto leading-relaxed",children:"A FAIR-compliant knowledge graph documenting ancient debates on free will, fate, and moral responsibility from Aristotle (4th c. BCE) to Boethius (6th c. CE)."})]}),g.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.jsx(ed,{to:"/visualizer",title:"Knowledge Graph",description:"Explore 505 nodes and 870 relationships in an interactive network visualization",icon:g.jsx(Ko,{className:"w-12 h-12"}),dataTour:"kg-card"}),g.jsx(ed,{to:"/search",title:"Hybrid Search",description:"Full-text, lemmatic, and semantic search across 289 ancient texts",icon:g.jsx(qg,{className:"w-12 h-12"}),dataTour:"search-card"}),g.jsx(ed,{to:"/graphrag",title:"GraphRAG Q&A",description:"Ask questions and get scholarly answers grounded in the knowledge graph",icon:g.jsx(Wj,{className:"w-12 h-12"}),dataTour:"graphrag-card"}),g.jsx(ed,{to:"/texts",title:"Ancient Texts",description:"Browse and read 289 ancient Greek and Latin texts with lemmatization",icon:g.jsx(au,{className:"w-12 h-12"}),dataTour:"texts-card"})]}),g.jsxs("section",{className:"academic-card relative overflow-hidden","data-tour":"stats",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-academic-bg to-transparent opacity-50"}),g.jsxs("div",{className:"relative z-10",children:[g.jsx("h3",{className:"text-2xl font-serif font-bold mb-6",children:"Database Statistics"}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[g.jsx(td,{label:"KG Nodes",value:"505",delay:0}),g.jsx(td,{label:"Edges",value:"870",delay:100}),g.jsx(td,{label:"Ancient Texts",value:"289",delay:200}),g.jsx(td,{label:"Citations",value:"860+",delay:300})]})]})]}),g.jsxs("section",{className:"academic-card",children:[g.jsx("h3",{className:"text-2xl font-serif font-bold mb-4",children:"About This Database"}),g.jsxs("div",{className:"prose max-w-none text-academic-text space-y-4",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"EleutherIA"})," ( = freedom + IA = Intelligence Artificielle) documents the historical development of ancient debates on free will, determinism, and moral responsibility, spanning from Classical Greek philosophy through Late Antiquity."]}),g.jsx("p",{children:"The database combines a comprehensive knowledge graph with 289 ancient texts, enabling advanced research through:"}),g.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[g.jsx("li",{children:"Interactive network visualization with Cytoscape.js"}),g.jsx("li",{children:"Hybrid search combining full-text, lemmatic, and semantic approaches"}),g.jsx("li",{children:"GraphRAG question answering with citation tracking"}),g.jsx("li",{children:"FAIR-compliant data with complete provenance"})]}),g.jsxs("p",{children:["All data is licensed under"," ",g.jsx("a",{href:"https://creativecommons.org/licenses/by/4.0/",className:"text-primary-600 hover:underline",children:"CC BY 4.0"})," ","and available at"," ",g.jsx("a",{href:"https://doi.org/10.5281/zenodo.17379490",className:"text-primary-600 hover:underline",children:"DOI: 10.5281/zenodo.17379490"})]})]})]})]})}function ed({to:t,title:e,description:n,icon:r,dataTour:i}){return g.jsx(bu,{to:t,className:"academic-card transition-all duration-300 hover:shadow-xl hover:-translate-y-2 group",style:{"--hover-border-color":"#769687"},onMouseEnter:l=>l.currentTarget.style.borderColor="#769687",onMouseLeave:l=>l.currentTarget.style.borderColor="","data-tour":i,children:g.jsxs("div",{className:"flex gap-4",children:[g.jsx("div",{className:"flex-shrink-0 transition-all duration-300 group-hover:scale-110",style:{color:"#769687"},children:r}),g.jsxs("div",{className:"flex-grow",children:[g.jsx("h3",{className:"text-xl font-semibold mb-2 transition-colors group-hover:text-[#769687]",style:{"--hover-color":"#769687"},children:e}),g.jsx("p",{className:"text-sm text-academic-muted",children:n})]})]})})}function td({label:t,value:e,delay:n=0}){const[r,i]=W.useState(0),[l,s]=W.useState(!1),[u,d]=W.useState(!1),c=W.useRef(null),h=parseInt(e.replace(/\D/g,""))||0,v=e.match(/\D+$/)?.[0]||"";return W.useEffect(()=>{const m=new IntersectionObserver(y=>{y[0].isIntersecting&&!l&&(d(!0),s(!0),setTimeout(()=>{const w=33.333333333333336,E=h/60;let T=0;const k=setInterval(()=>{T++;const N=Math.min(Math.floor(E*T),h);i(N),T>=60&&(clearInterval(k),i(h))},w);return()=>clearInterval(k)},n))},{threshold:.3});return c.current&&m.observe(c.current),()=>{c.current&&m.unobserve(c.current)}},[h,l,n]),g.jsxs("div",{ref:c,className:`text-center transition-all duration-700 ${u?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[g.jsxs("div",{className:"text-3xl font-bold mb-1 transition-all duration-300 hover:scale-110 cursor-default",style:{color:"#b61b21"},children:[r,v]}),g.jsx("div",{className:"text-sm text-academic-muted",children:t})]})}function Zm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function m5(t){if(Array.isArray(t))return t}function g5(t){if(Array.isArray(t))return Zm(t)}function zi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LE(r.key),r)}}function _i(t,e,n){return e&&y5(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vr(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Hg(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return s=d.done,d},e:function(d){u=!0,l=d},f:function(){try{s||n.return==null||n.return()}finally{if(u)throw l}}}}function OE(t,e,n){return(e=LE(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b5(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,l,s,u=[],d=!0,c=!1;try{if(l=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=l.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,i=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return u}}function w5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tn(t,e){return m5(t)||b5(t,e)||Hg(t,e)||w5()}function Fd(t){return g5(t)||x5(t)||Hg(t)||S5()}function E5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function LE(t){var e=E5(t,"string");return typeof e=="symbol"?e:e+""}function Rn(t){"@babel/helpers - typeof";return Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(t)}function Hg(t,e){if(t){if(typeof t=="string")return Zm(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zm(t,e):void 0}}var Nn=typeof window>"u"?null:window,O1=Nn?Nn.navigator:null;Nn&&Nn.document;var C5=Rn(""),zE=Rn({}),T5=Rn(function(){}),k5=typeof HTMLElement>"u"?"undefined":Rn(HTMLElement),wu=function(e){return e&&e.instanceString&&dn(e.instanceString)?e.instanceString():null},tt=function(e){return e!=null&&Rn(e)==C5},dn=function(e){return e!=null&&Rn(e)===T5},Zt=function(e){return!jr(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Dt=function(e){return e!=null&&Rn(e)===zE&&!Zt(e)&&e.constructor===Object},N5=function(e){return e!=null&&Rn(e)===zE},Fe=function(e){return e!=null&&Rn(e)===Rn(1)&&!isNaN(e)},A5=function(e){return Fe(e)&&Math.floor(e)===e},Hd=function(e){if(k5!=="undefined")return e!=null&&e instanceof HTMLElement},jr=function(e){return Su(e)||_E(e)},Su=function(e){return wu(e)==="collection"&&e._private.single},_E=function(e){return wu(e)==="collection"&&!e._private.single},Ug=function(e){return wu(e)==="core"},PE=function(e){return wu(e)==="stylesheet"},R5=function(e){return wu(e)==="event"},Ri=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},j5=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},D5=function(e){return Dt(e)&&Fe(e.x1)&&Fe(e.x2)&&Fe(e.y1)&&Fe(e.y2)},M5=function(e){return N5(e)&&dn(e.then)},B5=function(){return O1&&O1.userAgent.match(/msie|trident|edge/i)},Ts=function(e,n){n||(n=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var l=[],s=0;s<arguments.length;s++)l.push(arguments[s]);return l.join("$")});var r=function(){var l=this,s=arguments,u,d=n.apply(l,s),c=r.cache;return(u=c[d])||(u=c[d]=e.apply(l,s)),u};return r.cache={},r},Vg=Ts(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),of=Ts(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),IE=Ts(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),L1=function(e){return Ri(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Ci=function(e,n){return e.slice(-1*n.length)===n},An="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",O5="rgb[a]?\\(("+An+"[%]?)\\s*,\\s*("+An+"[%]?)\\s*,\\s*("+An+"[%]?)(?:\\s*,\\s*("+An+"))?\\)",L5="rgb[a]?\\((?:"+An+"[%]?)\\s*,\\s*(?:"+An+"[%]?)\\s*,\\s*(?:"+An+"[%]?)(?:\\s*,\\s*(?:"+An+"))?\\)",z5="hsl[a]?\\(("+An+")\\s*,\\s*("+An+"[%])\\s*,\\s*("+An+"[%])(?:\\s*,\\s*("+An+"))?\\)",_5="hsl[a]?\\((?:"+An+")\\s*,\\s*(?:"+An+"[%])\\s*,\\s*(?:"+An+"[%])(?:\\s*,\\s*(?:"+An+"))?\\)",P5="\\#[0-9a-fA-F]{3}",I5="\\#[0-9a-fA-F]{6}",qE=function(e,n){return e<n?-1:e>n?1:0},q5=function(e,n){return-1*qE(e,n)},st=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,n=1;n<e.length;n++){var r=e[n];if(r!=null)for(var i=Object.keys(r),l=0;l<i.length;l++){var s=i[l];t[s]=r[s]}}return t},F5=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var n=e.length===4,r,i,l,s=16;return n?(r=parseInt(e[1]+e[1],s),i=parseInt(e[2]+e[2],s),l=parseInt(e[3]+e[3],s)):(r=parseInt(e[1]+e[2],s),i=parseInt(e[3]+e[4],s),l=parseInt(e[5]+e[6],s)),[r,i,l]}},H5=function(e){var n,r,i,l,s,u,d,c;function h(x,S,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?x+(S-x)*6*w:w<1/2?S:w<2/3?x+(S-x)*(2/3-w)*6:x}var v=new RegExp("^"+z5+"$").exec(e);if(v){if(r=parseInt(v[1]),r<0?r=(360- -1*r%360)%360:r>360&&(r=r%360),r/=360,i=parseFloat(v[2]),i<0||i>100||(i=i/100,l=parseFloat(v[3]),l<0||l>100)||(l=l/100,s=v[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(i===0)u=d=c=Math.round(l*255);else{var m=l<.5?l*(1+i):l+i-l*i,y=2*l-m;u=Math.round(255*h(y,m,r+1/3)),d=Math.round(255*h(y,m,r)),c=Math.round(255*h(y,m,r-1/3))}n=[u,d,c,s]}return n},U5=function(e){var n,r=new RegExp("^"+O5+"$").exec(e);if(r){n=[];for(var i=[],l=1;l<=3;l++){var s=r[l];if(s[s.length-1]==="%"&&(i[l]=!0),s=parseFloat(s),i[l]&&(s=s/100*255),s<0||s>255)return;n.push(Math.floor(s))}var u=i[1]||i[2]||i[3],d=i[1]&&i[2]&&i[3];if(u&&!d)return;var c=r[4];if(c!==void 0){if(c=parseFloat(c),c<0||c>1)return;n.push(c)}}return n},V5=function(e){return G5[e.toLowerCase()]},FE=function(e){return(Zt(e)?e:null)||V5(e)||F5(e)||U5(e)||H5(e)},G5={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},HE=function(e){for(var n=e.map,r=e.keys,i=r.length,l=0;l<i;l++){var s=r[l];if(Dt(s))throw Error("Tried to set map with object key");l<r.length-1?(n[s]==null&&(n[s]={}),n=n[s]):n[s]=e.value}},UE=function(e){for(var n=e.map,r=e.keys,i=r.length,l=0;l<i;l++){var s=r[l];if(Dt(s))throw Error("Tried to get map with object key");if(n=n[s],n==null)return n}return n},nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zv,z1;function Cu(){if(z1)return Zv;z1=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Zv=t,Zv}var Wv,_1;function Y5(){if(_1)return Wv;_1=1;var t=typeof nd=="object"&&nd&&nd.Object===Object&&nd;return Wv=t,Wv}var Jv,P1;function uf(){if(P1)return Jv;P1=1;var t=Y5(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Jv=n,Jv}var ep,I1;function $5(){if(I1)return ep;I1=1;var t=uf(),e=function(){return t.Date.now()};return ep=e,ep}var tp,q1;function X5(){if(q1)return tp;q1=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return tp=e,tp}var np,F1;function K5(){if(F1)return np;F1=1;var t=X5(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return np=n,np}var rp,H1;function Gg(){if(H1)return rp;H1=1;var t=uf(),e=t.Symbol;return rp=e,rp}var ap,U1;function Q5(){if(U1)return ap;U1=1;var t=Gg(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function l(s){var u=n.call(s,i),d=s[i];try{s[i]=void 0;var c=!0}catch{}var h=r.call(s);return c&&(u?s[i]=d:delete s[i]),h}return ap=l,ap}var ip,V1;function Z5(){if(V1)return ip;V1=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return ip=n,ip}var lp,G1;function VE(){if(G1)return lp;G1=1;var t=Gg(),e=Q5(),n=Z5(),r="[object Null]",i="[object Undefined]",l=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?i:r:l&&l in Object(u)?e(u):n(u)}return lp=s,lp}var sp,Y1;function W5(){if(Y1)return sp;Y1=1;function t(e){return e!=null&&typeof e=="object"}return sp=t,sp}var op,$1;function Tu(){if($1)return op;$1=1;var t=VE(),e=W5(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return op=r,op}var up,X1;function J5(){if(X1)return up;X1=1;var t=K5(),e=Cu(),n=Tu(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function d(c){if(typeof c=="number")return c;if(n(c))return r;if(e(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=e(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=t(c);var v=l.test(c);return v||s.test(c)?u(c.slice(2),v?2:8):i.test(c)?r:+c}return up=d,up}var cp,K1;function eD(){if(K1)return cp;K1=1;var t=Cu(),e=$5(),n=J5(),r="Expected a function",i=Math.max,l=Math.min;function s(u,d,c){var h,v,m,y,x,S,w=0,E=!1,T=!1,k=!0;if(typeof u!="function")throw new TypeError(r);d=n(d)||0,t(c)&&(E=!!c.leading,T="maxWait"in c,m=T?i(n(c.maxWait)||0,d):m,k="trailing"in c?!!c.trailing:k);function N(D){var F=h,$=v;return h=v=void 0,w=D,y=u.apply($,F),y}function M(D){return w=D,x=setTimeout(O,d),E?N(D):y}function R(D){var F=D-S,$=D-w,H=d-F;return T?l(H,m-$):H}function A(D){var F=D-S,$=D-w;return S===void 0||F>=d||F<0||T&&$>=m}function O(){var D=e();if(A(D))return B(D);x=setTimeout(O,R(D))}function B(D){return x=void 0,k&&h?N(D):(h=v=void 0,y)}function P(){x!==void 0&&clearTimeout(x),w=0,h=S=v=x=void 0}function q(){return x===void 0?y:B(e())}function L(){var D=e(),F=A(D);if(h=arguments,v=this,S=D,F){if(x===void 0)return M(S);if(T)return clearTimeout(x),x=setTimeout(O,d),N(S)}return x===void 0&&(x=setTimeout(O,d)),y}return L.cancel=P,L.flush=q,L}return cp=s,cp}var tD=eD(),ku=Eu(tD),dp=Nn?Nn.performance:null,GE=dp&&dp.now?function(){return dp.now()}:function(){return Date.now()},nD=(function(){if(Nn){if(Nn.requestAnimationFrame)return function(t){Nn.requestAnimationFrame(t)};if(Nn.mozRequestAnimationFrame)return function(t){Nn.mozRequestAnimationFrame(t)};if(Nn.webkitRequestAnimationFrame)return function(t){Nn.webkitRequestAnimationFrame(t)};if(Nn.msRequestAnimationFrame)return function(t){Nn.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(GE())},1e3/60)}})(),Ud=function(e){return nD(e)},qa=GE,cl=9261,YE=65599,ps=5381,$E=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cl,r=n,i;i=e.next(),!i.done;)r=r*YE+i.value|0;return r},lu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cl;return n*YE+e|0},su=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ps;return(n<<5)+n+e|0},rD=function(e,n){return e*2097152+n},yi=function(e){return e[0]*2097152+e[1]},rd=function(e,n){return[lu(e[0],n[0]),su(e[1],n[1])]},Q1=function(e,n){var r={value:0,done:!1},i=0,l=e.length,s={next:function(){return i<l?r.value=e[i++]:r.done=!0,r}};return $E(s,n)},pl=function(e,n){var r={value:0,done:!1},i=0,l=e.length,s={next:function(){return i<l?r.value=e.charCodeAt(i++):r.done=!0,r}};return $E(s,n)},XE=function(){return aD(arguments)},aD=function(e){for(var n,r=0;r<e.length;r++){var i=e[r];r===0?n=pl(i):n=pl(i,n)}return n};function iD(t,e,n,r,i){var l=i*Math.PI/180,s=Math.cos(l)*(t-n)-Math.sin(l)*(e-r)+n,u=Math.sin(l)*(t-n)+Math.cos(l)*(e-r)+r;return{x:s,y:u}}var lD=function(e,n,r,i,l,s){return{x:(e-r)*l+r,y:(n-i)*s+i}};function sD(t,e,n){if(n===0)return t;var r=(e.x1+e.x2)/2,i=(e.y1+e.y2)/2,l=e.w/e.h,s=1/l,u=iD(t.x,t.y,r,i,n),d=lD(u.x,u.y,r,i,l,s);return{x:d.x,y:d.y}}var Z1=!0,oD=console.warn!=null,uD=console.trace!=null,Yg=Number.MAX_SAFE_INTEGER||9007199254740991,KE=function(){return!0},Vd=function(){return!1},W1=function(){return 0},$g=function(){},un=function(e){throw new Error(e)},QE=function(e){if(e!==void 0)Z1=!!e;else return Z1},qt=function(e){QE()&&(oD?console.warn(e):(console.log(e),uD&&console.trace()))},cD=function(e){return st({},e)},da=function(e){return e==null?e:Zt(e)?e.slice():Dt(e)?cD(e):e},dD=function(e){return e.slice()},ZE=function(e,n){for(n=e="";e++<36;n+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return n},fD={},WE=function(){return fD},Un=function(e){var n=Object.keys(e);return function(r){for(var i={},l=0;l<n.length;l++){var s=n[l],u=r?.[s];i[s]=u===void 0?e[s]:u}return i}},ji=function(e,n,r){for(var i=e.length-1;i>=0;i--)e[i]===n&&e.splice(i,1)},Xg=function(e){e.splice(0,e.length)},hD=function(e,n){for(var r=0;r<n.length;r++){var i=n[r];e.push(i)}},fr=function(e,n,r){return r&&(n=IE(r,n)),e[n]},za=function(e,n,r,i){r&&(n=IE(r,n)),e[n]=i},vD=(function(){function t(){zi(this,t),this._obj={}}return _i(t,[{key:"set",value:function(n,r){return this._obj[n]=r,this}},{key:"delete",value:function(n){return this._obj[n]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(n){return this._obj[n]!==void 0}},{key:"get",value:function(n){return this._obj[n]}}])})(),_a=typeof Map<"u"?Map:vD,pD="undefined",mD=(function(){function t(e){if(zi(this,t),this._obj=Object.create(null),this.size=0,e!=null){var n;e.instanceString!=null&&e.instanceString()===this.instanceString()?n=e.toArray():n=e;for(var r=0;r<n.length;r++)this.add(n[r])}}return _i(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(n){var r=this._obj;r[n]!==1&&(r[n]=1,this.size++)}},{key:"delete",value:function(n){var r=this._obj;r[n]===1&&(r[n]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(n){return this._obj[n]===1}},{key:"toArray",value:function(){var n=this;return Object.keys(this._obj).filter(function(r){return n.has(r)})}},{key:"forEach",value:function(n,r){return this.toArray().forEach(n,r)}}])})(),Ds=(typeof Set>"u"?"undefined":Rn(Set))!==pD?Set:mD,cf=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||n===void 0||!Ug(e)){un("An element must have a core reference and parameters set");return}var i=n.group;if(i==null&&(n.data&&n.data.source!=null&&n.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){un("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var l=this._private={cy:e,single:!0,data:n.data||{},position:n.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!n.selected,selectable:n.selectable===void 0?!0:!!n.selectable,locked:!!n.locked,grabbed:!1,grabbable:n.grabbable===void 0?!0:!!n.grabbable,pannable:n.pannable===void 0?i==="edges":!!n.pannable,active:!1,classes:new Ds,animation:{current:[],queue:[]},rscratch:{},scratch:n.scratch||{},edges:[],children:[],parent:n.parent&&n.parent.isNode()?n.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(l.position.x==null&&(l.position.x=0),l.position.y==null&&(l.position.y=0),n.renderedPosition){var s=n.renderedPosition,u=e.pan(),d=e.zoom();l.position={x:(s.x-u.x)/d,y:(s.y-u.y)/d}}var c=[];Zt(n.classes)?c=n.classes:tt(n.classes)&&(c=n.classes.split(/\s+/));for(var h=0,v=c.length;h<v;h++){var m=c[h];!m||m===""||l.classes.add(m)}this.createEmitter(),(r===void 0||r)&&this.restore();var y=n.style||n.css;y&&(qt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(y))},J1=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(r,i,l){var s;Dt(r)&&!jr(r)&&(s=r,r=s.roots||s.root,i=s.visit,l=s.directed),l=arguments.length===2&&!dn(i)?i:l,i=dn(i)?i:function(){};for(var u=this._private.cy,d=r=tt(r)?this.filter(r):r,c=[],h=[],v={},m={},y={},x=0,S,w=this.byGroup(),E=w.nodes,T=w.edges,k=0;k<d.length;k++){var N=d[k],M=N.id();N.isNode()&&(c.unshift(N),e.bfs&&(y[M]=!0,h.push(N)),m[M]=0)}for(var R=function(){var D=e.bfs?c.shift():c.pop(),F=D.id();if(e.dfs){if(y[F])return 0;y[F]=!0,h.push(D)}var $=m[F],H=v[F],V=H!=null?H.source():null,K=H!=null?H.target():null,ee=H==null?void 0:D.same(V)?K[0]:V[0],I;if(I=i(D,H,ee,x++,$),I===!0)return S=D,1;if(I===!1)return 1;for(var _=D.connectedEdges().filter(function(de){return(!l||de.source().same(D))&&T.has(de)}),X=0;X<_.length;X++){var z=_[X],ne=z.connectedNodes().filter(function(de){return!de.same(D)&&E.has(de)}),le=ne.id();ne.length!==0&&!y[le]&&(ne=ne[0],c.push(ne),e.bfs&&(y[le]=!0,h.push(ne)),v[le]=z,m[le]=m[F]+1)}},A;c.length!==0&&(A=R(),!(A!==0&&A===1)););for(var O=u.collection(),B=0;B<h.length;B++){var P=h[B],q=v[P.id()];q!=null&&O.push(q),O.push(P)}return{path:u.collection(O),found:u.collection(S)}}},ou={breadthFirstSearch:J1({bfs:!0}),depthFirstSearch:J1({dfs:!0})};ou.bfs=ou.breadthFirstSearch;ou.dfs=ou.depthFirstSearch;var Ed={exports:{}},gD=Ed.exports,ew;function yD(){return ew||(ew=1,(function(t,e){(function(){var n,r,i,l,s,u,d,c,h,v,m,y,x,S,w;i=Math.floor,v=Math.min,r=function(E,T){return E<T?-1:E>T?1:0},h=function(E,T,k,N,M){var R;if(k==null&&(k=0),M==null&&(M=r),k<0)throw new Error("lo must be non-negative");for(N==null&&(N=E.length);k<N;)R=i((k+N)/2),M(T,E[R])<0?N=R:k=R+1;return[].splice.apply(E,[k,k-k].concat(T)),T},u=function(E,T,k){return k==null&&(k=r),E.push(T),S(E,0,E.length-1,k)},s=function(E,T){var k,N;return T==null&&(T=r),k=E.pop(),E.length?(N=E[0],E[0]=k,w(E,0,T)):N=k,N},c=function(E,T,k){var N;return k==null&&(k=r),N=E[0],E[0]=T,w(E,0,k),N},d=function(E,T,k){var N;return k==null&&(k=r),E.length&&k(E[0],T)<0&&(N=[E[0],T],T=N[0],E[0]=N[1],w(E,0,k)),T},l=function(E,T){var k,N,M,R,A,O;for(T==null&&(T=r),R=(function(){O=[];for(var B=0,P=i(E.length/2);0<=P?B<P:B>P;0<=P?B++:B--)O.push(B);return O}).apply(this).reverse(),A=[],N=0,M=R.length;N<M;N++)k=R[N],A.push(w(E,k,T));return A},x=function(E,T,k){var N;if(k==null&&(k=r),N=E.indexOf(T),N!==-1)return S(E,0,N,k),w(E,N,k)},m=function(E,T,k){var N,M,R,A,O;if(k==null&&(k=r),M=E.slice(0,T),!M.length)return M;for(l(M,k),O=E.slice(T),R=0,A=O.length;R<A;R++)N=O[R],d(M,N,k);return M.sort(k).reverse()},y=function(E,T,k){var N,M,R,A,O,B,P,q,L;if(k==null&&(k=r),T*10<=E.length){if(R=E.slice(0,T).sort(k),!R.length)return R;for(M=R[R.length-1],P=E.slice(T),A=0,B=P.length;A<B;A++)N=P[A],k(N,M)<0&&(h(R,N,0,null,k),R.pop(),M=R[R.length-1]);return R}for(l(E,k),L=[],O=0,q=v(T,E.length);0<=q?O<q:O>q;0<=q?++O:--O)L.push(s(E,k));return L},S=function(E,T,k,N){var M,R,A;for(N==null&&(N=r),M=E[k];k>T;){if(A=k-1>>1,R=E[A],N(M,R)<0){E[k]=R,k=A;continue}break}return E[k]=M},w=function(E,T,k){var N,M,R,A,O;for(k==null&&(k=r),M=E.length,O=T,R=E[T],N=2*T+1;N<M;)A=N+1,A<M&&!(k(E[N],E[A])<0)&&(N=A),E[T]=E[N],T=N,N=2*T+1;return E[T]=R,S(E,O,T,k)},n=(function(){E.push=u,E.pop=s,E.replace=c,E.pushpop=d,E.heapify=l,E.updateItem=x,E.nlargest=m,E.nsmallest=y;function E(T){this.cmp=T??r,this.nodes=[]}return E.prototype.push=function(T){return u(this.nodes,T,this.cmp)},E.prototype.pop=function(){return s(this.nodes,this.cmp)},E.prototype.peek=function(){return this.nodes[0]},E.prototype.contains=function(T){return this.nodes.indexOf(T)!==-1},E.prototype.replace=function(T){return c(this.nodes,T,this.cmp)},E.prototype.pushpop=function(T){return d(this.nodes,T,this.cmp)},E.prototype.heapify=function(){return l(this.nodes,this.cmp)},E.prototype.updateItem=function(T){return x(this.nodes,T,this.cmp)},E.prototype.clear=function(){return this.nodes=[]},E.prototype.empty=function(){return this.nodes.length===0},E.prototype.size=function(){return this.nodes.length},E.prototype.clone=function(){var T;return T=new E,T.nodes=this.nodes.slice(0),T},E.prototype.toArray=function(){return this.nodes.slice(0)},E.prototype.insert=E.prototype.push,E.prototype.top=E.prototype.peek,E.prototype.front=E.prototype.peek,E.prototype.has=E.prototype.contains,E.prototype.copy=E.prototype.clone,E})(),(function(E,T){return t.exports=T()})(this,function(){return n})}).call(gD)})(Ed)),Ed.exports}var fp,tw;function xD(){return tw||(tw=1,fp=yD()),fp}var bD=xD(),Nu=Eu(bD),wD=Un({root:null,weight:function(e){return 1},directed:!1}),SD={dijkstra:function(e){if(!Dt(e)){var n=arguments;e={root:n[0],weight:n[1],directed:n[2]}}var r=wD(e),i=r.root,l=r.weight,s=r.directed,u=this,d=l,c=tt(i)?this.filter(i)[0]:i[0],h={},v={},m={},y=this.byGroup(),x=y.nodes,S=y.edges;S.unmergeBy(function($){return $.isLoop()});for(var w=function(H){return h[H.id()]},E=function(H,V){h[H.id()]=V,T.updateItem(H)},T=new Nu(function($,H){return w($)-w(H)}),k=0;k<x.length;k++){var N=x[k];h[N.id()]=N.same(c)?0:1/0,T.push(N)}for(var M=function(H,V){for(var K=(s?H.edgesTo(V):H.edgesWith(V)).intersect(S),ee=1/0,I,_=0;_<K.length;_++){var X=K[_],z=d(X);(z<ee||!I)&&(ee=z,I=X)}return{edge:I,dist:ee}};T.size()>0;){var R=T.pop(),A=w(R),O=R.id();if(m[O]=A,A!==1/0)for(var B=R.neighborhood().intersect(x),P=0;P<B.length;P++){var q=B[P],L=q.id(),D=M(R,q),F=A+D.dist;F<w(q)&&(E(q,F),v[L]={node:R,edge:D.edge})}}return{distanceTo:function(H){var V=tt(H)?x.filter(H)[0]:H[0];return m[V.id()]},pathTo:function(H){var V=tt(H)?x.filter(H)[0]:H[0],K=[],ee=V,I=ee.id();if(V.length>0)for(K.unshift(V);v[I];){var _=v[I];K.unshift(_.edge),K.unshift(_.node),ee=_.node,I=ee.id()}return u.spawn(K)}}}},ED={kruskal:function(e){e=e||function(k){return 1};for(var n=this.byGroup(),r=n.nodes,i=n.edges,l=r.length,s=new Array(l),u=r,d=function(N){for(var M=0;M<s.length;M++){var R=s[M];if(R.has(N))return M}},c=0;c<l;c++)s[c]=this.spawn(r[c]);for(var h=i.sort(function(k,N){return e(k)-e(N)}),v=0;v<h.length;v++){var m=h[v],y=m.source()[0],x=m.target()[0],S=d(y),w=d(x),E=s[S],T=s[w];S!==w&&(u.merge(m),E.merge(T),s.splice(w,1))}return u}},CD=Un({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),TD={aStar:function(e){var n=this.cy(),r=CD(e),i=r.root,l=r.goal,s=r.heuristic,u=r.directed,d=r.weight;i=n.collection(i)[0],l=n.collection(l)[0];var c=i.id(),h=l.id(),v={},m={},y={},x=new Nu(function(I,_){return m[I.id()]-m[_.id()]}),S=new Ds,w={},E={},T=function(_,X){x.push(_),S.add(X)},k,N,M=function(){k=x.pop(),N=k.id(),S.delete(N)},R=function(_){return S.has(_)};T(i,c),v[c]=0,m[c]=s(i);for(var A=0;x.size()>0;){if(M(),A++,N===h){for(var O=[],B=l,P=h,q=E[P];O.unshift(B),q!=null&&O.unshift(q),B=w[P],B!=null;)P=B.id(),q=E[P];return{found:!0,distance:v[N],path:this.spawn(O),steps:A}}y[N]=!0;for(var L=k._private.edges,D=0;D<L.length;D++){var F=L[D];if(this.hasElementWithId(F.id())&&!(u&&F.data("source")!==N)){var $=F.source(),H=F.target(),V=$.id()!==N?$:H,K=V.id();if(this.hasElementWithId(K)&&!y[K]){var ee=v[N]+d(F);if(!R(K)){v[K]=ee,m[K]=ee+s(V),T(V,K),w[K]=k,E[K]=F;continue}ee<v[K]&&(v[K]=ee,m[K]=ee+s(V),w[K]=k,E[K]=F)}}}}return{found:!1,distance:void 0,path:void 0,steps:A}}},kD=Un({weight:function(e){return 1},directed:!1}),ND={floydWarshall:function(e){for(var n=this.cy(),r=kD(e),i=r.weight,l=r.directed,s=i,u=this.byGroup(),d=u.nodes,c=u.edges,h=d.length,v=h*h,m=function(z){return d.indexOf(z)},y=function(z){return d[z]},x=new Array(v),S=0;S<v;S++){var w=S%h,E=(S-w)/h;E===w?x[S]=0:x[S]=1/0}for(var T=new Array(v),k=new Array(v),N=0;N<c.length;N++){var M=c[N],R=M.source()[0],A=M.target()[0];if(R!==A){var O=m(R),B=m(A),P=O*h+B,q=s(M);if(x[P]>q&&(x[P]=q,T[P]=B,k[P]=M),!l){var L=B*h+O;!l&&x[L]>q&&(x[L]=q,T[L]=O,k[L]=M)}}}for(var D=0;D<h;D++)for(var F=0;F<h;F++)for(var $=F*h+D,H=0;H<h;H++){var V=F*h+H,K=D*h+H;x[$]+x[K]<x[V]&&(x[V]=x[$]+x[K],T[V]=T[$])}var ee=function(z){return(tt(z)?n.filter(z):z)[0]},I=function(z){return m(ee(z))},_={distance:function(z,ne){var le=I(z),de=I(ne);return x[le*h+de]},path:function(z,ne){var le=I(z),de=I(ne),ye=y(le);if(le===de)return ye.collection();if(T[le*h+de]==null)return n.collection();var je=n.collection(),xe=le,ie;for(je.merge(ye);le!==de;)xe=le,le=T[le*h+de],ie=k[xe*h+le],je.merge(ie),je.merge(y(le));return je}};return _}},AD=Un({weight:function(e){return 1},directed:!1,root:null}),RD={bellmanFord:function(e){var n=this,r=AD(e),i=r.weight,l=r.directed,s=r.root,u=i,d=this,c=this.cy(),h=this.byGroup(),v=h.edges,m=h.nodes,y=m.length,x=new _a,S=!1,w=[];s=c.collection(s)[0],v.unmergeBy(function(nt){return nt.isLoop()});for(var E=v.length,T=function($e){var Ge=x.get($e.id());return Ge||(Ge={},x.set($e.id(),Ge)),Ge},k=function($e){return(tt($e)?c.$($e):$e)[0]},N=function($e){return T(k($e)).dist},M=function($e){for(var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,Pe=k($e),Xe=[],We=Pe;;){if(We==null)return n.spawn();var at=T(We),Ue=at.edge,ft=at.pred;if(Xe.unshift(We[0]),We.same(Ge)&&Xe.length>0)break;Ue!=null&&Xe.unshift(Ue),We=ft}return d.spawn(Xe)},R=0;R<y;R++){var A=m[R],O=T(A);A.same(s)?O.dist=0:O.dist=1/0,O.pred=null,O.edge=null}for(var B=!1,P=function($e,Ge,Pe,Xe,We,at){var Ue=Xe.dist+at;Ue<We.dist&&!Pe.same(Xe.edge)&&(We.dist=Ue,We.pred=$e,We.edge=Pe,B=!0)},q=1;q<y;q++){B=!1;for(var L=0;L<E;L++){var D=v[L],F=D.source(),$=D.target(),H=u(D),V=T(F),K=T($);P(F,$,D,V,K,H),l||P($,F,D,K,V,H)}if(!B)break}if(B)for(var ee=[],I=0;I<E;I++){var _=v[I],X=_.source(),z=_.target(),ne=u(_),le=T(X).dist,de=T(z).dist;if(le+ne<de||!l&&de+ne<le)if(S||(qt("Graph contains a negative weight cycle for Bellman-Ford"),S=!0),e.findNegativeWeightCycles!==!1){var ye=[];le+ne<de&&ye.push(X),!l&&de+ne<le&&ye.push(z);for(var je=ye.length,xe=0;xe<je;xe++){var ie=ye[xe],ue=[ie];ue.push(T(ie).edge);for(var pe=T(ie).pred;ue.indexOf(pe)===-1;)ue.push(pe),ue.push(T(pe).edge),pe=T(pe).pred;ue=ue.slice(ue.indexOf(pe));for(var Te=ue[0].id(),Le=0,Ye=2;Ye<ue.length;Ye+=2)ue[Ye].id()<Te&&(Te=ue[Ye].id(),Le=Ye);ue=ue.slice(Le).concat(ue.slice(0,Le)),ue.push(ue[0]);var dt=ue.map(function(nt){return nt.id()}).join(",");ee.indexOf(dt)===-1&&(w.push(d.spawn(ue)),ee.push(dt))}}else break}return{distanceTo:N,pathTo:M,hasNegativeWeightCycle:S,negativeWeightCycles:w}}},jD=Math.sqrt(2),DD=function(e,n,r){r.length===0&&un("Karger-Stein must be run on a connected (sub)graph");for(var i=r[e],l=i[1],s=i[2],u=n[l],d=n[s],c=r,h=c.length-1;h>=0;h--){var v=c[h],m=v[1],y=v[2];(n[m]===u&&n[y]===d||n[m]===d&&n[y]===u)&&c.splice(h,1)}for(var x=0;x<c.length;x++){var S=c[x];S[1]===d?(c[x]=S.slice(),c[x][1]=u):S[2]===d&&(c[x]=S.slice(),c[x][2]=u)}for(var w=0;w<n.length;w++)n[w]===d&&(n[w]=u);return c},hp=function(e,n,r,i){for(;r>i;){var l=Math.floor(Math.random()*n.length);n=DD(l,e,n),r--}return n},MD={kargerStein:function(){var e=this,n=this.byGroup(),r=n.nodes,i=n.edges;i.unmergeBy(function(K){return K.isLoop()});var l=r.length,s=i.length,u=Math.ceil(Math.pow(Math.log(l)/Math.LN2,2)),d=Math.floor(l/jD);if(l<2){un("At least 2 nodes are required for Karger-Stein algorithm");return}for(var c=[],h=0;h<s;h++){var v=i[h];c.push([h,r.indexOf(v.source()),r.indexOf(v.target())])}for(var m=1/0,y=[],x=new Array(l),S=new Array(l),w=new Array(l),E=function(ee,I){for(var _=0;_<l;_++)I[_]=ee[_]},T=0;T<=u;T++){for(var k=0;k<l;k++)S[k]=k;var N=hp(S,c.slice(),l,d),M=N.slice();E(S,w);var R=hp(S,N,d,2),A=hp(w,M,d,2);R.length<=A.length&&R.length<m?(m=R.length,y=R,E(S,x)):A.length<=R.length&&A.length<m&&(m=A.length,y=A,E(w,x))}for(var O=this.spawn(y.map(function(K){return i[K[0]]})),B=this.spawn(),P=this.spawn(),q=x[0],L=0;L<x.length;L++){var D=x[L],F=r[L];D===q?B.merge(F):P.merge(F)}var $=function(ee){var I=e.spawn();return ee.forEach(function(_){I.merge(_),_.connectedEdges().forEach(function(X){e.contains(X)&&!O.contains(X)&&I.merge(X)})}),I},H=[$(B),$(P)],V={cut:O,components:H,partition1:B,partition2:P};return V}},vp,BD=function(e){return{x:e.x,y:e.y}},df=function(e,n,r){return{x:e.x*n+r.x,y:e.y*n+r.y}},JE=function(e,n,r){return{x:(e.x-r.x)/n,y:(e.y-r.y)/n}},ms=function(e){return{x:e[0],y:e[1]}},OD=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,l=n;l<r;l++){var s=e[l];isFinite(s)&&(i=Math.min(s,i))}return i},LD=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,l=n;l<r;l++){var s=e[l];isFinite(s)&&(i=Math.max(s,i))}return i},zD=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,l=0,s=n;s<r;s++){var u=e[s];isFinite(u)&&(i+=u,l++)}return i/l},_D=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(n,r):(r<e.length&&e.splice(r,e.length-r),n>0&&e.splice(0,n));for(var u=0,d=e.length-1;d>=0;d--){var c=e[d];s?isFinite(c)||(e[d]=-1/0,u++):e.splice(d,1)}l&&e.sort(function(m,y){return m-y});var h=e.length,v=Math.floor(h/2);return h%2!==0?e[v+1+u]:(e[v-1+u]+e[v+u])/2},PD=function(e){return Math.PI*e/180},ad=function(e,n){return Math.atan2(n,e)-Math.PI/2},Kg=Math.log2||function(t){return Math.log(t)/Math.log(2)},Qg=function(e){return e>0?1:e<0?-1:0},ml=function(e,n){return Math.sqrt(ol(e,n))},ol=function(e,n){var r=n.x-e.x,i=n.y-e.y;return r*r+i*i},ID=function(e){for(var n=e.length,r=0,i=0;i<n;i++)r+=e[i];for(var l=0;l<n;l++)e[l]=e[l]/r;return e},Bn=function(e,n,r,i){return(1-i)*(1-i)*e+2*(1-i)*i*n+i*i*r},xs=function(e,n,r,i){return{x:Bn(e.x,n.x,r.x,i),y:Bn(e.y,n.y,r.y,i)}},qD=function(e,n,r,i){var l={x:n.x-e.x,y:n.y-e.y},s=ml(e,n),u={x:l.x/s,y:l.y/s};return r=r??0,i=i??r*s,{x:e.x+u.x*i,y:e.y+u.y*i}},uu=function(e,n,r){return Math.max(e,Math.min(r,n))},er=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},FD=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},HD=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},UD=function(e,n){e.x1=Math.min(e.x1,n.x1),e.x2=Math.max(e.x2,n.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n.y1),e.y2=Math.max(e.y2,n.y2),e.h=e.y2-e.y1},eC=function(e,n,r){e.x1=Math.min(e.x1,n),e.x2=Math.max(e.x2,n),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r),e.y2=Math.max(e.y2,r),e.h=e.y2-e.y1},Cd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=n,e.x2+=n,e.y1-=n,e.y2+=n,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Td=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],r,i,l,s;if(n.length===1)r=i=l=s=n[0];else if(n.length===2)r=l=n[0],s=i=n[1];else if(n.length===4){var u=Tn(n,4);r=u[0],i=u[1],l=u[2],s=u[3]}return e.x1-=s,e.x2+=i,e.y1-=r,e.y2+=l,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},nw=function(e,n){e.x1=n.x1,e.y1=n.y1,e.x2=n.x2,e.y2=n.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Zg=function(e,n){return!(e.x1>n.x2||n.x1>e.x2||e.x2<n.x1||n.x2<e.x1||e.y2<n.y1||n.y2<e.y1||e.y1>n.y2||n.y1>e.y2)},Ti=function(e,n,r){return e.x1<=n&&n<=e.x2&&e.y1<=r&&r<=e.y2},rw=function(e,n){return Ti(e,n.x,n.y)},tC=function(e,n){return Ti(e,n.x1,n.y1)&&Ti(e,n.x2,n.y2)},VD=(vp=Math.hypot)!==null&&vp!==void 0?vp:function(t,e){return Math.sqrt(t*t+e*e)};function GD(t,e){if(t.length<3)throw new Error("Need at least 3 vertices");var n=function(O,B){return{x:O.x+B.x,y:O.y+B.y}},r=function(O,B){return{x:O.x-B.x,y:O.y-B.y}},i=function(O,B){return{x:O.x*B,y:O.y*B}},l=function(O,B){return O.x*B.y-O.y*B.x},s=function(O){var B=VD(O.x,O.y);return B===0?{x:0,y:0}:{x:O.x/B,y:O.y/B}},u=function(O){for(var B=0,P=0;P<O.length;P++){var q=O[P],L=O[(P+1)%O.length];B+=q.x*L.y-L.x*q.y}return B/2},d=function(O,B,P,q){var L=r(B,O),D=r(q,P),F=l(L,D);if(Math.abs(F)<1e-9)return n(O,i(L,.5));var $=l(r(P,O),D)/F;return n(O,i(L,$))},c=t.map(function(A){return{x:A.x,y:A.y}});u(c)<0&&c.reverse();for(var h=c.length,v=[],m=0;m<h;m++){var y=c[m],x=c[(m+1)%h],S=r(x,y),w=s({x:S.y,y:-S.x});v.push(w)}for(var E=v.map(function(A,O){var B=n(c[O],i(A,e)),P=n(c[(O+1)%h],i(A,e));return{p1:B,p2:P}}),T=[],k=0;k<h;k++){var N=E[(k-1+h)%h],M=E[k],R=d(N.p1,N.p2,M.p1,M.p2);T.push(R)}return T}function YD(t,e,n,r,i,l){var s=t3(t,e,n,r,i),u=GD(s,l),d=er();return u.forEach(function(c){return eC(d,c.x,c.y)}),d}var nC=function(e,n,r,i,l,s,u){var d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",c=d==="auto"?Di(l,s):d,h=l/2,v=s/2;c=Math.min(c,h,v);var m=c!==h,y=c!==v,x;if(m){var S=r-h+c-u,w=i-v-u,E=r+h-c+u,T=w;if(x=ki(e,n,r,i,S,w,E,T,!1),x.length>0)return x}if(y){var k=r+h+u,N=i-v+c-u,M=k,R=i+v-c+u;if(x=ki(e,n,r,i,k,N,M,R,!1),x.length>0)return x}if(m){var A=r-h+c-u,O=i+v+u,B=r+h-c+u,P=O;if(x=ki(e,n,r,i,A,O,B,P,!1),x.length>0)return x}if(y){var q=r-h-u,L=i-v+c-u,D=q,F=i+v-c+u;if(x=ki(e,n,r,i,q,L,D,F,!1),x.length>0)return x}var $;{var H=r-h+c,V=i-v+c;if($=Yo(e,n,r,i,H,V,c+u),$.length>0&&$[0]<=H&&$[1]<=V)return[$[0],$[1]]}{var K=r+h-c,ee=i-v+c;if($=Yo(e,n,r,i,K,ee,c+u),$.length>0&&$[0]>=K&&$[1]<=ee)return[$[0],$[1]]}{var I=r+h-c,_=i+v-c;if($=Yo(e,n,r,i,I,_,c+u),$.length>0&&$[0]>=I&&$[1]>=_)return[$[0],$[1]]}{var X=r-h+c,z=i+v-c;if($=Yo(e,n,r,i,X,z,c+u),$.length>0&&$[0]<=X&&$[1]>=z)return[$[0],$[1]]}return[]},$D=function(e,n,r,i,l,s,u){var d=u,c=Math.min(r,l),h=Math.max(r,l),v=Math.min(i,s),m=Math.max(i,s);return c-d<=e&&e<=h+d&&v-d<=n&&n<=m+d},XD=function(e,n,r,i,l,s,u,d,c){var h={x1:Math.min(r,u,l)-c,x2:Math.max(r,u,l)+c,y1:Math.min(i,d,s)-c,y2:Math.max(i,d,s)+c};return!(e<h.x1||e>h.x2||n<h.y1||n>h.y2)},KD=function(e,n,r,i){r-=i;var l=n*n-4*e*r;if(l<0)return[];var s=Math.sqrt(l),u=2*e,d=(-n+s)/u,c=(-n-s)/u;return[d,c]},QD=function(e,n,r,i,l){var s=1e-5;e===0&&(e=s),n/=e,r/=e,i/=e;var u,d,c,h,v,m,y,x;if(d=(3*r-n*n)/9,c=-(27*i)+n*(9*r-2*(n*n)),c/=54,u=d*d*d+c*c,l[1]=0,y=n/3,u>0){v=c+Math.sqrt(u),v=v<0?-Math.pow(-v,1/3):Math.pow(v,1/3),m=c-Math.sqrt(u),m=m<0?-Math.pow(-m,1/3):Math.pow(m,1/3),l[0]=-y+v+m,y+=(v+m)/2,l[4]=l[2]=-y,y=Math.sqrt(3)*(-m+v)/2,l[3]=y,l[5]=-y;return}if(l[5]=l[3]=0,u===0){x=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),l[0]=-y+2*x,l[4]=l[2]=-(x+y);return}d=-d,h=d*d*d,h=Math.acos(c/Math.sqrt(h)),x=2*Math.sqrt(d),l[0]=-y+x*Math.cos(h/3),l[2]=-y+x*Math.cos((h+2*Math.PI)/3),l[4]=-y+x*Math.cos((h+4*Math.PI)/3)},ZD=function(e,n,r,i,l,s,u,d){var c=1*r*r-4*r*l+2*r*u+4*l*l-4*l*u+u*u+i*i-4*i*s+2*i*d+4*s*s-4*s*d+d*d,h=9*r*l-3*r*r-3*r*u-6*l*l+3*l*u+9*i*s-3*i*i-3*i*d-6*s*s+3*s*d,v=3*r*r-6*r*l+r*u-r*e+2*l*l+2*l*e-u*e+3*i*i-6*i*s+i*d-i*n+2*s*s+2*s*n-d*n,m=1*r*l-r*r+r*e-l*e+i*s-i*i+i*n-s*n,y=[];QD(c,h,v,m,y);for(var x=1e-7,S=[],w=0;w<6;w+=2)Math.abs(y[w+1])<x&&y[w]>=0&&y[w]<=1&&S.push(y[w]);S.push(1),S.push(0);for(var E=-1,T,k,N,M=0;M<S.length;M++)T=Math.pow(1-S[M],2)*r+2*(1-S[M])*S[M]*l+S[M]*S[M]*u,k=Math.pow(1-S[M],2)*i+2*(1-S[M])*S[M]*s+S[M]*S[M]*d,N=Math.pow(T-e,2)+Math.pow(k-n,2),E>=0?N<E&&(E=N):E=N;return E},WD=function(e,n,r,i,l,s){var u=[e-r,n-i],d=[l-r,s-i],c=d[0]*d[0]+d[1]*d[1],h=u[0]*u[0]+u[1]*u[1],v=u[0]*d[0]+u[1]*d[1],m=v*v/c;return v<0?h:m>c?(e-l)*(e-l)+(n-s)*(n-s):h-m},hr=function(e,n,r){for(var i,l,s,u,d,c=0,h=0;h<r.length/2;h++)if(i=r[h*2],l=r[h*2+1],h+1<r.length/2?(s=r[(h+1)*2],u=r[(h+1)*2+1]):(s=r[(h+1-r.length/2)*2],u=r[(h+1-r.length/2)*2+1]),!(i==e&&s==e))if(i>=e&&e>=s||i<=e&&e<=s)d=(e-i)/(s-i)*(u-l)+l,d>n&&c++;else continue;return c%2!==0},Fa=function(e,n,r,i,l,s,u,d,c){var h=new Array(r.length),v;d[0]!=null?(v=Math.atan(d[1]/d[0]),d[0]<0?v=v+Math.PI/2:v=-v-Math.PI/2):v=d;for(var m=Math.cos(-v),y=Math.sin(-v),x=0;x<h.length/2;x++)h[x*2]=s/2*(r[x*2]*m-r[x*2+1]*y),h[x*2+1]=u/2*(r[x*2+1]*m+r[x*2]*y),h[x*2]+=i,h[x*2+1]+=l;var S;if(c>0){var w=Yd(h,-c);S=Gd(w)}else S=h;return hr(e,n,S)},JD=function(e,n,r,i,l,s,u,d){for(var c=new Array(r.length*2),h=0;h<d.length;h++){var v=d[h];c[h*4+0]=v.startX,c[h*4+1]=v.startY,c[h*4+2]=v.stopX,c[h*4+3]=v.stopY;var m=Math.pow(v.cx-e,2)+Math.pow(v.cy-n,2);if(m<=Math.pow(v.radius,2))return!0}return hr(e,n,c)},Gd=function(e){for(var n=new Array(e.length/2),r,i,l,s,u,d,c,h,v=0;v<e.length/4;v++){r=e[v*4],i=e[v*4+1],l=e[v*4+2],s=e[v*4+3],v<e.length/4-1?(u=e[(v+1)*4],d=e[(v+1)*4+1],c=e[(v+1)*4+2],h=e[(v+1)*4+3]):(u=e[0],d=e[1],c=e[2],h=e[3]);var m=ki(r,i,l,s,u,d,c,h,!0);n[v*2]=m[0],n[v*2+1]=m[1]}return n},Yd=function(e,n){for(var r=new Array(e.length*2),i,l,s,u,d=0;d<e.length/2;d++){i=e[d*2],l=e[d*2+1],d<e.length/2-1?(s=e[(d+1)*2],u=e[(d+1)*2+1]):(s=e[0],u=e[1]);var c=u-l,h=-(s-i),v=Math.sqrt(c*c+h*h),m=c/v,y=h/v;r[d*4]=i+m*n,r[d*4+1]=l+y*n,r[d*4+2]=s+m*n,r[d*4+3]=u+y*n}return r},e3=function(e,n,r,i,l,s){var u=r-e,d=i-n;u/=l,d/=s;var c=Math.sqrt(u*u+d*d),h=c-1;if(h<0)return[];var v=h/c;return[(r-e)*v+e,(i-n)*v+n]},fl=function(e,n,r,i,l,s,u){return e-=l,n-=s,e/=r/2+u,n/=i/2+u,e*e+n*n<=1},Yo=function(e,n,r,i,l,s,u){var d=[r-e,i-n],c=[e-l,n-s],h=d[0]*d[0]+d[1]*d[1],v=2*(c[0]*d[0]+c[1]*d[1]),m=c[0]*c[0]+c[1]*c[1]-u*u,y=v*v-4*h*m;if(y<0)return[];var x=(-v+Math.sqrt(y))/(2*h),S=(-v-Math.sqrt(y))/(2*h),w=Math.min(x,S),E=Math.max(x,S),T=[];if(w>=0&&w<=1&&T.push(w),E>=0&&E<=1&&T.push(E),T.length===0)return[];var k=T[0]*d[0]+e,N=T[0]*d[1]+n;if(T.length>1){if(T[0]==T[1])return[k,N];var M=T[1]*d[0]+e,R=T[1]*d[1]+n;return[k,N,M,R]}else return[k,N]},pp=function(e,n,r){return n<=e&&e<=r||r<=e&&e<=n?e:e<=n&&n<=r||r<=n&&n<=e?n:r},ki=function(e,n,r,i,l,s,u,d,c){var h=e-l,v=r-e,m=u-l,y=n-s,x=i-n,S=d-s,w=m*y-S*h,E=v*y-x*h,T=S*v-m*x;if(T!==0){var k=w/T,N=E/T,M=.001,R=0-M,A=1+M;return R<=k&&k<=A&&R<=N&&N<=A?[e+k*v,n+k*x]:c?[e+k*v,n+k*x]:[]}else return w===0||E===0?pp(e,r,u)===u?[u,d]:pp(e,r,l)===l?[l,s]:pp(l,u,r)===r?[r,i]:[]:[]},t3=function(e,n,r,i,l){var s=[],u=i/2,d=l/2,c=n,h=r;s.push({x:c+u*e[0],y:h+d*e[1]});for(var v=1;v<e.length/2;v++)s.push({x:c+u*e[v*2],y:h+d*e[v*2+1]});return s},cu=function(e,n,r,i,l,s,u,d){var c=[],h,v=new Array(r.length),m=!0;s==null&&(m=!1);var y;if(m){for(var x=0;x<v.length/2;x++)v[x*2]=r[x*2]*s+i,v[x*2+1]=r[x*2+1]*u+l;if(d>0){var S=Yd(v,-d);y=Gd(S)}else y=v}else y=r;for(var w,E,T,k,N=0;N<y.length/2;N++)w=y[N*2],E=y[N*2+1],N<y.length/2-1?(T=y[(N+1)*2],k=y[(N+1)*2+1]):(T=y[0],k=y[1]),h=ki(e,n,i,l,w,E,T,k),h.length!==0&&c.push(h[0],h[1]);return c},n3=function(e,n,r,i,l,s,u,d,c){var h=[],v,m=new Array(r.length*2);c.forEach(function(T,k){k===0?(m[m.length-2]=T.startX,m[m.length-1]=T.startY):(m[k*4-2]=T.startX,m[k*4-1]=T.startY),m[k*4]=T.stopX,m[k*4+1]=T.stopY,v=Yo(e,n,i,l,T.cx,T.cy,T.radius),v.length!==0&&h.push(v[0],v[1])});for(var y=0;y<m.length/4;y++)v=ki(e,n,i,l,m[y*4],m[y*4+1],m[y*4+2],m[y*4+3],!1),v.length!==0&&h.push(v[0],v[1]);if(h.length>2){for(var x=[h[0],h[1]],S=Math.pow(x[0]-e,2)+Math.pow(x[1]-n,2),w=1;w<h.length/2;w++){var E=Math.pow(h[w*2]-e,2)+Math.pow(h[w*2+1]-n,2);E<=S&&(x[0]=h[w*2],x[1]=h[w*2+1],S=E)}return x}return h},id=function(e,n,r){var i=[e[0]-n[0],e[1]-n[1]],l=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=(l-r)/l;return s<0&&(s=1e-5),[n[0]+s*i[0],n[1]+s*i[1]]},Jn=function(e,n){var r=Wm(e,n);return r=rC(r),r},rC=function(e){for(var n,r,i=e.length/2,l=1/0,s=1/0,u=-1/0,d=-1/0,c=0;c<i;c++)n=e[2*c],r=e[2*c+1],l=Math.min(l,n),u=Math.max(u,n),s=Math.min(s,r),d=Math.max(d,r);for(var h=2/(u-l),v=2/(d-s),m=0;m<i;m++)n=e[2*m]=e[2*m]*h,r=e[2*m+1]=e[2*m+1]*v,l=Math.min(l,n),u=Math.max(u,n),s=Math.min(s,r),d=Math.max(d,r);if(s<-1)for(var y=0;y<i;y++)r=e[2*y+1]=e[2*y+1]+(-1-s);return e},Wm=function(e,n){var r=1/e*2*Math.PI,i=e%2===0?Math.PI/2+r/2:Math.PI/2;i+=n;for(var l=new Array(e*2),s,u=0;u<e;u++)s=u*r+i,l[2*u]=Math.cos(s),l[2*u+1]=Math.sin(-s);return l},Di=function(e,n){return Math.min(e/4,n/4,8)},aC=function(e,n){return Math.min(e/10,n/10,8)},Wg=function(){return 8},r3=function(e,n,r){return[e-2*n+r,2*(n-e),e]},Jm=function(e,n){return{heightOffset:Math.min(15,.05*n),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function mp(t,e){function n(v){for(var m=[],y=0;y<v.length;y++){var x=v[y],S=v[(y+1)%v.length],w={x:S.x-x.x,y:S.y-x.y},E={x:-w.y,y:w.x},T=Math.sqrt(E.x*E.x+E.y*E.y);m.push({x:E.x/T,y:E.y/T})}return m}function r(v,m){var y=1/0,x=-1/0,S=vr(v),w;try{for(S.s();!(w=S.n()).done;){var E=w.value,T=E.x*m.x+E.y*m.y;y=Math.min(y,T),x=Math.max(x,T)}}catch(k){S.e(k)}finally{S.f()}return{min:y,max:x}}function i(v,m){return!(v.max<m.min||m.max<v.min)}var l=[].concat(Fd(n(t)),Fd(n(e))),s=vr(l),u;try{for(s.s();!(u=s.n()).done;){var d=u.value,c=r(t,d),h=r(e,d);if(!i(c,h))return!1}}catch(v){s.e(v)}finally{s.f()}return!0}var a3=Un({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),i3={pageRank:function(e){for(var n=a3(e),r=n.dampingFactor,i=n.precision,l=n.iterations,s=n.weight,u=this._private.cy,d=this.byGroup(),c=d.nodes,h=d.edges,v=c.length,m=v*v,y=h.length,x=new Array(m),S=new Array(v),w=(1-r)/v,E=0;E<v;E++){for(var T=0;T<v;T++){var k=E*v+T;x[k]=0}S[E]=0}for(var N=0;N<y;N++){var M=h[N],R=M.data("source"),A=M.data("target");if(R!==A){var O=c.indexOfId(R),B=c.indexOfId(A),P=s(M),q=B*v+O;x[q]+=P,S[O]+=P}}for(var L=1/v+w,D=0;D<v;D++)if(S[D]===0)for(var F=0;F<v;F++){var $=F*v+D;x[$]=L}else for(var H=0;H<v;H++){var V=H*v+D;x[V]=x[V]/S[D]+w}for(var K=new Array(v),ee=new Array(v),I,_=0;_<v;_++)K[_]=1;for(var X=0;X<l;X++){for(var z=0;z<v;z++)ee[z]=0;for(var ne=0;ne<v;ne++)for(var le=0;le<v;le++){var de=ne*v+le;ee[ne]+=x[de]*K[le]}ID(ee),I=K,K=ee,ee=I;for(var ye=0,je=0;je<v;je++){var xe=I[je]-K[je];ye+=xe*xe}if(ye<i)break}var ie={rank:function(pe){return pe=u.collection(pe)[0],K[c.indexOf(pe)]}};return ie}},aw=Un({root:null,weight:function(e){return 1},directed:!1,alpha:0}),bs={degreeCentralityNormalized:function(e){e=aw(e);var n=this.cy(),r=this.nodes(),i=r.length;if(e.directed){for(var h={},v={},m=0,y=0,x=0;x<i;x++){var S=r[x],w=S.id();e.root=S;var E=this.degreeCentrality(e);m<E.indegree&&(m=E.indegree),y<E.outdegree&&(y=E.outdegree),h[w]=E.indegree,v[w]=E.outdegree}return{indegree:function(k){return m==0?0:(tt(k)&&(k=n.filter(k)),h[k.id()]/m)},outdegree:function(k){return y===0?0:(tt(k)&&(k=n.filter(k)),v[k.id()]/y)}}}else{for(var l={},s=0,u=0;u<i;u++){var d=r[u];e.root=d;var c=this.degreeCentrality(e);s<c.degree&&(s=c.degree),l[d.id()]=c.degree}return{degree:function(k){return s===0?0:(tt(k)&&(k=n.filter(k)),l[k.id()]/s)}}}},degreeCentrality:function(e){e=aw(e);var n=this.cy(),r=this,i=e,l=i.root,s=i.weight,u=i.directed,d=i.alpha;if(l=n.collection(l)[0],u){for(var y=l.connectedEdges(),x=y.filter(function(R){return R.target().same(l)&&r.has(R)}),S=y.filter(function(R){return R.source().same(l)&&r.has(R)}),w=x.length,E=S.length,T=0,k=0,N=0;N<x.length;N++)T+=s(x[N]);for(var M=0;M<S.length;M++)k+=s(S[M]);return{indegree:Math.pow(w,1-d)*Math.pow(T,d),outdegree:Math.pow(E,1-d)*Math.pow(k,d)}}else{for(var c=l.connectedEdges().intersection(r),h=c.length,v=0,m=0;m<c.length;m++)v+=s(c[m]);return{degree:Math.pow(h,1-d)*Math.pow(v,d)}}}};bs.dc=bs.degreeCentrality;bs.dcn=bs.degreeCentralityNormalised=bs.degreeCentralityNormalized;var iw=Un({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),ws={closenessCentralityNormalized:function(e){for(var n=iw(e),r=n.harmonic,i=n.weight,l=n.directed,s=this.cy(),u={},d=0,c=this.nodes(),h=this.floydWarshall({weight:i,directed:l}),v=0;v<c.length;v++){for(var m=0,y=c[v],x=0;x<c.length;x++)if(v!==x){var S=h.distance(y,c[x]);r?m+=1/S:m+=S}r||(m=1/m),d<m&&(d=m),u[y.id()]=m}return{closeness:function(E){return d==0?0:(tt(E)?E=s.filter(E)[0].id():E=E.id(),u[E]/d)}}},closenessCentrality:function(e){var n=iw(e),r=n.root,i=n.weight,l=n.directed,s=n.harmonic;r=this.filter(r)[0];for(var u=this.dijkstra({root:r,weight:i,directed:l}),d=0,c=this.nodes(),h=0;h<c.length;h++){var v=c[h];if(!v.same(r)){var m=u.distanceTo(v);s?d+=1/m:d+=m}}return s?d:1/d}};ws.cc=ws.closenessCentrality;ws.ccn=ws.closenessCentralityNormalised=ws.closenessCentralityNormalized;var l3=Un({weight:null,directed:!1}),eg={betweennessCentrality:function(e){for(var n=l3(e),r=n.directed,i=n.weight,l=i!=null,s=this.cy(),u=this.nodes(),d={},c={},h=0,v={set:function(k,N){c[k]=N,N>h&&(h=N)},get:function(k){return c[k]}},m=0;m<u.length;m++){var y=u[m],x=y.id();r?d[x]=y.outgoers().nodes():d[x]=y.openNeighborhood().nodes(),v.set(x,0)}for(var S=function(){for(var k=u[w].id(),N=[],M={},R={},A={},O=new Nu(function(ne,le){return A[ne]-A[le]}),B=0;B<u.length;B++){var P=u[B].id();M[P]=[],R[P]=0,A[P]=1/0}for(R[k]=1,A[k]=0,O.push(k);!O.empty();){var q=O.pop();if(N.push(q),l)for(var L=0;L<d[q].length;L++){var D=d[q][L],F=s.getElementById(q),$=void 0;F.edgesTo(D).length>0?$=F.edgesTo(D)[0]:$=D.edgesTo(F)[0];var H=i($);D=D.id(),A[D]>A[q]+H&&(A[D]=A[q]+H,O.nodes.indexOf(D)<0?O.push(D):O.updateItem(D),R[D]=0,M[D]=[]),A[D]==A[q]+H&&(R[D]=R[D]+R[q],M[D].push(q))}else for(var V=0;V<d[q].length;V++){var K=d[q][V].id();A[K]==1/0&&(O.push(K),A[K]=A[q]+1),A[K]==A[q]+1&&(R[K]=R[K]+R[q],M[K].push(q))}}for(var ee={},I=0;I<u.length;I++)ee[u[I].id()]=0;for(;N.length>0;){for(var _=N.pop(),X=0;X<M[_].length;X++){var z=M[_][X];ee[z]=ee[z]+R[z]/R[_]*(1+ee[_])}_!=u[w].id()&&v.set(_,v.get(_)+ee[_])}},w=0;w<u.length;w++)S();var E={betweenness:function(k){var N=s.collection(k).id();return v.get(N)},betweennessNormalized:function(k){if(h==0)return 0;var N=s.collection(k).id();return v.get(N)/h}};return E.betweennessNormalised=E.betweennessNormalized,E}};eg.bc=eg.betweennessCentrality;var s3=Un({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),o3=function(e){return s3(e)},u3=function(e,n){for(var r=0,i=0;i<n.length;i++)r+=n[i](e);return r},c3=function(e,n,r){for(var i=0;i<n;i++)e[i*n+i]=r},iC=function(e,n){for(var r,i=0;i<n;i++){r=0;for(var l=0;l<n;l++)r+=e[l*n+i];for(var s=0;s<n;s++)e[s*n+i]=e[s*n+i]/r}},d3=function(e,n,r){for(var i=new Array(r*r),l=0;l<r;l++){for(var s=0;s<r;s++)i[l*r+s]=0;for(var u=0;u<r;u++)for(var d=0;d<r;d++)i[l*r+d]+=e[l*r+u]*n[u*r+d]}return i},f3=function(e,n,r){for(var i=e.slice(0),l=1;l<r;l++)e=d3(e,i,n);return e},h3=function(e,n,r){for(var i=new Array(n*n),l=0;l<n*n;l++)i[l]=Math.pow(e[l],r);return iC(i,n),i},v3=function(e,n,r,i){for(var l=0;l<r;l++){var s=Math.round(e[l]*Math.pow(10,i))/Math.pow(10,i),u=Math.round(n[l]*Math.pow(10,i))/Math.pow(10,i);if(s!==u)return!1}return!0},p3=function(e,n,r,i){for(var l=[],s=0;s<n;s++){for(var u=[],d=0;d<n;d++)Math.round(e[s*n+d]*1e3)/1e3>0&&u.push(r[d]);u.length!==0&&l.push(i.collection(u))}return l},m3=function(e,n){for(var r=0;r<e.length;r++)if(!n[r]||e[r].id()!==n[r].id())return!1;return!0},g3=function(e){for(var n=0;n<e.length;n++)for(var r=0;r<e.length;r++)n!=r&&m3(e[n],e[r])&&e.splice(r,1);return e},lw=function(e){for(var n=this.nodes(),r=this.edges(),i=this.cy(),l=o3(e),s={},u=0;u<n.length;u++)s[n[u].id()]=u;for(var d=n.length,c=d*d,h=new Array(c),v,m=0;m<c;m++)h[m]=0;for(var y=0;y<r.length;y++){var x=r[y],S=s[x.source().id()],w=s[x.target().id()],E=u3(x,l.attributes);h[S*d+w]+=E,h[w*d+S]+=E}c3(h,d,l.multFactor),iC(h,d);for(var T=!0,k=0;T&&k<l.maxIterations;)T=!1,v=f3(h,d,l.expandFactor),h=h3(v,d,l.inflateFactor),v3(h,v,c,4)||(T=!0),k++;var N=p3(h,d,n,i);return N=g3(N),N},y3={markovClustering:lw,mcl:lw},x3=function(e){return e},lC=function(e,n){return Math.abs(n-e)},sw=function(e,n,r){return e+lC(n,r)},ow=function(e,n,r){return e+Math.pow(r-n,2)},b3=function(e){return Math.sqrt(e)},w3=function(e,n,r){return Math.max(e,lC(n,r))},Oo=function(e,n,r,i,l){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:x3,u=i,d,c,h=0;h<e;h++)d=n(h),c=r(h),u=l(u,d,c);return s(u)},ks={euclidean:function(e,n,r){return e>=2?Oo(e,n,r,0,ow,b3):Oo(e,n,r,0,sw)},squaredEuclidean:function(e,n,r){return Oo(e,n,r,0,ow)},manhattan:function(e,n,r){return Oo(e,n,r,0,sw)},max:function(e,n,r){return Oo(e,n,r,-1/0,w3)}};ks["squared-euclidean"]=ks.squaredEuclidean;ks.squaredeuclidean=ks.squaredEuclidean;function ff(t,e,n,r,i,l){var s;return dn(t)?s=t:s=ks[t]||ks.euclidean,e===0&&dn(t)?s(i,l):s(e,n,r,i,l)}var S3=Un({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Jg=function(e){return S3(e)},$d=function(e,n,r,i,l){var s=l!=="kMedoids",u=s?function(v){return r[v]}:function(v){return i[v](r)},d=function(m){return i[m](n)},c=r,h=n;return ff(e,i.length,u,d,c,h)},gp=function(e,n,r){for(var i=r.length,l=new Array(i),s=new Array(i),u=new Array(n),d=null,c=0;c<i;c++)l[c]=e.min(r[c]).value,s[c]=e.max(r[c]).value;for(var h=0;h<n;h++){d=[];for(var v=0;v<i;v++)d[v]=Math.random()*(s[v]-l[v])+l[v];u[h]=d}return u},sC=function(e,n,r,i,l){for(var s=1/0,u=0,d=0;d<n.length;d++){var c=$d(r,e,n[d],i,l);c<s&&(s=c,u=d)}return u},oC=function(e,n,r){for(var i=[],l=null,s=0;s<n.length;s++)l=n[s],r[l.id()]===e&&i.push(l);return i},E3=function(e,n,r){return Math.abs(n-e)<=r},C3=function(e,n,r){for(var i=0;i<e.length;i++)for(var l=0;l<e[i].length;l++){var s=Math.abs(e[i][l]-n[i][l]);if(s>r)return!1}return!0},T3=function(e,n,r){for(var i=0;i<r;i++)if(e===n[i])return!0;return!1},uw=function(e,n){var r=new Array(n);if(e.length<50)for(var i=0;i<n;i++){for(var l=e[Math.floor(Math.random()*e.length)];T3(l,r,i);)l=e[Math.floor(Math.random()*e.length)];r[i]=l}else for(var s=0;s<n;s++)r[s]=e[Math.floor(Math.random()*e.length)];return r},cw=function(e,n,r){for(var i=0,l=0;l<n.length;l++)i+=$d("manhattan",n[l],e,r,"kMedoids");return i},k3=function(e){var n=this.cy(),r=this.nodes(),i=null,l=Jg(e),s=new Array(l.k),u={},d;l.testMode?typeof l.testCentroids=="number"?(l.testCentroids,d=gp(r,l.k,l.attributes)):Rn(l.testCentroids)==="object"?d=l.testCentroids:d=gp(r,l.k,l.attributes):d=gp(r,l.k,l.attributes);for(var c=!0,h=0;c&&h<l.maxIterations;){for(var v=0;v<r.length;v++)i=r[v],u[i.id()]=sC(i,d,l.distance,l.attributes,"kMeans");c=!1;for(var m=0;m<l.k;m++){var y=oC(m,r,u);if(y.length!==0){for(var x=l.attributes.length,S=d[m],w=new Array(x),E=new Array(x),T=0;T<x;T++){E[T]=0;for(var k=0;k<y.length;k++)i=y[k],E[T]+=l.attributes[T](i);w[T]=E[T]/y.length,E3(w[T],S[T],l.sensitivityThreshold)||(c=!0)}d[m]=w,s[m]=n.collection(y)}}h++}return s},N3=function(e){var n=this.cy(),r=this.nodes(),i=null,l=Jg(e),s=new Array(l.k),u,d={},c,h=new Array(l.k);l.testMode?typeof l.testCentroids=="number"||(Rn(l.testCentroids)==="object"?u=l.testCentroids:u=uw(r,l.k)):u=uw(r,l.k);for(var v=!0,m=0;v&&m<l.maxIterations;){for(var y=0;y<r.length;y++)i=r[y],d[i.id()]=sC(i,u,l.distance,l.attributes,"kMedoids");v=!1;for(var x=0;x<u.length;x++){var S=oC(x,r,d);if(S.length!==0){h[x]=cw(u[x],S,l.attributes);for(var w=0;w<S.length;w++)c=cw(S[w],S,l.attributes),c<h[x]&&(h[x]=c,u[x]=S[w],v=!0);s[x]=n.collection(S)}}m++}return s},A3=function(e,n,r,i,l){for(var s,u,d=0;d<n.length;d++)for(var c=0;c<e.length;c++)i[d][c]=Math.pow(r[d][c],l.m);for(var h=0;h<e.length;h++)for(var v=0;v<l.attributes.length;v++){s=0,u=0;for(var m=0;m<n.length;m++)s+=i[m][h]*l.attributes[v](n[m]),u+=i[m][h];e[h][v]=s/u}},R3=function(e,n,r,i,l){for(var s=0;s<e.length;s++)n[s]=e[s].slice();for(var u,d,c,h=2/(l.m-1),v=0;v<r.length;v++)for(var m=0;m<i.length;m++){u=0;for(var y=0;y<r.length;y++)d=$d(l.distance,i[m],r[v],l.attributes,"cmeans"),c=$d(l.distance,i[m],r[y],l.attributes,"cmeans"),u+=Math.pow(d/c,h);e[m][v]=1/u}},j3=function(e,n,r,i){for(var l=new Array(r.k),s=0;s<l.length;s++)l[s]=[];for(var u,d,c=0;c<n.length;c++){u=-1/0,d=-1;for(var h=0;h<n[0].length;h++)n[c][h]>u&&(u=n[c][h],d=h);l[d].push(e[c])}for(var v=0;v<l.length;v++)l[v]=i.collection(l[v]);return l},dw=function(e){var n=this.cy(),r=this.nodes(),i=Jg(e),l,s,u,d,c;d=new Array(r.length);for(var h=0;h<r.length;h++)d[h]=new Array(i.k);u=new Array(r.length);for(var v=0;v<r.length;v++)u[v]=new Array(i.k);for(var m=0;m<r.length;m++){for(var y=0,x=0;x<i.k;x++)u[m][x]=Math.random(),y+=u[m][x];for(var S=0;S<i.k;S++)u[m][S]=u[m][S]/y}s=new Array(i.k);for(var w=0;w<i.k;w++)s[w]=new Array(i.attributes.length);c=new Array(r.length);for(var E=0;E<r.length;E++)c[E]=new Array(i.k);for(var T=!0,k=0;T&&k<i.maxIterations;)T=!1,A3(s,r,u,c,i),R3(u,d,s,r,i),C3(u,d,i.sensitivityThreshold)||(T=!0),k++;return l=j3(r,u,i,n),{clusters:l,degreeOfMembership:u}},D3={kMeans:k3,kMedoids:N3,fuzzyCMeans:dw,fcm:dw},M3=Un({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),B3={single:"min",complete:"max"},O3=function(e){var n=M3(e),r=B3[n.linkage];return r!=null&&(n.linkage=r),n},fw=function(e,n,r,i,l){for(var s=0,u=1/0,d,c=l.attributes,h=function(B,P){return ff(l.distance,c.length,function(q){return c[q](B)},function(q){return c[q](P)},B,P)},v=0;v<e.length;v++){var m=e[v].key,y=r[m][i[m]];y<u&&(s=m,u=y)}if(l.mode==="threshold"&&u>=l.threshold||l.mode==="dendrogram"&&e.length===1)return!1;var x=n[s],S=n[i[s]],w;l.mode==="dendrogram"?w={left:x,right:S,key:x.key}:w={value:x.value.concat(S.value),key:x.key},e[x.index]=w,e.splice(S.index,1),n[x.key]=w;for(var E=0;E<e.length;E++){var T=e[E];x.key===T.key?d=1/0:l.linkage==="min"?(d=r[x.key][T.key],r[x.key][T.key]>r[S.key][T.key]&&(d=r[S.key][T.key])):l.linkage==="max"?(d=r[x.key][T.key],r[x.key][T.key]<r[S.key][T.key]&&(d=r[S.key][T.key])):l.linkage==="mean"?d=(r[x.key][T.key]*x.size+r[S.key][T.key]*S.size)/(x.size+S.size):l.mode==="dendrogram"?d=h(T.value,x.value):d=h(T.value[0],x.value[0]),r[x.key][T.key]=r[T.key][x.key]=d}for(var k=0;k<e.length;k++){var N=e[k].key;if(i[N]===x.key||i[N]===S.key){for(var M=N,R=0;R<e.length;R++){var A=e[R].key;r[N][A]<r[N][M]&&(M=A)}i[N]=M}e[k].index=k}return x.key=S.key=x.index=S.index=null,!0},gs=function(e,n,r){e&&(e.value?n.push(e.value):(e.left&&gs(e.left,n),e.right&&gs(e.right,n)))},tg=function(e,n){if(!e)return"";if(e.left&&e.right){var r=tg(e.left,n),i=tg(e.right,n),l=n.add({group:"nodes",data:{id:r+","+i}});return n.add({group:"edges",data:{source:r,target:l.id()}}),n.add({group:"edges",data:{source:i,target:l.id()}}),l.id()}else if(e.value)return e.value.id()},ng=function(e,n,r){if(!e)return[];var i=[],l=[],s=[];return n===0?(e.left&&gs(e.left,i),e.right&&gs(e.right,l),s=i.concat(l),[r.collection(s)]):n===1?e.value?[r.collection(e.value)]:(e.left&&gs(e.left,i),e.right&&gs(e.right,l),[r.collection(i),r.collection(l)]):e.value?[r.collection(e.value)]:(e.left&&(i=ng(e.left,n-1,r)),e.right&&(l=ng(e.right,n-1,r)),i.concat(l))},hw=function(e){for(var n=this.cy(),r=this.nodes(),i=O3(e),l=i.attributes,s=function(k,N){return ff(i.distance,l.length,function(M){return l[M](k)},function(M){return l[M](N)},k,N)},u=[],d=[],c=[],h=[],v=0;v<r.length;v++){var m={value:i.mode==="dendrogram"?r[v]:[r[v]],key:v,index:v};u[v]=m,h[v]=m,d[v]=[],c[v]=0}for(var y=0;y<u.length;y++)for(var x=0;x<=y;x++){var S=void 0;i.mode==="dendrogram"?S=y===x?1/0:s(u[y].value,u[x].value):S=y===x?1/0:s(u[y].value[0],u[x].value[0]),d[y][x]=S,d[x][y]=S,S<d[y][c[y]]&&(c[y]=x)}for(var w=fw(u,h,d,c,i);w;)w=fw(u,h,d,c,i);var E;return i.mode==="dendrogram"?(E=ng(u[0],i.dendrogramDepth,n),i.addDendrogram&&tg(u[0],n)):(E=new Array(u.length),u.forEach(function(T,k){T.key=T.index=null,E[k]=n.collection(T.value)})),E},L3={hierarchicalClustering:hw,hca:hw},z3=Un({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),_3=function(e){var n=e.damping,r=e.preference;.5<=n&&n<1||un("Damping must range on [0.5, 1).  Got: ".concat(n));var i=["median","mean","min","max"];return i.some(function(l){return l===r})||Fe(r)||un("Preference must be one of [".concat(i.map(function(l){return"'".concat(l,"'")}).join(", "),"] or a number.  Got: ").concat(r)),z3(e)},P3=function(e,n,r,i){var l=function(u,d){return i[d](u)};return-ff(e,i.length,function(s){return l(n,s)},function(s){return l(r,s)},n,r)},I3=function(e,n){var r=null;return n==="median"?r=_D(e):n==="mean"?r=zD(e):n==="min"?r=OD(e):n==="max"?r=LD(e):r=n,r},q3=function(e,n,r){for(var i=[],l=0;l<e;l++)n[l*e+l]+r[l*e+l]>0&&i.push(l);return i},vw=function(e,n,r){for(var i=[],l=0;l<e;l++){for(var s=-1,u=-1/0,d=0;d<r.length;d++){var c=r[d];n[l*e+c]>u&&(s=c,u=n[l*e+c])}s>0&&i.push(s)}for(var h=0;h<r.length;h++)i[r[h]]=r[h];return i},F3=function(e,n,r){for(var i=vw(e,n,r),l=0;l<r.length;l++){for(var s=[],u=0;u<i.length;u++)i[u]===r[l]&&s.push(u);for(var d=-1,c=-1/0,h=0;h<s.length;h++){for(var v=0,m=0;m<s.length;m++)v+=n[s[m]*e+s[h]];v>c&&(d=h,c=v)}r[l]=s[d]}return i=vw(e,n,r),i},pw=function(e){for(var n=this.cy(),r=this.nodes(),i=_3(e),l={},s=0;s<r.length;s++)l[r[s].id()]=s;var u,d,c,h,v,m;u=r.length,d=u*u,c=new Array(d);for(var y=0;y<d;y++)c[y]=-1/0;for(var x=0;x<u;x++)for(var S=0;S<u;S++)x!==S&&(c[x*u+S]=P3(i.distance,r[x],r[S],i.attributes));h=I3(c,i.preference);for(var w=0;w<u;w++)c[w*u+w]=h;v=new Array(d);for(var E=0;E<d;E++)v[E]=0;m=new Array(d);for(var T=0;T<d;T++)m[T]=0;for(var k=new Array(u),N=new Array(u),M=new Array(u),R=0;R<u;R++)k[R]=0,N[R]=0,M[R]=0;for(var A=new Array(u*i.minIterations),O=0;O<A.length;O++)A[O]=0;var B;for(B=0;B<i.maxIterations;B++){for(var P=0;P<u;P++){for(var q=-1/0,L=-1/0,D=-1,F=0,$=0;$<u;$++)k[$]=v[P*u+$],F=m[P*u+$]+c[P*u+$],F>=q?(L=q,q=F,D=$):F>L&&(L=F);for(var H=0;H<u;H++)v[P*u+H]=(1-i.damping)*(c[P*u+H]-q)+i.damping*k[H];v[P*u+D]=(1-i.damping)*(c[P*u+D]-L)+i.damping*k[D]}for(var V=0;V<u;V++){for(var K=0,ee=0;ee<u;ee++)k[ee]=m[ee*u+V],N[ee]=Math.max(0,v[ee*u+V]),K+=N[ee];K-=N[V],N[V]=v[V*u+V],K+=N[V];for(var I=0;I<u;I++)m[I*u+V]=(1-i.damping)*Math.min(0,K-N[I])+i.damping*k[I];m[V*u+V]=(1-i.damping)*(K-N[V])+i.damping*k[V]}for(var _=0,X=0;X<u;X++){var z=m[X*u+X]+v[X*u+X]>0?1:0;A[B%i.minIterations*u+X]=z,_+=z}if(_>0&&(B>=i.minIterations-1||B==i.maxIterations-1)){for(var ne=0,le=0;le<u;le++){M[le]=0;for(var de=0;de<i.minIterations;de++)M[le]+=A[de*u+le];(M[le]===0||M[le]===i.minIterations)&&ne++}if(ne===u)break}}for(var ye=q3(u,v,m),je=F3(u,c,ye),xe={},ie=0;ie<ye.length;ie++)xe[ye[ie]]=[];for(var ue=0;ue<r.length;ue++){var pe=l[r[ue].id()],Te=je[pe];Te!=null&&xe[Te].push(r[ue])}for(var Le=new Array(ye.length),Ye=0;Ye<ye.length;Ye++)Le[Ye]=n.collection(xe[ye[Ye]]);return Le},H3={affinityPropagation:pw,ap:pw},U3=Un({root:void 0,directed:!1}),V3={hierholzer:function(e){if(!Dt(e)){var n=arguments;e={root:n[0],directed:n[1]}}var r=U3(e),i=r.root,l=r.directed,s=this,u=!1,d,c,h;i&&(h=tt(i)?this.filter(i)[0].id():i[0].id());var v={},m={};l?s.forEach(function(T){var k=T.id();if(T.isNode()){var N=T.indegree(!0),M=T.outdegree(!0),R=N-M,A=M-N;R==1?d?u=!0:d=k:A==1?c?u=!0:c=k:(A>1||R>1)&&(u=!0),v[k]=[],T.outgoers().forEach(function(O){O.isEdge()&&v[k].push(O.id())})}else m[k]=[void 0,T.target().id()]}):s.forEach(function(T){var k=T.id();if(T.isNode()){var N=T.degree(!0);N%2&&(d?c?u=!0:c=k:d=k),v[k]=[],T.connectedEdges().forEach(function(M){return v[k].push(M.id())})}else m[k]=[T.source().id(),T.target().id()]});var y={found:!1,trail:void 0};if(u)return y;if(c&&d)if(l){if(h&&c!=h)return y;h=c}else{if(h&&c!=h&&d!=h)return y;h||(h=c)}else h||(h=s[0].id());var x=function(k){for(var N=k,M=[k],R,A,O;v[N].length;)R=v[N].shift(),A=m[R][0],O=m[R][1],N!=O?(v[O]=v[O].filter(function(B){return B!=R}),N=O):!l&&N!=A&&(v[A]=v[A].filter(function(B){return B!=R}),N=A),M.unshift(R),M.unshift(N);return M},S=[],w=[];for(w=x(h);w.length!=1;)v[w[0]].length==0?(S.unshift(s.getElementById(w.shift())),S.unshift(s.getElementById(w.shift()))):w=x(w.shift()).concat(w);S.unshift(s.getElementById(w.shift()));for(var E in v)if(v[E].length)return y;return y.found=!0,y.trail=this.spawn(S,!0),y}},ld=function(){var e=this,n={},r=0,i=0,l=[],s=[],u={},d=function(m,y){for(var x=s.length-1,S=[],w=e.spawn();s[x].x!=m||s[x].y!=y;)S.push(s.pop().edge),x--;S.push(s.pop().edge),S.forEach(function(E){var T=E.connectedNodes().intersection(e);w.merge(E),T.forEach(function(k){var N=k.id(),M=k.connectedEdges().intersection(e);w.merge(k),n[N].cutVertex?w.merge(M.filter(function(R){return R.isLoop()})):w.merge(M)})}),l.push(w)},c=function(m,y,x){m===x&&(i+=1),n[y]={id:r,low:r++,cutVertex:!1};var S=e.getElementById(y).connectedEdges().intersection(e);if(S.size()===0)l.push(e.spawn(e.getElementById(y)));else{var w,E,T,k;S.forEach(function(N){w=N.source().id(),E=N.target().id(),T=w===y?E:w,T!==x&&(k=N.id(),u[k]||(u[k]=!0,s.push({x:y,y:T,edge:N})),T in n?n[y].low=Math.min(n[y].low,n[T].id):(c(m,T,y),n[y].low=Math.min(n[y].low,n[T].low),n[y].id<=n[T].low&&(n[y].cutVertex=!0,d(y,T))))})}};e.forEach(function(v){if(v.isNode()){var m=v.id();m in n||(i=0,c(m,m),n[m].cutVertex=i>1)}});var h=Object.keys(n).filter(function(v){return n[v].cutVertex}).map(function(v){return e.getElementById(v)});return{cut:e.spawn(h),components:l}},G3={hopcroftTarjanBiconnected:ld,htbc:ld,htb:ld,hopcroftTarjanBiconnectedComponents:ld},sd=function(){var e=this,n={},r=0,i=[],l=[],s=e.spawn(e),u=function(c){l.push(c),n[c]={index:r,low:r++,explored:!1};var h=e.getElementById(c).connectedEdges().intersection(e);if(h.forEach(function(S){var w=S.target().id();w!==c&&(w in n||u(w),n[w].explored||(n[c].low=Math.min(n[c].low,n[w].low)))}),n[c].index===n[c].low){for(var v=e.spawn();;){var m=l.pop();if(v.merge(e.getElementById(m)),n[m].low=n[c].index,n[m].explored=!0,m===c)break}var y=v.edgesWith(v),x=v.merge(y);i.push(x),s=s.difference(x)}};return e.forEach(function(d){if(d.isNode()){var c=d.id();c in n||u(c)}}),{cut:s,components:i}},Y3={tarjanStronglyConnected:sd,tsc:sd,tscc:sd,tarjanStronglyConnectedComponents:sd},uC={};[ou,SD,ED,TD,ND,RD,MD,i3,bs,ws,eg,y3,D3,L3,H3,V3,G3,Y3].forEach(function(t){st(uC,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var cC=0,dC=1,fC=2,Zr=function(e){if(!(this instanceof Zr))return new Zr(e);this.id="Thenable/1.0.7",this.state=cC,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Zr.prototype={fulfill:function(e){return mw(this,dC,"fulfillValue",e)},reject:function(e){return mw(this,fC,"rejectReason",e)},then:function(e,n){var r=this,i=new Zr;return r.onFulfilled.push(yw(e,i,"fulfill")),r.onRejected.push(yw(n,i,"reject")),hC(r),i.proxy}};var mw=function(e,n,r,i){return e.state===cC&&(e.state=n,e[r]=i,hC(e)),e},hC=function(e){e.state===dC?gw(e,"onFulfilled",e.fulfillValue):e.state===fC&&gw(e,"onRejected",e.rejectReason)},gw=function(e,n,r){if(e[n].length!==0){var i=e[n];e[n]=[];var l=function(){for(var u=0;u<i.length;u++)i[u](r)};typeof setImmediate=="function"?setImmediate(l):setTimeout(l,0)}},yw=function(e,n,r){return function(i){if(typeof e!="function")n[r].call(n,i);else{var l;try{l=e(i)}catch(s){n.reject(s);return}vC(n,l)}}},vC=function(e,n){if(e===n||e.proxy===n){e.reject(new TypeError("cannot resolve promise with itself"));return}var r;if(Rn(n)==="object"&&n!==null||typeof n=="function")try{r=n.then}catch(l){e.reject(l);return}if(typeof r=="function"){var i=!1;try{r.call(n,function(l){i||(i=!0,l===n?e.reject(new TypeError("circular thenable chain")):vC(e,l))},function(l){i||(i=!0,e.reject(l))})}catch(l){i||e.reject(l)}return}e.fulfill(n)};Zr.all=function(t){return new Zr(function(e,n){for(var r=new Array(t.length),i=0,l=function(d,c){r[d]=c,i++,i===t.length&&e(r)},s=0;s<t.length;s++)(function(u){var d=t[u],c=d!=null&&d.then!=null;if(c)d.then(function(v){l(u,v)},function(v){n(v)});else{var h=d;l(u,h)}})(s)})};Zr.resolve=function(t){return new Zr(function(e,n){e(t)})};Zr.reject=function(t){return new Zr(function(e,n){n(t)})};var Ms=typeof Promise<"u"?Promise:Zr,rg=function(e,n,r){var i=Ug(e),l=!i,s=this._private=st({duration:1e3},n,r);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&dn(s.complete)&&s.completes.push(s.complete),l){var u=e.position();s.startPosition=s.startPosition||{x:u.x,y:u.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(i){var d=e.pan();s.startPan={x:d.x,y:d.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},gl=rg.prototype;st(gl,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var n,r=e.target._private.animation;e.queue?n=r.queue:n=r.current,n.push(this),jr(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var n=this._private;return e===void 0?n.progress*n.duration:this.progress(e/n.duration)},progress:function(e){var n=this._private,r=n.playing;return e===void 0?n.progress:(r&&this.pause(),n.progress=e,n.started=!1,r&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,n=e.playing;n&&this.pause(),e.progress=1-e.progress,e.started=!1;var r=function(c,h){var v=e[c];v!=null&&(e[c]=e[h],e[h]=v)};if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var l=e.style[i],s=l.name,u=e.startStyle[s];e.startStyle[s]=l,e.style[i]=u}return n&&this.play(),this},promise:function(e){var n=this._private,r;switch(e){case"frame":r=n.frames;break;default:case"complete":case"completed":r=n.completes}return new Ms(function(i,l){r.push(function(){i()})})}});gl.complete=gl.completed;gl.run=gl.play;gl.running=gl.playing;var $3={animated:function(){return function(){var n=this,r=n.length!==void 0,i=r?n:[n],l=this._private.cy||this;if(!l.styleEnabled())return!1;var s=i[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var n=this,r=n.length!==void 0,i=r?n:[n],l=this._private.cy||this;if(!l.styleEnabled())return this;for(var s=0;s<i.length;s++){var u=i[s];u._private.animation.queue=[]}return this}},delay:function(){return function(n,r){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:n,duration:n,complete:r}):this}},delayAnimation:function(){return function(n,r){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:n,duration:n,complete:r}):this}},animation:function(){return function(n,r){var i=this,l=i.length!==void 0,s=l?i:[i],u=this._private.cy||this,d=!l,c=!d;if(!u.styleEnabled())return this;var h=u.style();n=st({},n,r);var v=Object.keys(n).length===0;if(v)return new rg(s[0],n);switch(n.duration===void 0&&(n.duration=400),n.duration){case"slow":n.duration=600;break;case"fast":n.duration=200;break}if(c&&(n.style=h.getPropsList(n.style||n.css),n.css=void 0),c&&n.renderedPosition!=null){var m=n.renderedPosition,y=u.pan(),x=u.zoom();n.position=JE(m,x,y)}if(d&&n.panBy!=null){var S=n.panBy,w=u.pan();n.pan={x:w.x+S.x,y:w.y+S.y}}var E=n.center||n.centre;if(d&&E!=null){var T=u.getCenterPan(E.eles,n.zoom);T!=null&&(n.pan=T)}if(d&&n.fit!=null){var k=n.fit,N=u.getFitViewport(k.eles||k.boundingBox,k.padding);N!=null&&(n.pan=N.pan,n.zoom=N.zoom)}if(d&&Dt(n.zoom)){var M=u.getZoomedViewport(n.zoom);M!=null?(M.zoomed&&(n.zoom=M.zoom),M.panned&&(n.pan=M.pan)):n.zoom=null}return new rg(s[0],n)}},animate:function(){return function(n,r){var i=this,l=i.length!==void 0,s=l?i:[i],u=this._private.cy||this;if(!u.styleEnabled())return this;r&&(n=st({},n,r));for(var d=0;d<s.length;d++){var c=s[d],h=c.animated()&&(n.queue===void 0||n.queue),v=c.animation(n,h?{queue:!0}:void 0);v.play()}return this}},stop:function(){return function(n,r){var i=this,l=i.length!==void 0,s=l?i:[i],u=this._private.cy||this;if(!u.styleEnabled())return this;for(var d=0;d<s.length;d++){for(var c=s[d],h=c._private,v=h.animation.current,m=0;m<v.length;m++){var y=v[m],x=y._private;r&&(x.duration=0)}n&&(h.animation.queue=[]),r||(h.animation.current=[])}return u.notify("draw"),this}}},yp,xw;function hf(){if(xw)return yp;xw=1;var t=Array.isArray;return yp=t,yp}var xp,bw;function X3(){if(bw)return xp;bw=1;var t=hf(),e=Tu(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(l,s){if(t(l))return!1;var u=typeof l;return u=="number"||u=="symbol"||u=="boolean"||l==null||e(l)?!0:r.test(l)||!n.test(l)||s!=null&&l in Object(s)}return xp=i,xp}var bp,ww;function K3(){if(ww)return bp;ww=1;var t=VE(),e=Cu(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",l="[object Proxy]";function s(u){if(!e(u))return!1;var d=t(u);return d==r||d==i||d==n||d==l}return bp=s,bp}var wp,Sw;function Q3(){if(Sw)return wp;Sw=1;var t=uf(),e=t["__core-js_shared__"];return wp=e,wp}var Sp,Ew;function Z3(){if(Ew)return Sp;Ew=1;var t=Q3(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Sp=n,Sp}var Ep,Cw;function W3(){if(Cw)return Ep;Cw=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Ep=n,Ep}var Cp,Tw;function J3(){if(Tw)return Cp;Tw=1;var t=K3(),e=Z3(),n=Cu(),r=W3(),i=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,d=s.toString,c=u.hasOwnProperty,h=RegExp("^"+d.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(m){if(!n(m)||e(m))return!1;var y=t(m)?h:l;return y.test(r(m))}return Cp=v,Cp}var Tp,kw;function e4(){if(kw)return Tp;kw=1;function t(e,n){return e?.[n]}return Tp=t,Tp}var kp,Nw;function ey(){if(Nw)return kp;Nw=1;var t=J3(),e=e4();function n(r,i){var l=e(r,i);return t(l)?l:void 0}return kp=n,kp}var Np,Aw;function vf(){if(Aw)return Np;Aw=1;var t=ey(),e=t(Object,"create");return Np=e,Np}var Ap,Rw;function t4(){if(Rw)return Ap;Rw=1;var t=vf();function e(){this.__data__=t?t(null):{},this.size=0}return Ap=e,Ap}var Rp,jw;function n4(){if(jw)return Rp;jw=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Rp=t,Rp}var jp,Dw;function r4(){if(Dw)return jp;Dw=1;var t=vf(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(l){var s=this.__data__;if(t){var u=s[l];return u===e?void 0:u}return r.call(s,l)?s[l]:void 0}return jp=i,jp}var Dp,Mw;function a4(){if(Mw)return Dp;Mw=1;var t=vf(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var l=this.__data__;return t?l[i]!==void 0:n.call(l,i)}return Dp=r,Dp}var Mp,Bw;function i4(){if(Bw)return Mp;Bw=1;var t=vf(),e="__lodash_hash_undefined__";function n(r,i){var l=this.__data__;return this.size+=this.has(r)?0:1,l[r]=t&&i===void 0?e:i,this}return Mp=n,Mp}var Bp,Ow;function l4(){if(Ow)return Bp;Ow=1;var t=t4(),e=n4(),n=r4(),r=a4(),i=i4();function l(s){var u=-1,d=s==null?0:s.length;for(this.clear();++u<d;){var c=s[u];this.set(c[0],c[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=n,l.prototype.has=r,l.prototype.set=i,Bp=l,Bp}var Op,Lw;function s4(){if(Lw)return Op;Lw=1;function t(){this.__data__=[],this.size=0}return Op=t,Op}var Lp,zw;function pC(){if(zw)return Lp;zw=1;function t(e,n){return e===n||e!==e&&n!==n}return Lp=t,Lp}var zp,_w;function pf(){if(_w)return zp;_w=1;var t=pC();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return zp=e,zp}var _p,Pw;function o4(){if(Pw)return _p;Pw=1;var t=pf(),e=Array.prototype,n=e.splice;function r(i){var l=this.__data__,s=t(l,i);if(s<0)return!1;var u=l.length-1;return s==u?l.pop():n.call(l,s,1),--this.size,!0}return _p=r,_p}var Pp,Iw;function u4(){if(Iw)return Pp;Iw=1;var t=pf();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Pp=e,Pp}var Ip,qw;function c4(){if(qw)return Ip;qw=1;var t=pf();function e(n){return t(this.__data__,n)>-1}return Ip=e,Ip}var qp,Fw;function d4(){if(Fw)return qp;Fw=1;var t=pf();function e(n,r){var i=this.__data__,l=t(i,n);return l<0?(++this.size,i.push([n,r])):i[l][1]=r,this}return qp=e,qp}var Fp,Hw;function f4(){if(Hw)return Fp;Hw=1;var t=s4(),e=o4(),n=u4(),r=c4(),i=d4();function l(s){var u=-1,d=s==null?0:s.length;for(this.clear();++u<d;){var c=s[u];this.set(c[0],c[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=n,l.prototype.has=r,l.prototype.set=i,Fp=l,Fp}var Hp,Uw;function h4(){if(Uw)return Hp;Uw=1;var t=ey(),e=uf(),n=t(e,"Map");return Hp=n,Hp}var Up,Vw;function v4(){if(Vw)return Up;Vw=1;var t=l4(),e=f4(),n=h4();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Up=r,Up}var Vp,Gw;function p4(){if(Gw)return Vp;Gw=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Vp=t,Vp}var Gp,Yw;function mf(){if(Yw)return Gp;Yw=1;var t=p4();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Gp=e,Gp}var Yp,$w;function m4(){if($w)return Yp;$w=1;var t=mf();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Yp=e,Yp}var $p,Xw;function g4(){if(Xw)return $p;Xw=1;var t=mf();function e(n){return t(this,n).get(n)}return $p=e,$p}var Xp,Kw;function y4(){if(Kw)return Xp;Kw=1;var t=mf();function e(n){return t(this,n).has(n)}return Xp=e,Xp}var Kp,Qw;function x4(){if(Qw)return Kp;Qw=1;var t=mf();function e(n,r){var i=t(this,n),l=i.size;return i.set(n,r),this.size+=i.size==l?0:1,this}return Kp=e,Kp}var Qp,Zw;function b4(){if(Zw)return Qp;Zw=1;var t=v4(),e=m4(),n=g4(),r=y4(),i=x4();function l(s){var u=-1,d=s==null?0:s.length;for(this.clear();++u<d;){var c=s[u];this.set(c[0],c[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=n,l.prototype.has=r,l.prototype.set=i,Qp=l,Qp}var Zp,Ww;function w4(){if(Ww)return Zp;Ww=1;var t=b4(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var l=function(){var s=arguments,u=i?i.apply(this,s):s[0],d=l.cache;if(d.has(u))return d.get(u);var c=r.apply(this,s);return l.cache=d.set(u,c)||d,c};return l.cache=new(n.Cache||t),l}return n.Cache=t,Zp=n,Zp}var Wp,Jw;function S4(){if(Jw)return Wp;Jw=1;var t=w4(),e=500;function n(r){var i=t(r,function(s){return l.size===e&&l.clear(),s}),l=i.cache;return i}return Wp=n,Wp}var Jp,e2;function mC(){if(e2)return Jp;e2=1;var t=S4(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var l=[];return i.charCodeAt(0)===46&&l.push(""),i.replace(e,function(s,u,d,c){l.push(d?c.replace(n,"$1"):u||s)}),l});return Jp=r,Jp}var em,t2;function gC(){if(t2)return em;t2=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,l=Array(i);++r<i;)l[r]=n(e[r],r,e);return l}return em=t,em}var tm,n2;function E4(){if(n2)return tm;n2=1;var t=Gg(),e=gC(),n=hf(),r=Tu(),i=t?t.prototype:void 0,l=i?i.toString:void 0;function s(u){if(typeof u=="string")return u;if(n(u))return e(u,s)+"";if(r(u))return l?l.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return tm=s,tm}var nm,r2;function yC(){if(r2)return nm;r2=1;var t=E4();function e(n){return n==null?"":t(n)}return nm=e,nm}var rm,a2;function xC(){if(a2)return rm;a2=1;var t=hf(),e=X3(),n=mC(),r=yC();function i(l,s){return t(l)?l:e(l,s)?[l]:n(r(l))}return rm=i,rm}var am,i2;function ty(){if(i2)return am;i2=1;var t=Tu();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return am=e,am}var im,l2;function C4(){if(l2)return im;l2=1;var t=xC(),e=ty();function n(r,i){i=t(i,r);for(var l=0,s=i.length;r!=null&&l<s;)r=r[e(i[l++])];return l&&l==s?r:void 0}return im=n,im}var lm,s2;function T4(){if(s2)return lm;s2=1;var t=C4();function e(n,r,i){var l=n==null?void 0:t(n,r);return l===void 0?i:l}return lm=e,lm}var k4=T4(),N4=Eu(k4),sm,o2;function A4(){if(o2)return sm;o2=1;var t=ey(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return sm=e,sm}var om,u2;function R4(){if(u2)return om;u2=1;var t=A4();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return om=e,om}var um,c2;function j4(){if(c2)return um;c2=1;var t=R4(),e=pC(),n=Object.prototype,r=n.hasOwnProperty;function i(l,s,u){var d=l[s];(!(r.call(l,s)&&e(d,u))||u===void 0&&!(s in l))&&t(l,s,u)}return um=i,um}var cm,d2;function D4(){if(d2)return cm;d2=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var l=typeof r;return i=i??t,!!i&&(l=="number"||l!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return cm=n,cm}var dm,f2;function M4(){if(f2)return dm;f2=1;var t=j4(),e=xC(),n=D4(),r=Cu(),i=ty();function l(s,u,d,c){if(!r(s))return s;u=e(u,s);for(var h=-1,v=u.length,m=v-1,y=s;y!=null&&++h<v;){var x=i(u[h]),S=d;if(x==="__proto__"||x==="constructor"||x==="prototype")return s;if(h!=m){var w=y[x];S=c?c(w,x,y):void 0,S===void 0&&(S=r(w)?w:n(u[h+1])?[]:{})}t(y,x,S),y=y[x]}return s}return dm=l,dm}var fm,h2;function B4(){if(h2)return fm;h2=1;var t=M4();function e(n,r,i){return n==null?n:t(n,r,i)}return fm=e,fm}var O4=B4(),L4=Eu(O4),hm,v2;function z4(){if(v2)return hm;v2=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return hm=t,hm}var vm,p2;function _4(){if(p2)return vm;p2=1;var t=gC(),e=z4(),n=hf(),r=Tu(),i=mC(),l=ty(),s=yC();function u(d){return n(d)?t(d,l):r(d)?[d]:e(i(s(d)))}return vm=u,vm}var P4=_4(),I4=Eu(P4),q4={data:function(e){var n={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,l){},onSet:function(i){},canSet:function(i){return!0}};return e=st({},n,e),function(i,l){var s=e,u=this,d=u.length!==void 0,c=d?u:[u],h=d?u[0]:u;if(tt(i)){var v=i.indexOf(".")!==-1,m=v&&I4(i);if(s.allowGetting&&l===void 0){var y;return h&&(s.beforeGet(h),m&&h._private[s.field][i]===void 0?y=N4(h._private[s.field],m):y=h._private[s.field][i]),y}else if(s.allowSetting&&l!==void 0){var x=!s.immutableKeys[i];if(x){var S=OE({},i,l);s.beforeSet(u,S);for(var w=0,E=c.length;w<E;w++){var T=c[w];s.canSet(T)&&(m&&h._private[s.field][i]===void 0?L4(T._private[s.field],m,l):T._private[s.field][i]=l)}s.updateStyle&&u.updateStyle(),s.onSet(u),s.settingTriggersEvent&&u[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&Dt(i)){var k=i,N,M,R=Object.keys(k);s.beforeSet(u,k);for(var A=0;A<R.length;A++){N=R[A],M=k[N];var O=!s.immutableKeys[N];if(O)for(var B=0;B<c.length;B++){var P=c[B];s.canSet(P)&&(P._private[s.field][N]=M)}}s.updateStyle&&u.updateStyle(),s.onSet(u),s.settingTriggersEvent&&u[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&dn(i)){var q=i;u.on(s.bindingEvent,q)}else if(s.allowGetting&&i===void 0){var L;return h&&(s.beforeGet(h),L=h._private[s.field]),L}return u}},removeData:function(e){var n={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=st({},n,e),function(i){var l=e,s=this,u=s.length!==void 0,d=u?s:[s];if(tt(i)){for(var c=i.split(/\s+/),h=c.length,v=0;v<h;v++){var m=c[v];if(!Ri(m)){var y=!l.immutableKeys[m];if(y)for(var x=0,S=d.length;x<S;x++)d[x]._private[l.field][m]=void 0}}l.triggerEvent&&s[l.triggerFnName](l.event)}else if(i===void 0){for(var w=0,E=d.length;w<E;w++)for(var T=d[w]._private[l.field],k=Object.keys(T),N=0;N<k.length;N++){var M=k[N],R=!l.immutableKeys[M];R&&(T[M]=void 0)}l.triggerEvent&&s[l.triggerFnName](l.event)}return s}}},F4={eventAliasesOn:function(e){var n=e;n.addListener=n.listen=n.bind=n.on,n.unlisten=n.unbind=n.off=n.removeListener,n.trigger=n.emit,n.pon=n.promiseOn=function(r,i){var l=this,s=Array.prototype.slice.call(arguments,0);return new Ms(function(u,d){var c=function(y){l.off.apply(l,v),u(y)},h=s.concat([c]),v=h.concat([]);l.on.apply(l,h)})}}},It={};[$3,q4,F4].forEach(function(t){st(It,t)});var H4={animate:It.animate(),animation:It.animation(),animated:It.animated(),clearQueue:It.clearQueue(),delay:It.delay(),delayAnimation:It.delayAnimation(),stop:It.stop()},kd={classes:function(e){var n=this;if(e===void 0){var r=[];return n[0]._private.classes.forEach(function(x){return r.push(x)}),r}else Zt(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],l=new Ds(e),s=0;s<n.length;s++){for(var u=n[s],d=u._private,c=d.classes,h=!1,v=0;v<e.length;v++){var m=e[v],y=c.has(m);if(!y){h=!0;break}}h||(h=c.size!==e.length),h&&(d.classes=l,i.push(u))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var n=this[0];return n!=null&&n._private.classes.has(e)},toggleClass:function(e,n){Zt(e)||(e=e.match(/\S+/g)||[]);for(var r=this,i=n===void 0,l=[],s=0,u=r.length;s<u;s++)for(var d=r[s],c=d._private.classes,h=!1,v=0;v<e.length;v++){var m=e[v],y=c.has(m),x=!1;n||i&&!y?(c.add(m),x=!0):(!n||i&&y)&&(c.delete(m),x=!0),!h&&x&&(l.push(d),h=!0)}return l.length>0&&this.spawn(l).updateStyle().emit("class"),r},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,n){var r=this;if(n==null)n=250;else if(n===0)return r;return r.addClass(e),setTimeout(function(){r.removeClass(e)},n),r}};kd.className=kd.classNames=kd.classes;var jt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:An,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};jt.variable="(?:[\\w-.]|(?:\\\\"+jt.metaChar+"))+";jt.className="(?:[\\w-]|(?:\\\\"+jt.metaChar+"))+";jt.value=jt.string+"|"+jt.number;jt.id=jt.variable;(function(){var t,e,n;for(t=jt.comparatorOp.split("|"),n=0;n<t.length;n++)e=t[n],jt.comparatorOp+="|@"+e;for(t=jt.comparatorOp.split("|"),n=0;n<t.length;n++)e=t[n],!(e.indexOf("!")>=0)&&e!=="="&&(jt.comparatorOp+="|\\!"+e)})();var Xt=function(){return{checks:[]}},Qe={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},ag=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return q5(t.selector,e.selector)}),U4=(function(){for(var t={},e,n=0;n<ag.length;n++)e=ag[n],t[e.selector]=e.matches;return t})(),V4=function(e,n){return U4[e](n)},G4="("+ag.map(function(t){return t.selector}).join("|")+")",is=function(e){return e.replace(new RegExp("\\\\("+jt.metaChar+")","g"),function(n,r){return r})},xi=function(e,n,r){e[e.length-1]=r},ig=[{name:"group",query:!0,regex:"("+jt.group+")",populate:function(e,n,r){var i=Tn(r,1),l=i[0];n.checks.push({type:Qe.GROUP,value:l==="*"?l:l+"s"})}},{name:"state",query:!0,regex:G4,populate:function(e,n,r){var i=Tn(r,1),l=i[0];n.checks.push({type:Qe.STATE,value:l})}},{name:"id",query:!0,regex:"\\#("+jt.id+")",populate:function(e,n,r){var i=Tn(r,1),l=i[0];n.checks.push({type:Qe.ID,value:is(l)})}},{name:"className",query:!0,regex:"\\.("+jt.className+")",populate:function(e,n,r){var i=Tn(r,1),l=i[0];n.checks.push({type:Qe.CLASS,value:is(l)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+jt.variable+")\\s*\\]",populate:function(e,n,r){var i=Tn(r,1),l=i[0];n.checks.push({type:Qe.DATA_EXIST,field:is(l)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+jt.variable+")\\s*("+jt.comparatorOp+")\\s*("+jt.value+")\\s*\\]",populate:function(e,n,r){var i=Tn(r,3),l=i[0],s=i[1],u=i[2],d=new RegExp("^"+jt.string+"$").exec(u)!=null;d?u=u.substring(1,u.length-1):u=parseFloat(u),n.checks.push({type:Qe.DATA_COMPARE,field:is(l),operator:s,value:u})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+jt.boolOp+")\\s*("+jt.variable+")\\s*\\]",populate:function(e,n,r){var i=Tn(r,2),l=i[0],s=i[1];n.checks.push({type:Qe.DATA_BOOL,field:is(s),operator:l})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+jt.meta+")\\s*("+jt.comparatorOp+")\\s*("+jt.number+")\\s*\\]\\]",populate:function(e,n,r){var i=Tn(r,3),l=i[0],s=i[1],u=i[2];n.checks.push({type:Qe.META_COMPARE,field:is(l),operator:s,value:parseFloat(u)})}},{name:"nextQuery",separator:!0,regex:jt.separator,populate:function(e,n){var r=e.currentSubject,i=e.edgeCount,l=e.compoundCount,s=e[e.length-1];r!=null&&(s.subject=r,e.currentSubject=null),s.edgeCount=i,s.compoundCount=l,e.edgeCount=0,e.compoundCount=0;var u=e[e.length++]=Xt();return u}},{name:"directedEdge",separator:!0,regex:jt.directedEdge,populate:function(e,n){if(e.currentSubject==null){var r=Xt(),i=n,l=Xt();return r.checks.push({type:Qe.DIRECTED_EDGE,source:i,target:l}),xi(e,n,r),e.edgeCount++,l}else{var s=Xt(),u=n,d=Xt();return s.checks.push({type:Qe.NODE_SOURCE,source:u,target:d}),xi(e,n,s),e.edgeCount++,d}}},{name:"undirectedEdge",separator:!0,regex:jt.undirectedEdge,populate:function(e,n){if(e.currentSubject==null){var r=Xt(),i=n,l=Xt();return r.checks.push({type:Qe.UNDIRECTED_EDGE,nodes:[i,l]}),xi(e,n,r),e.edgeCount++,l}else{var s=Xt(),u=n,d=Xt();return s.checks.push({type:Qe.NODE_NEIGHBOR,node:u,neighbor:d}),xi(e,n,s),d}}},{name:"child",separator:!0,regex:jt.child,populate:function(e,n){if(e.currentSubject==null){var r=Xt(),i=Xt(),l=e[e.length-1];return r.checks.push({type:Qe.CHILD,parent:l,child:i}),xi(e,n,r),e.compoundCount++,i}else if(e.currentSubject===n){var s=Xt(),u=e[e.length-1],d=Xt(),c=Xt(),h=Xt(),v=Xt();return s.checks.push({type:Qe.COMPOUND_SPLIT,left:u,right:d,subject:c}),c.checks=n.checks,n.checks=[{type:Qe.TRUE}],v.checks.push({type:Qe.TRUE}),d.checks.push({type:Qe.PARENT,parent:v,child:h}),xi(e,u,s),e.currentSubject=c,e.compoundCount++,h}else{var m=Xt(),y=Xt(),x=[{type:Qe.PARENT,parent:m,child:y}];return m.checks=n.checks,n.checks=x,e.compoundCount++,y}}},{name:"descendant",separator:!0,regex:jt.descendant,populate:function(e,n){if(e.currentSubject==null){var r=Xt(),i=Xt(),l=e[e.length-1];return r.checks.push({type:Qe.DESCENDANT,ancestor:l,descendant:i}),xi(e,n,r),e.compoundCount++,i}else if(e.currentSubject===n){var s=Xt(),u=e[e.length-1],d=Xt(),c=Xt(),h=Xt(),v=Xt();return s.checks.push({type:Qe.COMPOUND_SPLIT,left:u,right:d,subject:c}),c.checks=n.checks,n.checks=[{type:Qe.TRUE}],v.checks.push({type:Qe.TRUE}),d.checks.push({type:Qe.ANCESTOR,ancestor:v,descendant:h}),xi(e,u,s),e.currentSubject=c,e.compoundCount++,h}else{var m=Xt(),y=Xt(),x=[{type:Qe.ANCESTOR,ancestor:m,descendant:y}];return m.checks=n.checks,n.checks=x,e.compoundCount++,y}}},{name:"subject",modifier:!0,regex:jt.subject,populate:function(e,n){if(e.currentSubject!=null&&e.currentSubject!==n)return qt("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=n;var r=e[e.length-1],i=r.checks[0],l=i==null?null:i.type;l===Qe.DIRECTED_EDGE?i.type=Qe.NODE_TARGET:l===Qe.UNDIRECTED_EDGE&&(i.type=Qe.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];ig.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var Y4=function(e){for(var n,r,i,l=0;l<ig.length;l++){var s=ig[l],u=s.name,d=e.match(s.regexObj);if(d!=null){r=d,n=s,i=u;var c=d[0];e=e.substring(c.length);break}}return{expr:n,match:r,name:i,remaining:e}},$4=function(e){var n=e.match(/^\s+/);if(n){var r=n[0];e=e.substring(r.length)}return e},X4=function(e){var n=this,r=n.inputText=e,i=n[0]=Xt();for(n.length=1,r=$4(r);;){var l=Y4(r);if(l.expr==null)return qt("The selector `"+e+"`is invalid"),!1;var s=l.match.slice(1),u=l.expr.populate(n,i,s);if(u===!1)return!1;if(u!=null&&(i=u),r=l.remaining,r.match(/^\s*$/))break}var d=n[n.length-1];n.currentSubject!=null&&(d.subject=n.currentSubject),d.edgeCount=n.edgeCount,d.compoundCount=n.compoundCount;for(var c=0;c<n.length;c++){var h=n[c];if(h.compoundCount>0&&h.edgeCount>0)return qt("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(h.edgeCount>1)return qt("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;h.edgeCount===1&&qt("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},K4=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(h){return h??""},n=function(h){return tt(h)?'"'+h+'"':e(h)},r=function(h){return" "+h+" "},i=function(h,v){var m=h.type,y=h.value;switch(m){case Qe.GROUP:{var x=e(y);return x.substring(0,x.length-1)}case Qe.DATA_COMPARE:{var S=h.field,w=h.operator;return"["+S+r(e(w))+n(y)+"]"}case Qe.DATA_BOOL:{var E=h.operator,T=h.field;return"["+e(E)+T+"]"}case Qe.DATA_EXIST:{var k=h.field;return"["+k+"]"}case Qe.META_COMPARE:{var N=h.operator,M=h.field;return"[["+M+r(e(N))+n(y)+"]]"}case Qe.STATE:return y;case Qe.ID:return"#"+y;case Qe.CLASS:return"."+y;case Qe.PARENT:case Qe.CHILD:return l(h.parent,v)+r(">")+l(h.child,v);case Qe.ANCESTOR:case Qe.DESCENDANT:return l(h.ancestor,v)+" "+l(h.descendant,v);case Qe.COMPOUND_SPLIT:{var R=l(h.left,v),A=l(h.subject,v),O=l(h.right,v);return R+(R.length>0?" ":"")+A+O}case Qe.TRUE:return""}},l=function(h,v){return h.checks.reduce(function(m,y,x){return m+(v===h&&x===0?"$":"")+i(y,v)},"")},s="",u=0;u<this.length;u++){var d=this[u];s+=l(d,d.subject),this.length>1&&u<this.length-1&&(s+=", ")}return this.toStringCache=s,s},Q4={parse:X4,toString:K4},bC=function(e,n,r){var i,l=tt(e),s=Fe(e),u=tt(r),d,c,h=!1,v=!1,m=!1;switch(n.indexOf("!")>=0&&(n=n.replace("!",""),v=!0),n.indexOf("@")>=0&&(n=n.replace("@",""),h=!0),(l||u||h)&&(d=!l&&!s?"":""+e,c=""+r),h&&(e=d=d.toLowerCase(),r=c=c.toLowerCase()),n){case"*=":i=d.indexOf(c)>=0;break;case"$=":i=d.indexOf(c,d.length-c.length)>=0;break;case"^=":i=d.indexOf(c)===0;break;case"=":i=e===r;break;case">":m=!0,i=e>r;break;case">=":m=!0,i=e>=r;break;case"<":m=!0,i=e<r;break;case"<=":m=!0,i=e<=r;break;default:i=!1;break}return v&&(e!=null||!m)&&(i=!i),i},Z4=function(e,n){switch(n){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},W4=function(e){return e!==void 0},ny=function(e,n){return e.data(n)},J4=function(e,n){return e[n]()},vn=[],an=function(e,n){return e.checks.every(function(r){return vn[r.type](r,n)})};vn[Qe.GROUP]=function(t,e){var n=t.value;return n==="*"||n===e.group()};vn[Qe.STATE]=function(t,e){var n=t.value;return V4(n,e)};vn[Qe.ID]=function(t,e){var n=t.value;return e.id()===n};vn[Qe.CLASS]=function(t,e){var n=t.value;return e.hasClass(n)};vn[Qe.META_COMPARE]=function(t,e){var n=t.field,r=t.operator,i=t.value;return bC(J4(e,n),r,i)};vn[Qe.DATA_COMPARE]=function(t,e){var n=t.field,r=t.operator,i=t.value;return bC(ny(e,n),r,i)};vn[Qe.DATA_BOOL]=function(t,e){var n=t.field,r=t.operator;return Z4(ny(e,n),r)};vn[Qe.DATA_EXIST]=function(t,e){var n=t.field;return t.operator,W4(ny(e,n))};vn[Qe.UNDIRECTED_EDGE]=function(t,e){var n=t.nodes[0],r=t.nodes[1],i=e.source(),l=e.target();return an(n,i)&&an(r,l)||an(r,i)&&an(n,l)};vn[Qe.NODE_NEIGHBOR]=function(t,e){return an(t.node,e)&&e.neighborhood().some(function(n){return n.isNode()&&an(t.neighbor,n)})};vn[Qe.DIRECTED_EDGE]=function(t,e){return an(t.source,e.source())&&an(t.target,e.target())};vn[Qe.NODE_SOURCE]=function(t,e){return an(t.source,e)&&e.outgoers().some(function(n){return n.isNode()&&an(t.target,n)})};vn[Qe.NODE_TARGET]=function(t,e){return an(t.target,e)&&e.incomers().some(function(n){return n.isNode()&&an(t.source,n)})};vn[Qe.CHILD]=function(t,e){return an(t.child,e)&&an(t.parent,e.parent())};vn[Qe.PARENT]=function(t,e){return an(t.parent,e)&&e.children().some(function(n){return an(t.child,n)})};vn[Qe.DESCENDANT]=function(t,e){return an(t.descendant,e)&&e.ancestors().some(function(n){return an(t.ancestor,n)})};vn[Qe.ANCESTOR]=function(t,e){return an(t.ancestor,e)&&e.descendants().some(function(n){return an(t.descendant,n)})};vn[Qe.COMPOUND_SPLIT]=function(t,e){return an(t.subject,e)&&an(t.left,e)&&an(t.right,e)};vn[Qe.TRUE]=function(){return!0};vn[Qe.COLLECTION]=function(t,e){var n=t.value;return n.has(e)};vn[Qe.FILTER]=function(t,e){var n=t.value;return n(e)};var eM=function(e){var n=this;if(n.length===1&&n[0].checks.length===1&&n[0].checks[0].type===Qe.ID)return e.getElementById(n[0].checks[0].value).collection();var r=function(l){for(var s=0;s<n.length;s++){var u=n[s];if(an(u,l))return!0}return!1};return n.text()==null&&(r=function(){return!0}),e.filter(r)},tM=function(e){for(var n=this,r=0;r<n.length;r++){var i=n[r];if(an(i,e))return!0}return!1},nM={matches:tM,filter:eM},Mi=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||tt(e)&&e.match(/^\s*$/)||(jr(e)?this.addQuery({checks:[{type:Qe.COLLECTION,value:e.collection()}]}):dn(e)?this.addQuery({checks:[{type:Qe.FILTER,value:e}]}):tt(e)?this.parse(e)||(this.invalid=!0):un("A selector must be created from a string; found "))},Bi=Mi.prototype;[Q4,nM].forEach(function(t){return st(Bi,t)});Bi.text=function(){return this.inputText};Bi.size=function(){return this.length};Bi.eq=function(t){return this[t]};Bi.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};Bi.addQuery=function(t){this[this.length++]=t};Bi.selector=Bi.toString;var Ni={allAre:function(e){var n=new Mi(e);return this.every(function(r){return n.matches(r)})},is:function(e){var n=new Mi(e);return this.some(function(r){return n.matches(r)})},some:function(e,n){for(var r=0;r<this.length;r++){var i=n?e.apply(n,[this[r],r,this]):e(this[r],r,this);if(i)return!0}return!1},every:function(e,n){for(var r=0;r<this.length;r++){var i=n?e.apply(n,[this[r],r,this]):e(this[r],r,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var n=this.length,r=e.length;return n!==r?!1:n===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(n){return e.hasElementWithId(n.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var n=this.neighborhood();return e.every(function(r){return n.hasElementWithId(r.id())})},contains:function(e){e=this.cy().collection(e);var n=this;return e.every(function(r){return n.hasElementWithId(r.id())})}};Ni.allAreNeighbours=Ni.allAreNeighbors;Ni.has=Ni.contains;Ni.equal=Ni.equals=Ni.same;var Gr=function(e,n){return function(i,l,s,u){var d=i,c=this,h;if(d==null?h="":jr(d)&&d.length===1&&(h=d.id()),c.length===1&&h){var v=c[0]._private,m=v.traversalCache=v.traversalCache||{},y=m[n]=m[n]||[],x=pl(h),S=y[x];return S||(y[x]=e.call(c,i,l,s,u))}else return e.call(c,i,l,s,u)}},Ns={parent:function(e){var n=[];if(this.length===1){var r=this[0]._private.parent;if(r)return r}for(var i=0;i<this.length;i++){var l=this[i],s=l._private.parent;s&&n.push(s)}return this.spawn(n,!0).filter(e)},parents:function(e){for(var n=[],r=this.parent();r.nonempty();){for(var i=0;i<r.length;i++){var l=r[i];n.push(l)}r=r.parent()}return this.spawn(n,!0).filter(e)},commonAncestors:function(e){for(var n,r=0;r<this.length;r++){var i=this[r],l=i.parents();n=n||l,n=n.intersect(l)}return n.filter(e)},orphans:function(e){return this.stdFilter(function(n){return n.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(n){return n.isChild()}).filter(e)},children:Gr(function(t){for(var e=[],n=0;n<this.length;n++)for(var r=this[n],i=r._private.children,l=0;l<i.length;l++)e.push(i[l]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var n=[];function r(i){for(var l=0;l<i.length;l++){var s=i[l];n.push(s),s.children().nonempty()&&r(s.children())}}return r(this.children()),this.spawn(n,!0).filter(e)}};function ry(t,e,n,r){for(var i=[],l=new Ds,s=t.cy(),u=s.hasCompoundNodes(),d=0;d<t.length;d++){var c=t[d];n?i.push(c):u&&r(i,l,c)}for(;i.length>0;){var h=i.shift();e(h),l.add(h.id()),u&&r(i,l,h)}return t}function wC(t,e,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var l=r[i];e.has(l.id())||t.push(l)}}Ns.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ry(this,t,e,wC)};function SC(t,e,n){if(n.isChild()){var r=n._private.parent;e.has(r.id())||t.push(r)}}Ns.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ry(this,t,e,SC)};function rM(t,e,n){SC(t,e,n),wC(t,e,n)}Ns.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ry(this,t,e,rM)};Ns.ancestors=Ns.parents;var du,EC;du=EC={data:It.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:It.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:It.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:It.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:It.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:It.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};du.attr=du.data;du.removeAttr=du.removeData;var aM=EC,gf={};function pm(t){return function(e){var n=this;if(e===void 0&&(e=!0),n.length!==0)if(n.isNode()&&!n.removed()){for(var r=0,i=n[0],l=i._private.edges,s=0;s<l.length;s++){var u=l[s];!e&&u.isLoop()||(r+=t(i,u))}return r}else return}}st(gf,{degree:pm(function(t,e){return e.source().same(e.target())?2:1}),indegree:pm(function(t,e){return e.target().same(t)?1:0}),outdegree:pm(function(t,e){return e.source().same(t)?1:0})});function ls(t,e){return function(n){for(var r,i=this.nodes(),l=0;l<i.length;l++){var s=i[l],u=s[t](n);u!==void 0&&(r===void 0||e(u,r))&&(r=u)}return r}}st(gf,{minDegree:ls("degree",function(t,e){return t<e}),maxDegree:ls("degree",function(t,e){return t>e}),minIndegree:ls("indegree",function(t,e){return t<e}),maxIndegree:ls("indegree",function(t,e){return t>e}),minOutdegree:ls("outdegree",function(t,e){return t<e}),maxOutdegree:ls("outdegree",function(t,e){return t>e})});st(gf,{totalDegree:function(e){for(var n=0,r=this.nodes(),i=0;i<r.length;i++)n+=r[i].degree(e);return n}});var Qr,CC,TC=function(e,n,r){for(var i=0;i<e.length;i++){var l=e[i];if(!l.locked()){var s=l._private.position,u={x:n.x!=null?n.x-s.x:0,y:n.y!=null?n.y-s.y:0};l.isParent()&&!(u.x===0&&u.y===0)&&l.children().shift(u,r),l.dirtyBoundingBoxCache()}}},m2={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,n){TC(e,n,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Qr=CC={position:It.data(m2),silentPosition:It.data(st({},m2,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,n){TC(e,n,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,n){if(Dt(e))n?this.silentPosition(e):this.position(e);else if(dn(e)){var r=e,i=this.cy();i.startBatch();for(var l=0;l<this.length;l++){var s=this[l],u=void 0;(u=r(s,l))&&(n?s.silentPosition(u):s.position(u))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,n,r){var i;if(Dt(e)?(i={x:Fe(e.x)?e.x:0,y:Fe(e.y)?e.y:0},r=n):tt(e)&&Fe(n)&&(i={x:0,y:0},i[e]=n),i!=null){var l=this.cy();l.startBatch();for(var s=0;s<this.length;s++){var u=this[s];if(!(l.hasCompoundNodes()&&u.isChild()&&u.ancestors().anySame(this))){var d=u.position(),c={x:d.x+i.x,y:d.y+i.y};r?u.silentPosition(c):u.position(c)}}l.endBatch()}return this},silentShift:function(e,n){return Dt(e)?this.shift(e,!0):tt(e)&&Fe(n)&&this.shift(e,n,!0),this},renderedPosition:function(e,n){var r=this[0],i=this.cy(),l=i.zoom(),s=i.pan(),u=Dt(e)?e:void 0,d=u!==void 0||n!==void 0&&tt(e);if(r&&r.isNode())if(d)for(var c=0;c<this.length;c++){var h=this[c];n!==void 0?h.position(e,(n-s[e])/l):u!==void 0&&h.position(JE(u,l,s))}else{var v=r.position();return u=df(v,l,s),e===void 0?u:u[e]}else if(!d)return;return this},relativePosition:function(e,n){var r=this[0],i=this.cy(),l=Dt(e)?e:void 0,s=l!==void 0||n!==void 0&&tt(e),u=i.hasCompoundNodes();if(r&&r.isNode())if(s)for(var d=0;d<this.length;d++){var c=this[d],h=u?c.parent():null,v=h&&h.length>0,m=v;v&&(h=h[0]);var y=m?h.position():{x:0,y:0};n!==void 0?c.position(e,n+y[e]):l!==void 0&&c.position({x:l.x+y.x,y:l.y+y.y})}else{var x=r.position(),S=u?r.parent():null,w=S&&S.length>0,E=w;w&&(S=S[0]);var T=E?S.position():{x:0,y:0};return l={x:x.x-T.x,y:x.y-T.y},e===void 0?l:l[e]}else if(!s)return;return this}};Qr.modelPosition=Qr.point=Qr.position;Qr.modelPositions=Qr.points=Qr.positions;Qr.renderedPoint=Qr.renderedPosition;Qr.relativePoint=Qr.relativePosition;var iM=CC,Ss,Pi;Ss=Pi={};Pi.renderedBoundingBox=function(t){var e=this.boundingBox(t),n=this.cy(),r=n.zoom(),i=n.pan(),l=e.x1*r+i.x,s=e.x2*r+i.x,u=e.y1*r+i.y,d=e.y2*r+i.y;return{x1:l,x2:s,y1:u,y2:d,w:s-l,h:d-u}};Pi.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(n){if(n.isParent()){var r=n._private;r.compoundBoundsClean=!1,r.bbCache=null,t||n.emitAndNotify("bounds")}}),this)};Pi.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function n(s){if(!s.isParent())return;var u=s._private,d=s.children(),c=s.pstyle("compound-sizing-wrt-labels").value==="include",h={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},v=d.boundingBox({includeLabels:c,includeOverlays:!1,useCache:!1}),m=u.position;(v.w===0||v.h===0)&&(v={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},v.x1=m.x-v.w/2,v.x2=m.x+v.w/2,v.y1=m.y-v.h/2,v.y2=m.y+v.h/2);function y(B,P,q){var L=0,D=0,F=P+q;return B>0&&F>0&&(L=P/F*B,D=q/F*B),{biasDiff:L,biasComplementDiff:D}}function x(B,P,q,L){if(q.units==="%")switch(L){case"width":return B>0?q.pfValue*B:0;case"height":return P>0?q.pfValue*P:0;case"average":return B>0&&P>0?q.pfValue*(B+P)/2:0;case"min":return B>0&&P>0?B>P?q.pfValue*P:q.pfValue*B:0;case"max":return B>0&&P>0?B>P?q.pfValue*B:q.pfValue*P:0;default:return 0}else return q.units==="px"?q.pfValue:0}var S=h.width.left.value;h.width.left.units==="px"&&h.width.val>0&&(S=S*100/h.width.val);var w=h.width.right.value;h.width.right.units==="px"&&h.width.val>0&&(w=w*100/h.width.val);var E=h.height.top.value;h.height.top.units==="px"&&h.height.val>0&&(E=E*100/h.height.val);var T=h.height.bottom.value;h.height.bottom.units==="px"&&h.height.val>0&&(T=T*100/h.height.val);var k=y(h.width.val-v.w,S,w),N=k.biasDiff,M=k.biasComplementDiff,R=y(h.height.val-v.h,E,T),A=R.biasDiff,O=R.biasComplementDiff;u.autoPadding=x(v.w,v.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),u.autoWidth=Math.max(v.w,h.width.val),m.x=(-N+v.x1+v.x2+M)/2,u.autoHeight=Math.max(v.h,h.height.val),m.y=(-A+v.y1+v.y2+O)/2}for(var r=0;r<this.length;r++){var i=this[r],l=i._private;(!l.compoundBoundsClean||t)&&(n(i),e.batching()||(l.compoundBoundsClean=!0))}return this};var Hr=function(e){return e===1/0||e===-1/0?0:e},Kr=function(e,n,r,i,l){i-n===0||l-r===0||n==null||r==null||i==null||l==null||(e.x1=n<e.x1?n:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=r<e.y1?r:e.y1,e.y2=l>e.y2?l:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Ei=function(e,n){return n==null?e:Kr(e,n.x1,n.y1,n.x2,n.y2)},Lo=function(e,n,r){return fr(e,n,r)},od=function(e,n,r){if(!n.cy().headless()){var i=n._private,l=i.rstyle,s=l.arrowWidth/2,u=n.pstyle(r+"-arrow-shape").value,d,c;if(u!=="none"){r==="source"?(d=l.srcX,c=l.srcY):r==="target"?(d=l.tgtX,c=l.tgtY):(d=l.midX,c=l.midY);var h=i.arrowBounds=i.arrowBounds||{},v=h[r]=h[r]||{};v.x1=d-s,v.y1=c-s,v.x2=d+s,v.y2=c+s,v.w=v.x2-v.x1,v.h=v.y2-v.y1,Cd(v,1),Kr(e,v.x1,v.y1,v.x2,v.y2)}}},mm=function(e,n,r){if(!n.cy().headless()){var i;r?i=r+"-":i="";var l=n._private,s=l.rstyle,u=n.pstyle(i+"label").strValue;if(u){var d=n.pstyle("text-halign"),c=n.pstyle("text-valign"),h=Lo(s,"labelWidth",r),v=Lo(s,"labelHeight",r),m=Lo(s,"labelX",r),y=Lo(s,"labelY",r),x=n.pstyle(i+"text-margin-x").pfValue,S=n.pstyle(i+"text-margin-y").pfValue,w=n.isEdge(),E=n.pstyle(i+"text-rotation"),T=n.pstyle("text-outline-width").pfValue,k=n.pstyle("text-border-width").pfValue,N=k/2,M=n.pstyle("text-background-padding").pfValue,R=2,A=v,O=h,B=O/2,P=A/2,q,L,D,F;if(w)q=m-B,L=m+B,D=y-P,F=y+P;else{switch(d.value){case"left":q=m-O,L=m;break;case"center":q=m-B,L=m+B;break;case"right":q=m,L=m+O;break}switch(c.value){case"top":D=y-A,F=y;break;case"center":D=y-P,F=y+P;break;case"bottom":D=y,F=y+A;break}}var $=x-Math.max(T,N)-M-R,H=x+Math.max(T,N)+M+R,V=S-Math.max(T,N)-M-R,K=S+Math.max(T,N)+M+R;q+=$,L+=H,D+=V,F+=K;var ee=r||"main",I=l.labelBounds,_=I[ee]=I[ee]||{};_.x1=q,_.y1=D,_.x2=L,_.y2=F,_.w=L-q,_.h=F-D,_.leftPad=$,_.rightPad=H,_.topPad=V,_.botPad=K;var X=w&&E.strValue==="autorotate",z=E.pfValue!=null&&E.pfValue!==0;if(X||z){var ne=X?Lo(l.rstyle,"labelAngle",r):E.pfValue,le=Math.cos(ne),de=Math.sin(ne),ye=(q+L)/2,je=(D+F)/2;if(!w){switch(d.value){case"left":ye=L;break;case"right":ye=q;break}switch(c.value){case"top":je=F;break;case"bottom":je=D;break}}var xe=function(nt,$e){return nt=nt-ye,$e=$e-je,{x:nt*le-$e*de+ye,y:nt*de+$e*le+je}},ie=xe(q,D),ue=xe(q,F),pe=xe(L,D),Te=xe(L,F);q=Math.min(ie.x,ue.x,pe.x,Te.x),L=Math.max(ie.x,ue.x,pe.x,Te.x),D=Math.min(ie.y,ue.y,pe.y,Te.y),F=Math.max(ie.y,ue.y,pe.y,Te.y)}var Le=ee+"Rot",Ye=I[Le]=I[Le]||{};Ye.x1=q,Ye.y1=D,Ye.x2=L,Ye.y2=F,Ye.w=L-q,Ye.h=F-D,Kr(e,q,D,L,F),Kr(l.labelBounds.all,q,D,L,F)}return e}},g2=function(e,n){if(!n.cy().headless()){var r=n.pstyle("outline-opacity").value,i=n.pstyle("outline-width").value,l=n.pstyle("outline-offset").value,s=i+l;kC(e,n,r,s,"outside",s/2)}},kC=function(e,n,r,i,l,s){if(!(r===0||i<=0||l==="inside")){var u=n.cy(),d=n.pstyle("shape").value,c=u.renderer().nodeShapes[d],h=n.position(),v=h.x,m=h.y,y=n.width(),x=n.height();if(c.hasMiterBounds){l==="center"&&(i/=2);var S=c.miterBounds(v,m,y,x,i);Ei(e,S)}else s!=null&&s>0&&Td(e,[s,s,s,s])}},lM=function(e,n){if(!n.cy().headless()){var r=n.pstyle("border-opacity").value,i=n.pstyle("border-width").pfValue,l=n.pstyle("border-position").value;kC(e,n,r,i,l)}},sM=function(e,n){var r=e._private.cy,i=r.styleEnabled(),l=r.headless(),s=er(),u=e._private,d=e.isNode(),c=e.isEdge(),h,v,m,y,x,S,w=u.rstyle,E=d&&i?e.pstyle("bounds-expansion").pfValue:[0],T=function(dt){return dt.pstyle("display").value!=="none"},k=!i||T(e)&&(!c||T(e.source())&&T(e.target()));if(k){var N=0,M=0;i&&n.includeOverlays&&(N=e.pstyle("overlay-opacity").value,N!==0&&(M=e.pstyle("overlay-padding").value));var R=0,A=0;i&&n.includeUnderlays&&(R=e.pstyle("underlay-opacity").value,R!==0&&(A=e.pstyle("underlay-padding").value));var O=Math.max(M,A),B=0,P=0;if(i&&(B=e.pstyle("width").pfValue,P=B/2),d&&n.includeNodes){var q=e.position();x=q.x,S=q.y;var L=e.outerWidth(),D=L/2,F=e.outerHeight(),$=F/2;h=x-D,v=x+D,m=S-$,y=S+$,Kr(s,h,m,v,y),i&&g2(s,e),i&&n.includeOutlines&&!l&&g2(s,e),i&&lM(s,e)}else if(c&&n.includeEdges)if(i&&!l){var H=e.pstyle("curve-style").strValue;if(h=Math.min(w.srcX,w.midX,w.tgtX),v=Math.max(w.srcX,w.midX,w.tgtX),m=Math.min(w.srcY,w.midY,w.tgtY),y=Math.max(w.srcY,w.midY,w.tgtY),h-=P,v+=P,m-=P,y+=P,Kr(s,h,m,v,y),H==="haystack"){var V=w.haystackPts;if(V&&V.length===2){if(h=V[0].x,m=V[0].y,v=V[1].x,y=V[1].y,h>v){var K=h;h=v,v=K}if(m>y){var ee=m;m=y,y=ee}Kr(s,h-P,m-P,v+P,y+P)}}else if(H==="bezier"||H==="unbundled-bezier"||Ci(H,"segments")||Ci(H,"taxi")){var I;switch(H){case"bezier":case"unbundled-bezier":I=w.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":I=w.linePts;break}if(I!=null)for(var _=0;_<I.length;_++){var X=I[_];h=X.x-P,v=X.x+P,m=X.y-P,y=X.y+P,Kr(s,h,m,v,y)}}}else{var z=e.source(),ne=z.position(),le=e.target(),de=le.position();if(h=ne.x,v=de.x,m=ne.y,y=de.y,h>v){var ye=h;h=v,v=ye}if(m>y){var je=m;m=y,y=je}h-=P,v+=P,m-=P,y+=P,Kr(s,h,m,v,y)}if(i&&n.includeEdges&&c&&(od(s,e,"mid-source"),od(s,e,"mid-target"),od(s,e,"source"),od(s,e,"target")),i){var xe=e.pstyle("ghost").value==="yes";if(xe){var ie=e.pstyle("ghost-offset-x").pfValue,ue=e.pstyle("ghost-offset-y").pfValue;Kr(s,s.x1+ie,s.y1+ue,s.x2+ie,s.y2+ue)}}var pe=u.bodyBounds=u.bodyBounds||{};nw(pe,s),Td(pe,E),Cd(pe,1),i&&(h=s.x1,v=s.x2,m=s.y1,y=s.y2,Kr(s,h-O,m-O,v+O,y+O));var Te=u.overlayBounds=u.overlayBounds||{};nw(Te,s),Td(Te,E),Cd(Te,1);var Le=u.labelBounds=u.labelBounds||{};Le.all!=null?HD(Le.all):Le.all=er(),i&&n.includeLabels&&(n.includeMainLabels&&mm(s,e,null),c&&(n.includeSourceLabels&&mm(s,e,"source"),n.includeTargetLabels&&mm(s,e,"target")))}return s.x1=Hr(s.x1),s.y1=Hr(s.y1),s.x2=Hr(s.x2),s.y2=Hr(s.y2),s.w=Hr(s.x2-s.x1),s.h=Hr(s.y2-s.y1),s.w>0&&s.h>0&&k&&(Td(s,E),Cd(s,1)),s},NC=function(e){var n=0,r=function(s){return(s?1:0)<<n++},i=0;return i+=r(e.incudeNodes),i+=r(e.includeEdges),i+=r(e.includeLabels),i+=r(e.includeMainLabels),i+=r(e.includeSourceLabels),i+=r(e.includeTargetLabels),i+=r(e.includeOverlays),i+=r(e.includeOutlines),i},AC=function(e){var n=function(u){return Math.round(u)};if(e.isEdge()){var r=e.source().position(),i=e.target().position();return Q1([n(r.x),n(r.y),n(i.x),n(i.y)])}else{var l=e.position();return Q1([n(l.x),n(l.y)])}},y2=function(e,n){var r=e._private,i,l=e.isEdge(),s=n==null?x2:NC(n),u=s===x2;if(r.bbCache==null?(i=sM(e,fu),r.bbCache=i,r.bbCachePosKey=AC(e)):i=r.bbCache,!u){var d=e.isNode();i=er(),(n.includeNodes&&d||n.includeEdges&&!d)&&(n.includeOverlays?Ei(i,r.overlayBounds):Ei(i,r.bodyBounds)),n.includeLabels&&(n.includeMainLabels&&(!l||n.includeSourceLabels&&n.includeTargetLabels)?Ei(i,r.labelBounds.all):(n.includeMainLabels&&Ei(i,r.labelBounds.mainRot),n.includeSourceLabels&&Ei(i,r.labelBounds.sourceRot),n.includeTargetLabels&&Ei(i,r.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},fu={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},x2=NC(fu),b2=Un(fu);Pi.boundingBox=function(t){var e,n=t===void 0||t.useCache===void 0||t.useCache===!0,r=Ts(function(h){var v=h._private;return v.bbCache==null||v.styleDirty||v.bbCachePosKey!==AC(h)},function(h){return h.id()});if(n&&this.length===1&&!r(this[0]))t===void 0?t=fu:t=b2(t),e=y2(this[0],t);else{e=er(),t=t||fu;var i=b2(t),l=this,s=l.cy(),u=s.styleEnabled();this.edges().forEach(r),this.nodes().forEach(r),u&&this.recalculateRenderedStyle(n),this.updateCompoundBounds(!n);for(var d=0;d<l.length;d++){var c=l[d];r(c)&&c.dirtyBoundingBoxCache(),Ei(e,y2(c,i))}}return e.x1=Hr(e.x1),e.y1=Hr(e.y1),e.x2=Hr(e.x2),e.y2=Hr(e.y2),e.w=Hr(e.x2-e.x1),e.h=Hr(e.y2-e.y1),e};Pi.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Pi.boundingBoxAt=function(t){var e=this.nodes(),n=this.cy(),r=n.hasCompoundNodes(),i=n.collection();if(r&&(i=e.filter(function(c){return c.isParent()}),e=e.not(i)),Dt(t)){var l=t;t=function(){return l}}var s=function(h,v){return h._private.bbAtOldPos=t(h,v)},u=function(h){return h._private.bbAtOldPos};n.startBatch(),e.forEach(s).silentPositions(t),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var d=FD(this.boundingBox({useCache:!1}));return e.silentPositions(u),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),n.endBatch(),d};Ss.boundingbox=Ss.bb=Ss.boundingBox;Ss.renderedBoundingbox=Ss.renderedBoundingBox;var oM=Pi,$o,Au;$o=Au={};var RC=function(e){e.uppercaseName=L1(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=L1(e.outerName),$o[e.name]=function(){var r=this[0],i=r._private,l=i.cy,s=l._private.styleEnabled;if(r)if(s){if(r.isParent())return r.updateCompoundBounds(),i[e.autoName]||0;var u=r.pstyle(e.name);switch(u.strValue){case"label":return r.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return u.pfValue}}else return 1},$o["outer"+e.uppercaseName]=function(){var r=this[0],i=r._private,l=i.cy,s=l._private.styleEnabled;if(r)if(s){var u=r[e.name](),d=r.pstyle("border-position").value,c;d==="center"?c=r.pstyle("border-width").pfValue:d==="outside"?c=2*r.pstyle("border-width").pfValue:c=0;var h=2*r.padding();return u+c+h}else return 1},$o["rendered"+e.uppercaseName]=function(){var r=this[0];if(r){var i=r[e.name]();return i*this.cy().zoom()}},$o["rendered"+e.uppercaseOuterName]=function(){var r=this[0];if(r){var i=r[e.outerName]();return i*this.cy().zoom()}}};RC({name:"width"});RC({name:"height"});Au.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};Au.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};Au.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var uM=Au,cM=function(e,n){if(e.isEdge()&&e.takesUpSpace())return n(e)},dM=function(e,n){if(e.isEdge()&&e.takesUpSpace()){var r=e.cy();return df(n(e),r.zoom(),r.pan())}},fM=function(e,n){if(e.isEdge()&&e.takesUpSpace()){var r=e.cy(),i=r.pan(),l=r.zoom();return n(e).map(function(s){return df(s,l,i)})}},hM=function(e){return e.renderer().getControlPoints(e)},vM=function(e){return e.renderer().getSegmentPoints(e)},pM=function(e){return e.renderer().getSourceEndpoint(e)},mM=function(e){return e.renderer().getTargetEndpoint(e)},gM=function(e){return e.renderer().getEdgeMidpoint(e)},w2={controlPoints:{get:hM,mult:!0},segmentPoints:{get:vM,mult:!0},sourceEndpoint:{get:pM},targetEndpoint:{get:mM},midpoint:{get:gM}},yM=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},xM=Object.keys(w2).reduce(function(t,e){var n=w2[e],r=yM(e);return t[e]=function(){return cM(this,n.get)},n.mult?t[r]=function(){return fM(this,n.get)}:t[r]=function(){return dM(this,n.get)},t},{}),bM=st({},iM,oM,uM,xM);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var jC=function(e,n){this.recycle(e,n)};function zo(){return!1}function ud(){return!0}jC.prototype={instanceString:function(){return"event"},recycle:function(e,n){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=zo,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?ud:zo):e!=null&&e.type?n=e:this.type=e,n!=null&&(this.originalEvent=n.originalEvent,this.type=n.type!=null?n.type:this.type,this.cy=n.cy,this.target=n.target,this.position=n.position,this.renderedPosition=n.renderedPosition,this.namespace=n.namespace,this.layout=n.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var r=this.position,i=this.cy.zoom(),l=this.cy.pan();this.renderedPosition={x:r.x*i+l.x,y:r.y*i+l.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=ud;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=ud;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ud,this.stopPropagation()},isDefaultPrevented:zo,isPropagationStopped:zo,isImmediatePropagationStopped:zo};var DC=/^([^.]+)(\.(?:[^.]+))?$/,wM=".*",MC={qualifierCompare:function(e,n){return e===n},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},S2=Object.keys(MC),SM={};function yf(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:SM,e=arguments.length>1?arguments[1]:void 0,n=0;n<S2.length;n++){var r=S2[n];this[r]=t[r]||MC[r]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Oi=yf.prototype,BC=function(e,n,r,i,l,s,u){dn(i)&&(l=i,i=null),u&&(s==null?s=u:s=st({},s,u));for(var d=Zt(r)?r:r.split(/\s+/),c=0;c<d.length;c++){var h=d[c];if(!Ri(h)){var v=h.match(DC);if(v){var m=v[1],y=v[2]?v[2]:null,x=n(e,h,m,y,i,l,s);if(x===!1)break}}}},E2=function(e,n){return e.addEventFields(e.context,n),new jC(n.type,n)},EM=function(e,n,r){if(R5(r)){n(e,r);return}else if(Dt(r)){n(e,E2(e,r));return}for(var i=Zt(r)?r:r.split(/\s+/),l=0;l<i.length;l++){var s=i[l];if(!Ri(s)){var u=s.match(DC);if(u){var d=u[1],c=u[2]?u[2]:null,h=E2(e,{type:d,namespace:c,target:e.context});n(e,h)}}}};Oi.on=Oi.addListener=function(t,e,n,r,i){return BC(this,function(l,s,u,d,c,h,v){dn(h)&&l.listeners.push({event:s,callback:h,type:u,namespace:d,qualifier:c,conf:v})},t,e,n,r,i),this};Oi.one=function(t,e,n,r){return this.on(t,e,n,r,{one:!0})};Oi.removeListener=Oi.off=function(t,e,n,r){var i=this;this.emitting!==0&&(this.listeners=dD(this.listeners));for(var l=this.listeners,s=function(c){var h=l[c];BC(i,function(v,m,y,x,S,w){if((h.type===y||t==="*")&&(!x&&h.namespace!==".*"||h.namespace===x)&&(!S||v.qualifierCompare(h.qualifier,S))&&(!w||h.callback===w))return l.splice(c,1),!1},t,e,n,r)},u=l.length-1;u>=0;u--)s(u);return this};Oi.removeAllListeners=function(){return this.removeListener("*")};Oi.emit=Oi.trigger=function(t,e,n){var r=this.listeners,i=r.length;return this.emitting++,Zt(e)||(e=[e]),EM(this,function(l,s){n!=null&&(r=[{event:s.event,type:s.type,namespace:s.namespace,callback:n}],i=r.length);for(var u=function(){var h=r[d];if(h.type===s.type&&(!h.namespace||h.namespace===s.namespace||h.namespace===wM)&&l.eventMatches(l.context,h,s)){var v=[s];e!=null&&hD(v,e),l.beforeEmit(l.context,h,s),h.conf&&h.conf.one&&(l.listeners=l.listeners.filter(function(x){return x!==h}));var m=l.callbackContext(l.context,h,s),y=h.callback.apply(m,v);l.afterEmit(l.context,h,s),y===!1&&(s.stopPropagation(),s.preventDefault())}},d=0;d<i;d++)u();l.bubble(l.context)&&!s.isPropagationStopped()&&l.parent(l.context).emit(s,e)},t),this.emitting--,this};var CM={qualifierCompare:function(e,n){return e==null||n==null?e==null&&n==null:e.sameText(n)},eventMatches:function(e,n,r){var i=n.qualifier;return i!=null?e!==r.target&&Su(r.target)&&i.matches(r.target):!0},addEventFields:function(e,n){n.cy=e.cy(),n.target=e},callbackContext:function(e,n,r){return n.qualifier!=null?r.target:e},beforeEmit:function(e,n){n.conf&&n.conf.once&&n.conf.onceCollection.removeListener(n.event,n.qualifier,n.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},cd=function(e){return tt(e)?new Mi(e):e},OC={createEmitter:function(){for(var e=0;e<this.length;e++){var n=this[e],r=n._private;r.emitter||(r.emitter=new yf(CM,n))}return this},emitter:function(){return this._private.emitter},on:function(e,n,r){for(var i=cd(n),l=0;l<this.length;l++){var s=this[l];s.emitter().on(e,i,r)}return this},removeListener:function(e,n,r){for(var i=cd(n),l=0;l<this.length;l++){var s=this[l];s.emitter().removeListener(e,i,r)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var n=this[e];n.emitter().removeAllListeners()}return this},one:function(e,n,r){for(var i=cd(n),l=0;l<this.length;l++){var s=this[l];s.emitter().one(e,i,r)}return this},once:function(e,n,r){for(var i=cd(n),l=0;l<this.length;l++){var s=this[l];s.emitter().on(e,i,r,{once:!0,onceCollection:this})}},emit:function(e,n){for(var r=0;r<this.length;r++){var i=this[r];i.emitter().emit(e,n)}return this},emitAndNotify:function(e,n){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,n),this}};It.eventAliasesOn(OC);var LC={nodes:function(e){return this.filter(function(n){return n.isNode()}).filter(e)},edges:function(e){return this.filter(function(n){return n.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),n=this.spawn(),r=0;r<this.length;r++){var i=this[r];i.isNode()?e.push(i):n.push(i)}return{nodes:e,edges:n}},filter:function(e,n){if(e===void 0)return this;if(tt(e)||jr(e))return new Mi(e).filter(this);if(dn(e)){for(var r=this.spawn(),i=this,l=0;l<i.length;l++){var s=i[l],u=n?e.apply(n,[s,l,i]):e(s,l,i);u&&r.push(s)}return r}return this.spawn()},not:function(e){if(e){tt(e)&&(e=this.filter(e));for(var n=this.spawn(),r=0;r<this.length;r++){var i=this[r],l=e.has(i);l||n.push(i)}return n}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(tt(e)){var n=e;return this.filter(n)}for(var r=this.spawn(),i=this,l=e,s=this.length<e.length,u=s?i:l,d=s?l:i,c=0;c<u.length;c++){var h=u[c];d.has(h)&&r.push(h)}return r},xor:function(e){var n=this._private.cy;tt(e)&&(e=n.$(e));var r=this.spawn(),i=this,l=e,s=function(d,c){for(var h=0;h<d.length;h++){var v=d[h],m=v._private.data.id,y=c.hasElementWithId(m);y||r.push(v)}};return s(i,l),s(l,i),r},diff:function(e){var n=this._private.cy;tt(e)&&(e=n.$(e));var r=this.spawn(),i=this.spawn(),l=this.spawn(),s=this,u=e,d=function(h,v,m){for(var y=0;y<h.length;y++){var x=h[y],S=x._private.data.id,w=v.hasElementWithId(S);w?l.merge(x):m.push(x)}};return d(s,u,r),d(u,s,i),{left:r,right:i,both:l}},add:function(e){var n=this._private.cy;if(!e)return this;if(tt(e)){var r=e;e=n.mutableElements().filter(r)}for(var i=this.spawnSelf(),l=0;l<e.length;l++){var s=e[l],u=!this.has(s);u&&i.push(s)}return i},merge:function(e){var n=this._private,r=n.cy;if(!e)return this;if(e&&tt(e)){var i=e;e=r.mutableElements().filter(i)}for(var l=n.map,s=0;s<e.length;s++){var u=e[s],d=u._private.data.id,c=!l.has(d);if(c){var h=this.length++;this[h]=u,l.set(d,{ele:u,index:h})}}return this},unmergeAt:function(e){var n=this[e],r=n.id(),i=this._private,l=i.map;this[e]=void 0,l.delete(r);var s=e===this.length-1;if(this.length>1&&!s){var u=this.length-1,d=this[u],c=d._private.data.id;this[u]=void 0,this[e]=d,l.set(c,{ele:d,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var n=this._private,r=e._private.data.id,i=n.map,l=i.get(r);if(!l)return this;var s=l.index;return this.unmergeAt(s),this},unmerge:function(e){var n=this._private.cy;if(!e)return this;if(e&&tt(e)){var r=e;e=n.mutableElements().filter(r)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var n=this.length-1;n>=0;n--){var r=this[n];e(r)&&this.unmergeAt(n)}return this},map:function(e,n){for(var r=[],i=this,l=0;l<i.length;l++){var s=i[l],u=n?e.apply(n,[s,l,i]):e(s,l,i);r.push(u)}return r},reduce:function(e,n){for(var r=n,i=this,l=0;l<i.length;l++)r=e(r,i[l],l,i);return r},max:function(e,n){for(var r=-1/0,i,l=this,s=0;s<l.length;s++){var u=l[s],d=n?e.apply(n,[u,s,l]):e(u,s,l);d>r&&(r=d,i=u)}return{value:r,ele:i}},min:function(e,n){for(var r=1/0,i,l=this,s=0;s<l.length;s++){var u=l[s],d=n?e.apply(n,[u,s,l]):e(u,s,l);d<r&&(r=d,i=u)}return{value:r,ele:i}}},Lt=LC;Lt.u=Lt["|"]=Lt["+"]=Lt.union=Lt.or=Lt.add;Lt["\\"]=Lt["!"]=Lt["-"]=Lt.difference=Lt.relativeComplement=Lt.subtract=Lt.not;Lt.n=Lt["&"]=Lt["."]=Lt.and=Lt.intersection=Lt.intersect;Lt["^"]=Lt["(+)"]=Lt["(-)"]=Lt.symmetricDifference=Lt.symdiff=Lt.xor;Lt.fnFilter=Lt.filterFn=Lt.stdFilter=Lt.filter;Lt.complement=Lt.abscomp=Lt.absoluteComplement;var TM={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},zC=function(e,n){var r=e.cy(),i=r.hasCompoundNodes();function l(h){var v=h.pstyle("z-compound-depth");return v.value==="auto"?i?h.zDepth():0:v.value==="bottom"?-1:v.value==="top"?Yg:0}var s=l(e)-l(n);if(s!==0)return s;function u(h){var v=h.pstyle("z-index-compare");return v.value==="auto"&&h.isNode()?1:0}var d=u(e)-u(n);if(d!==0)return d;var c=e.pstyle("z-index").value-n.pstyle("z-index").value;return c!==0?c:e.poolIndex()-n.poolIndex()},Xd={forEach:function(e,n){if(dn(e))for(var r=this.length,i=0;i<r;i++){var l=this[i],s=n?e.apply(n,[l,i,this]):e(l,i,this);if(s===!1)break}return this},toArray:function(){for(var e=[],n=0;n<this.length;n++)e.push(this[n]);return e},slice:function(e,n){var r=[],i=this.length;n==null&&(n=i),e==null&&(e=0),e<0&&(e=i+e),n<0&&(n=i+n);for(var l=e;l>=0&&l<n&&l<i;l++)r.push(this[l]);return this.spawn(r)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!dn(e))return this;var n=this.toArray().sort(e);return this.spawn(n)},sortByZIndex:function(){return this.sort(zC)},zDepth:function(){var e=this[0];if(e){var n=e._private,r=n.group;if(r==="nodes"){var i=n.data.parent?e.parents().size():0;return e.isParent()?i:Yg-1}else{var l=n.source,s=n.target,u=l.zDepth(),d=s.zDepth();return Math.max(u,d,0)}}}};Xd.each=Xd.forEach;var kM=function(){var e="undefined",n=(typeof Symbol>"u"?"undefined":Rn(Symbol))!=e&&Rn(Symbol.iterator)!=e;n&&(Xd[Symbol.iterator]=function(){var r=this,i={value:void 0,done:!1},l=0,s=this.length;return OE({next:function(){return l<s?i.value=r[l++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};kM();var NM=Un({nodeDimensionsIncludeLabels:!1}),Nd={layoutDimensions:function(e){e=NM(e);var n;if(!this.takesUpSpace())n={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var r=this.boundingBox();n={w:r.w,h:r.h}}else n={w:this.outerWidth(),h:this.outerHeight()};return(n.w===0||n.h===0)&&(n.w=n.h=1),n},layoutPositions:function(e,n,r){var i=this.nodes().filter(function(M){return!M.isParent()}),l=this.cy(),s=n.eles,u=function(R){return R.id()},d=Ts(r,u);e.emit({type:"layoutstart",layout:e}),e.animations=[];var c=function(R,A,O){var B={x:A.x1+A.w/2,y:A.y1+A.h/2},P={x:(O.x-B.x)*R,y:(O.y-B.y)*R};return{x:B.x+P.x,y:B.y+P.y}},h=n.spacingFactor&&n.spacingFactor!==1,v=function(){if(!h)return null;for(var R=er(),A=0;A<i.length;A++){var O=i[A],B=d(O,A);eC(R,B.x,B.y)}return R},m=v(),y=Ts(function(M,R){var A=d(M,R);if(h){var O=Math.abs(n.spacingFactor);A=c(O,m,A)}return n.transform!=null&&(A=n.transform(M,A)),A},u);if(n.animate){for(var x=0;x<i.length;x++){var S=i[x],w=y(S,x),E=n.animateFilter==null||n.animateFilter(S,x);if(E){var T=S.animation({position:w,duration:n.animationDuration,easing:n.animationEasing});e.animations.push(T)}else S.position(w)}if(n.fit){var k=l.animation({fit:{boundingBox:s.boundingBoxAt(y),padding:n.padding},duration:n.animationDuration,easing:n.animationEasing});e.animations.push(k)}else if(n.zoom!==void 0&&n.pan!==void 0){var N=l.animation({zoom:n.zoom,pan:n.pan,duration:n.animationDuration,easing:n.animationEasing});e.animations.push(N)}e.animations.forEach(function(M){return M.play()}),e.one("layoutready",n.ready),e.emit({type:"layoutready",layout:e}),Ms.all(e.animations.map(function(M){return M.promise()})).then(function(){e.one("layoutstop",n.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(y),n.fit&&l.fit(n.eles,n.padding),n.zoom!=null&&l.zoom(n.zoom),n.pan&&l.pan(n.pan),e.one("layoutready",n.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",n.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var n=this.cy();return n.makeLayout(st({},e,{eles:this}))}};Nd.createLayout=Nd.makeLayout=Nd.layout;function _C(t,e,n){var r=n._private,i=r.styleCache=r.styleCache||[],l;return(l=i[t])!=null||(l=i[t]=e(n)),l}function xf(t,e){return t=pl(t),function(r){return _C(t,e,r)}}function bf(t,e){t=pl(t);var n=function(i){return e.call(i)};return function(){var i=this[0];if(i)return _C(t,n,i)}}var Fn={recalculateRenderedStyle:function(e){var n=this.cy(),r=n.renderer(),i=n.styleEnabled();return r&&i&&r.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),n=function(l){return l._private.styleCache=null};if(e.hasCompoundNodes()){var r;r=this.spawnSelf().merge(this.descendants()).merge(this.parents()),r.merge(r.connectedEdges()),r.forEach(n)}else this.forEach(function(i){n(i),i.connectedEdges().forEach(n)});return this},updateStyle:function(e){var n=this._private.cy;if(!n.styleEnabled())return this;if(n.batching()){var r=n._private.batchStyleEles;return r.merge(this),this}var i=n.hasCompoundNodes(),l=this;e=!!(e||e===void 0),i&&(l=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=l;return e?s.emitAndNotify("style"):s.emit("style"),l.forEach(function(u){return u._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var n=0;n<this.length;n++){var r=this[n];r._private.styleDirty&&(r._private.styleDirty=!1,e.style().apply(r))}},parsedStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this[0],i=r.cy();if(i.styleEnabled()&&r){r._private.styleDirty&&(r._private.styleDirty=!1,i.style().apply(r));var l=r._private.style[e];return l??(n?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var n=this[0];if(n.cy().styleEnabled()&&n){var r=n.pstyle(e);return r.pfValue!==void 0?r.pfValue:r.value}},numericStyleUnits:function(e){var n=this[0];if(n.cy().styleEnabled()&&n)return n.pstyle(e).units},renderedStyle:function(e){var n=this.cy();if(!n.styleEnabled())return this;var r=this[0];if(r)return n.style().getRenderedStyle(r,e)},style:function(e,n){var r=this.cy();if(!r.styleEnabled())return this;var i=!1,l=r.style();if(Dt(e)){var s=e;l.applyBypass(this,s,i),this.emitAndNotify("style")}else if(tt(e))if(n===void 0){var u=this[0];return u?l.getStylePropertyValue(u,e):void 0}else l.applyBypass(this,e,n,i),this.emitAndNotify("style");else if(e===void 0){var d=this[0];return d?l.getRawStyle(d):void 0}return this},removeStyle:function(e){var n=this.cy();if(!n.styleEnabled())return this;var r=!1,i=n.style(),l=this;if(e===void 0)for(var s=0;s<l.length;s++){var u=l[s];i.removeAllBypasses(u,r)}else{e=e.split(/\s+/);for(var d=0;d<l.length;d++){var c=l[d];i.removeBypasses(c,e,r)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var n=e.hasCompoundNodes(),r=this[0];if(r){var i=r._private,l=r.pstyle("opacity").value;if(!n)return l;var s=i.data.parent?r.parents():null;if(s)for(var u=0;u<s.length;u++){var d=s[u],c=d.pstyle("opacity").value;l=c*l}return l}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var n=this[0],r=n.cy().hasCompoundNodes();if(n)return r?n.effectiveOpacity()===0:n.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var n=this[0];return!!n._private.backgrounding}};function gm(t,e){var n=t._private,r=n.data.parent?t.parents():null;if(r)for(var i=0;i<r.length;i++){var l=r[i];if(!e(l))return!1}return!0}function ay(t){var e=t.ok,n=t.edgeOkViaNode||t.ok,r=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var l=this[0],s=i.hasCompoundNodes();if(l){var u=l._private;if(!e(l))return!1;if(l.isNode())return!s||gm(l,r);var d=u.source,c=u.target;return n(d)&&(!s||gm(d,n))&&(d===c||n(c)&&(!s||gm(c,n)))}}}var Bs=xf("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Fn.takesUpSpace=bf("takesUpSpace",ay({ok:Bs}));var AM=xf("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&Bs(t)}),RM=xf("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&Bs(t)});Fn.interactive=bf("interactive",ay({ok:AM,parentOk:RM,edgeOkViaNode:Bs}));Fn.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var jM=xf("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&Bs(t)}),DM=Bs;Fn.visible=bf("visible",ay({ok:jM,edgeOkViaNode:DM}));Fn.hidden=function(){var t=this[0];if(t)return!t.visible()};Fn.isBundledBezier=bf("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Fn.bypass=Fn.css=Fn.style;Fn.renderedCss=Fn.renderedStyle;Fn.removeBypass=Fn.removeCss=Fn.removeStyle;Fn.pstyle=Fn.parsedStyle;var Ai={};function C2(t){return function(){var e=arguments,n=[];if(e.length===2){var r=e[0],i=e[1];this.on(t.event,r,i)}else if(e.length===1&&dn(e[0])){var l=e[0];this.on(t.event,l)}else if(e.length===0||e.length===1&&Zt(e[0])){for(var s=e.length===1?e[0]:null,u=0;u<this.length;u++){var d=this[u],c=!t.ableField||d._private[t.ableField],h=d._private[t.field]!=t.value;if(t.overrideAble){var v=t.overrideAble(d);if(v!==void 0&&(c=v,!v))return this}c&&(d._private[t.field]=t.value,h&&n.push(d))}var m=this.spawn(n);m.updateStyle(),m.emit(t.event),s&&m.emit(s)}return this}}function Os(t){Ai[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var n=t.overrideField(e);if(n!==void 0)return n}return e._private[t.field]}},Ai[t.on]=C2({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Ai[t.off]=C2({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Os({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Os({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Os({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Os({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Ai.deselect=Ai.unselect;Ai.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};Os({field:"active",on:"activate",off:"unactivate"});Os({field:"pannable",on:"panify",off:"unpanify"});Ai.inactive=function(){var t=this[0];if(t)return!t._private.active};var Xn={},T2=function(e){return function(r){for(var i=this,l=[],s=0;s<i.length;s++){var u=i[s];if(u.isNode()){for(var d=!1,c=u.connectedEdges(),h=0;h<c.length;h++){var v=c[h],m=v.source(),y=v.target();if(e.noIncomingEdges&&y===u&&m!==u||e.noOutgoingEdges&&m===u&&y!==u){d=!0;break}}d||l.push(u)}}return this.spawn(l,!0).filter(r)}},k2=function(e){return function(n){for(var r=this,i=[],l=0;l<r.length;l++){var s=r[l];if(s.isNode())for(var u=s.connectedEdges(),d=0;d<u.length;d++){var c=u[d],h=c.source(),v=c.target();e.outgoing&&h===s?(i.push(c),i.push(v)):e.incoming&&v===s&&(i.push(c),i.push(h))}}return this.spawn(i,!0).filter(n)}},N2=function(e){return function(n){for(var r=this,i=[],l={};;){var s=e.outgoing?r.outgoers():r.incomers();if(s.length===0)break;for(var u=!1,d=0;d<s.length;d++){var c=s[d],h=c.id();l[h]||(l[h]=!0,i.push(c),u=!0)}if(!u)break;r=s}return this.spawn(i,!0).filter(n)}};Xn.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};st(Xn,{roots:T2({noIncomingEdges:!0}),leaves:T2({noOutgoingEdges:!0}),outgoers:Gr(k2({outgoing:!0}),"outgoers"),successors:N2({outgoing:!0}),incomers:Gr(k2({incoming:!0}),"incomers"),predecessors:N2({})});st(Xn,{neighborhood:Gr(function(t){for(var e=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],l=i.connectedEdges(),s=0;s<l.length;s++){var u=l[s],d=u.source(),c=u.target(),h=i===d?c:d;h.length>0&&e.push(h[0]),e.push(u[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Xn.neighbourhood=Xn.neighborhood;Xn.closedNeighbourhood=Xn.closedNeighborhood;Xn.openNeighbourhood=Xn.openNeighborhood;st(Xn,{source:Gr(function(e){var n=this[0],r;return n&&(r=n._private.source||n.cy().collection()),r&&e?r.filter(e):r},"source"),target:Gr(function(e){var n=this[0],r;return n&&(r=n._private.target||n.cy().collection()),r&&e?r.filter(e):r},"target"),sources:A2({attr:"source"}),targets:A2({attr:"target"})});function A2(t){return function(n){for(var r=[],i=0;i<this.length;i++){var l=this[i],s=l._private[t.attr];s&&r.push(s)}return this.spawn(r,!0).filter(n)}}st(Xn,{edgesWith:Gr(R2(),"edgesWith"),edgesTo:Gr(R2({thisIsSrc:!0}),"edgesTo")});function R2(t){return function(n){var r=[],i=this._private.cy,l=t||{};tt(n)&&(n=i.$(n));for(var s=0;s<n.length;s++)for(var u=n[s]._private.edges,d=0;d<u.length;d++){var c=u[d],h=c._private.data,v=this.hasElementWithId(h.source)&&n.hasElementWithId(h.target),m=n.hasElementWithId(h.source)&&this.hasElementWithId(h.target),y=v||m;y&&((l.thisIsSrc||l.thisIsTgt)&&(l.thisIsSrc&&!v||l.thisIsTgt&&!m)||r.push(c))}return this.spawn(r,!0)}}st(Xn,{connectedEdges:Gr(function(t){for(var e=[],n=this,r=0;r<n.length;r++){var i=n[r];if(i.isNode())for(var l=i._private.edges,s=0;s<l.length;s++){var u=l[s];e.push(u)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Gr(function(t){for(var e=[],n=this,r=0;r<n.length;r++){var i=n[r];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Gr(j2(),"parallelEdges"),codirectedEdges:Gr(j2({codirected:!0}),"codirectedEdges")});function j2(t){var e={codirected:!1};return t=st({},e,t),function(r){for(var i=[],l=this.edges(),s=t,u=0;u<l.length;u++)for(var d=l[u],c=d._private,h=c.source,v=h._private.data.id,m=c.data.target,y=h._private.edges,x=0;x<y.length;x++){var S=y[x],w=S._private.data,E=w.target,T=w.source,k=E===m&&T===v,N=v===E&&m===T;(s.codirected&&k||!s.codirected&&(k||N))&&i.push(S)}return this.spawn(i,!0).filter(r)}}st(Xn,{components:function(e){var n=this,r=n.cy(),i=r.collection(),l=e==null?n.nodes():e.nodes(),s=[];e!=null&&l.empty()&&(l=e.sources());var u=function(h,v){i.merge(h),l.unmerge(h),v.merge(h)};if(l.empty())return n.spawn();var d=function(){var h=r.collection();s.push(h);var v=l[0];u(v,h),n.bfs({directed:!1,roots:v,visit:function(y){return u(y,h)}}),h.forEach(function(m){m.connectedEdges().forEach(function(y){n.has(y)&&h.has(y.source())&&h.has(y.target())&&h.merge(y)})})};do d();while(l.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Xn.componentsOf=Xn.components;var Hn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){un("A collection must have a reference to the core");return}var l=new _a,s=!1;if(!n)n=[];else if(n.length>0&&Dt(n[0])&&!Su(n[0])){s=!0;for(var u=[],d=new Ds,c=0,h=n.length;c<h;c++){var v=n[c];v.data==null&&(v.data={});var m=v.data;if(m.id==null)m.id=ZE();else if(e.hasElementWithId(m.id)||d.has(m.id))continue;var y=new cf(e,v,!1);u.push(y),d.add(m.id)}n=u}this.length=0;for(var x=0,S=n.length;x<S;x++){var w=n[x][0];if(w!=null){var E=w._private.data.id;(!r||!l.has(E))&&(r&&l.set(E,{index:this.length,ele:w}),this[this.length]=w,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(T){this.lazyMap=T},rebuildMap:function(){for(var k=this.lazyMap=new _a,N=this.eles,M=0;M<N.length;M++){var R=N[M];k.set(R.id(),{index:M,ele:R})}}},r&&(this._private.map=l),s&&!i&&this.restore()},tn=cf.prototype=Hn.prototype=Object.create(Array.prototype);tn.instanceString=function(){return"collection"};tn.spawn=function(t,e){return new Hn(this.cy(),t,e)};tn.spawnSelf=function(){return this.spawn(this)};tn.cy=function(){return this._private.cy};tn.renderer=function(){return this._private.cy.renderer()};tn.element=function(){return this[0]};tn.collection=function(){return _E(this)?this:new Hn(this._private.cy,[this])};tn.unique=function(){return new Hn(this._private.cy,this,!0)};tn.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};tn.getElementById=function(t){t=""+t;var e=this._private.cy,n=this._private.map.get(t);return n?n.ele:new Hn(e)};tn.$id=tn.getElementById;tn.poolIndex=function(){var t=this._private.cy,e=t._private.elements,n=this[0]._private.data.id;return e._private.map.get(n).index};tn.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};tn.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};tn.json=function(t){var e=this.element(),n=this.cy();if(e==null&&t)return this;if(e!=null){var r=e._private;if(Dt(t)){if(n.startBatch(),t.data){e.data(t.data);var i=r.data;if(e.isEdge()){var l=!1,s={},u=t.data.source,d=t.data.target;u!=null&&u!=i.source&&(s.source=""+u,l=!0),d!=null&&d!=i.target&&(s.target=""+d,l=!0),l&&(e=e.move(s))}else{var c="parent"in t.data,h=t.data.parent;c&&(h!=null||i.parent!=null)&&h!=i.parent&&(h===void 0&&(h=null),h!=null&&(h=""+h),e=e.move({parent:h}))}}t.position&&e.position(t.position);var v=function(S,w,E){var T=t[S];T!=null&&T!==r[S]&&(T?e[w]():e[E]())};return v("removed","remove","restore"),v("selected","select","unselect"),v("selectable","selectify","unselectify"),v("locked","lock","unlock"),v("grabbable","grabify","ungrabify"),v("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),n.endBatch(),this}else if(t===void 0){var m={data:da(r.data),position:da(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:null};m.classes="";var y=0;return r.classes.forEach(function(x){return m.classes+=y++===0?x:" "+x}),m}}};tn.jsons=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e],r=n.json();t.push(r)}return t};tn.clone=function(){for(var t=this.cy(),e=[],n=0;n<this.length;n++){var r=this[n],i=r.json(),l=new cf(t,i,!1);e.push(l)}return new Hn(t,e)};tn.copy=tn.clone;tn.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this,r=n.cy(),i=r._private,l=[],s=[],u,d=0,c=n.length;d<c;d++){var h=n[d];e&&!h.removed()||(h.isNode()?l.push(h):s.push(h))}u=l.concat(s);var v,m=function(){u.splice(v,1),v--};for(v=0;v<u.length;v++){var y=u[v],x=y._private,S=x.data;if(y.clearTraversalCache(),!(!e&&!x.removed)){if(S.id===void 0)S.id=ZE();else if(Fe(S.id))S.id=""+S.id;else if(Ri(S.id)||!tt(S.id)){un("Can not create element with invalid string ID `"+S.id+"`"),m();continue}else if(r.hasElementWithId(S.id)){un("Can not create second element with ID `"+S.id+"`"),m();continue}}var w=S.id;if(y.isNode()){var E=x.position;E.x==null&&(E.x=0),E.y==null&&(E.y=0)}if(y.isEdge()){for(var T=y,k=["source","target"],N=k.length,M=!1,R=0;R<N;R++){var A=k[R],O=S[A];Fe(O)&&(O=S[A]=""+S[A]),O==null||O===""?(un("Can not create edge `"+w+"` with unspecified "+A),M=!0):r.hasElementWithId(O)||(un("Can not create edge `"+w+"` with nonexistant "+A+" `"+O+"`"),M=!0)}if(M){m();continue}var B=r.getElementById(S.source),P=r.getElementById(S.target);B.same(P)?B._private.edges.push(T):(B._private.edges.push(T),P._private.edges.push(T)),T._private.source=B,T._private.target=P}x.map=new _a,x.map.set(w,{ele:y,index:0}),x.removed=!1,e&&r.addToPool(y)}for(var q=0;q<l.length;q++){var L=l[q],D=L._private.data;Fe(D.parent)&&(D.parent=""+D.parent);var F=D.parent,$=F!=null;if($||L._private.parent){var H=L._private.parent?r.collection().merge(L._private.parent):r.getElementById(F);if(H.empty())D.parent=void 0;else if(H[0].removed())qt("Node added with missing parent, reference to parent removed"),D.parent=void 0,L._private.parent=null;else{for(var V=!1,K=H;!K.empty();){if(L.same(K)){V=!0,D.parent=void 0;break}K=K.parent()}V||(H[0]._private.children.push(L),L._private.parent=H[0],i.hasCompoundNodes=!0)}}}if(u.length>0){for(var ee=u.length===n.length?n:new Hn(r,u),I=0;I<ee.length;I++){var _=ee[I];_.isNode()||(_.parallelEdges().clearTraversalCache(),_.source().clearTraversalCache(),_.target().clearTraversalCache())}var X;i.hasCompoundNodes?X=r.collection().merge(ee).merge(ee.connectedNodes()).merge(ee.parent()):X=ee,X.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?ee.emitAndNotify("add"):e&&ee.emit("add")}return n};tn.removed=function(){var t=this[0];return t&&t._private.removed};tn.inside=function(){var t=this[0];return t&&!t._private.removed};tn.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this,r=[],i={},l=n._private.cy;function s(F){for(var $=F._private.edges,H=0;H<$.length;H++)d($[H])}function u(F){for(var $=F._private.children,H=0;H<$.length;H++)d($[H])}function d(F){var $=i[F.id()];e&&F.removed()||$||(i[F.id()]=!0,F.isNode()?(r.push(F),s(F),u(F)):r.unshift(F))}for(var c=0,h=n.length;c<h;c++){var v=n[c];d(v)}function m(F,$){var H=F._private.edges;ji(H,$),F.clearTraversalCache()}function y(F){F.clearTraversalCache()}var x=[];x.ids={};function S(F,$){$=$[0],F=F[0];var H=F._private.children,V=F.id();ji(H,$),$._private.parent=null,x.ids[V]||(x.ids[V]=!0,x.push(F))}n.dirtyCompoundBoundsCache(),e&&l.removeFromPool(r);for(var w=0;w<r.length;w++){var E=r[w];if(E.isEdge()){var T=E.source()[0],k=E.target()[0];m(T,E),m(k,E);for(var N=E.parallelEdges(),M=0;M<N.length;M++){var R=N[M];y(R),R.isBundledBezier()&&R.dirtyBoundingBoxCache()}}else{var A=E.parent();A.length!==0&&S(A,E)}e&&(E._private.removed=!0)}var O=l._private.elements;l._private.hasCompoundNodes=!1;for(var B=0;B<O.length;B++){var P=O[B];if(P.isParent()){l._private.hasCompoundNodes=!0;break}}var q=new Hn(this.cy(),r);q.size()>0&&(t?q.emitAndNotify("remove"):e&&q.emit("remove"));for(var L=0;L<x.length;L++){var D=x[L];(!e||!D.removed())&&D.updateStyle()}return q};tn.move=function(t){var e=this._private.cy,n=this,r=!1,i=!1,l=function(x){return x==null?x:""+x};if(t.source!==void 0||t.target!==void 0){var s=l(t.source),u=l(t.target),d=s!=null&&e.hasElementWithId(s),c=u!=null&&e.hasElementWithId(u);(d||c)&&(e.batch(function(){n.remove(r,i),n.emitAndNotify("moveout");for(var y=0;y<n.length;y++){var x=n[y],S=x._private.data;x.isEdge()&&(d&&(S.source=s),c&&(S.target=u))}n.restore(r,i)}),n.emitAndNotify("move"))}else if(t.parent!==void 0){var h=l(t.parent),v=h===null||e.hasElementWithId(h);if(v){var m=h===null?void 0:h;e.batch(function(){var y=n.remove(r,i);y.emitAndNotify("moveout");for(var x=0;x<n.length;x++){var S=n[x],w=S._private.data;S.isNode()&&(w.parent=m)}y.restore(r,i)}),n.emitAndNotify("move")}}return this};[uC,H4,kd,Ni,Ns,aM,gf,bM,OC,LC,TM,Xd,Nd,Fn,Ai,Xn].forEach(function(t){st(tn,t)});var MM={add:function(e){var n,r=this;if(jr(e)){var i=e;if(i._private.cy===r)n=i.restore();else{for(var l=[],s=0;s<i.length;s++){var u=i[s];l.push(u.json())}n=new Hn(r,l)}}else if(Zt(e)){var d=e;n=new Hn(r,d)}else if(Dt(e)&&(Zt(e.nodes)||Zt(e.edges))){for(var c=e,h=[],v=["nodes","edges"],m=0,y=v.length;m<y;m++){var x=v[m],S=c[x];if(Zt(S))for(var w=0,E=S.length;w<E;w++){var T=st({group:x},S[w]);h.push(T)}}n=new Hn(r,h)}else{var k=e;n=new cf(r,k).collection()}return n},remove:function(e){if(!jr(e)){if(tt(e)){var n=e;e=this.$(n)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function BM(t,e,n,r){var i=4,l=.001,s=1e-7,u=10,d=11,c=1/(d-1),h=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var v=0;v<4;++v)if(typeof arguments[v]!="number"||isNaN(arguments[v])||!isFinite(arguments[v]))return!1;t=Math.min(t,1),n=Math.min(n,1),t=Math.max(t,0),n=Math.max(n,0);var m=h?new Float32Array(d):new Array(d);function y(P,q){return 1-3*q+3*P}function x(P,q){return 3*q-6*P}function S(P){return 3*P}function w(P,q,L){return((y(q,L)*P+x(q,L))*P+S(q))*P}function E(P,q,L){return 3*y(q,L)*P*P+2*x(q,L)*P+S(q)}function T(P,q){for(var L=0;L<i;++L){var D=E(q,t,n);if(D===0)return q;var F=w(q,t,n)-P;q-=F/D}return q}function k(){for(var P=0;P<d;++P)m[P]=w(P*c,t,n)}function N(P,q,L){var D,F,$=0;do F=q+(L-q)/2,D=w(F,t,n)-P,D>0?L=F:q=F;while(Math.abs(D)>s&&++$<u);return F}function M(P){for(var q=0,L=1,D=d-1;L!==D&&m[L]<=P;++L)q+=c;--L;var F=(P-m[L])/(m[L+1]-m[L]),$=q+F*c,H=E($,t,n);return H>=l?T(P,$):H===0?$:N(P,q,q+c)}var R=!1;function A(){R=!0,(t!==e||n!==r)&&k()}var O=function(q){return R||A(),t===e&&n===r?q:q===0?0:q===1?1:w(M(q),e,r)};O.getControlPoints=function(){return[{x:t,y:e},{x:n,y:r}]};var B="generateBezier("+[t,e,n,r]+")";return O.toString=function(){return B},O}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var OM=(function(){function t(r){return-r.tension*r.x-r.friction*r.v}function e(r,i,l){var s={x:r.x+l.dx*i,v:r.v+l.dv*i,tension:r.tension,friction:r.friction};return{dx:s.v,dv:t(s)}}function n(r,i){var l={dx:r.v,dv:t(r)},s=e(r,i*.5,l),u=e(r,i*.5,s),d=e(r,i,u),c=1/6*(l.dx+2*(s.dx+u.dx)+d.dx),h=1/6*(l.dv+2*(s.dv+u.dv)+d.dv);return r.x=r.x+c*i,r.v=r.v+h*i,r}return function r(i,l,s){var u={x:-1,v:0,tension:null,friction:null},d=[0],c=0,h=1/1e4,v=16/1e3,m,y,x;for(i=parseFloat(i)||500,l=parseFloat(l)||20,s=s||null,u.tension=i,u.friction=l,m=s!==null,m?(c=r(i,l),y=c/s*v):y=v;x=n(x||u,y),d.push(1+x.x),c+=16,Math.abs(x.x)>h&&Math.abs(x.v)>h;);return m?function(S){return d[S*(d.length-1)|0]}:c}})(),Wt=function(e,n,r,i){var l=BM(e,n,r,i);return function(s,u,d){return s+(u-s)*l(d)}},Ad={linear:function(e,n,r){return e+(n-e)*r},ease:Wt(.25,.1,.25,1),"ease-in":Wt(.42,0,1,1),"ease-out":Wt(0,0,.58,1),"ease-in-out":Wt(.42,0,.58,1),"ease-in-sine":Wt(.47,0,.745,.715),"ease-out-sine":Wt(.39,.575,.565,1),"ease-in-out-sine":Wt(.445,.05,.55,.95),"ease-in-quad":Wt(.55,.085,.68,.53),"ease-out-quad":Wt(.25,.46,.45,.94),"ease-in-out-quad":Wt(.455,.03,.515,.955),"ease-in-cubic":Wt(.55,.055,.675,.19),"ease-out-cubic":Wt(.215,.61,.355,1),"ease-in-out-cubic":Wt(.645,.045,.355,1),"ease-in-quart":Wt(.895,.03,.685,.22),"ease-out-quart":Wt(.165,.84,.44,1),"ease-in-out-quart":Wt(.77,0,.175,1),"ease-in-quint":Wt(.755,.05,.855,.06),"ease-out-quint":Wt(.23,1,.32,1),"ease-in-out-quint":Wt(.86,0,.07,1),"ease-in-expo":Wt(.95,.05,.795,.035),"ease-out-expo":Wt(.19,1,.22,1),"ease-in-out-expo":Wt(1,0,0,1),"ease-in-circ":Wt(.6,.04,.98,.335),"ease-out-circ":Wt(.075,.82,.165,1),"ease-in-out-circ":Wt(.785,.135,.15,.86),spring:function(e,n,r){if(r===0)return Ad.linear;var i=OM(e,n,r);return function(l,s,u){return l+(s-l)*i(u)}},"cubic-bezier":Wt};function D2(t,e,n,r,i){if(r===1||e===n)return n;var l=i(e,n,r);return t==null||((t.roundValue||t.color)&&(l=Math.round(l)),t.min!==void 0&&(l=Math.max(l,t.min)),t.max!==void 0&&(l=Math.min(l,t.max))),l}function M2(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function ss(t,e,n,r,i){var l=i!=null?i.type:null;n<0?n=0:n>1&&(n=1);var s=M2(t,i),u=M2(e,i);if(Fe(s)&&Fe(u))return D2(l,s,u,n,r);if(Zt(s)&&Zt(u)){for(var d=[],c=0;c<u.length;c++){var h=s[c],v=u[c];if(h!=null&&v!=null){var m=D2(l,h,v,n,r);d.push(m)}else d.push(v)}return d}}function LM(t,e,n,r){var i=!r,l=t._private,s=e._private,u=s.easing,d=s.startTime,c=r?t:t.cy(),h=c.style();if(!s.easingImpl)if(u==null)s.easingImpl=Ad.linear;else{var v;if(tt(u)){var m=h.parse("transition-timing-function",u);v=m.value}else v=u;var y,x;tt(v)?(y=v,x=[]):(y=v[1],x=v.slice(2).map(function(ee){return+ee})),x.length>0?(y==="spring"&&x.push(s.duration),s.easingImpl=Ad[y].apply(null,x)):s.easingImpl=Ad[y]}var S=s.easingImpl,w;if(s.duration===0?w=1:w=(n-d)/s.duration,s.applying&&(w=s.progress),w<0?w=0:w>1&&(w=1),s.delay==null){var E=s.startPosition,T=s.position;if(T&&i&&!t.locked()){var k={};_o(E.x,T.x)&&(k.x=ss(E.x,T.x,w,S)),_o(E.y,T.y)&&(k.y=ss(E.y,T.y,w,S)),t.position(k)}var N=s.startPan,M=s.pan,R=l.pan,A=M!=null&&r;A&&(_o(N.x,M.x)&&(R.x=ss(N.x,M.x,w,S)),_o(N.y,M.y)&&(R.y=ss(N.y,M.y,w,S)),t.emit("pan"));var O=s.startZoom,B=s.zoom,P=B!=null&&r;P&&(_o(O,B)&&(l.zoom=uu(l.minZoom,ss(O,B,w,S),l.maxZoom)),t.emit("zoom")),(A||P)&&t.emit("viewport");var q=s.style;if(q&&q.length>0&&i){for(var L=0;L<q.length;L++){var D=q[L],F=D.name,$=D,H=s.startStyle[F],V=h.properties[H.name],K=ss(H,$,w,S,V);h.overrideBypass(t,F,K)}t.emit("style")}}return s.progress=w,w}function _o(t,e){return t==null||e==null?!1:Fe(t)&&Fe(e)?!0:!!(t&&e)}function zM(t,e,n,r){var i=e._private;i.started=!0,i.startTime=n-i.progress*i.duration}function B2(t,e){var n=e._private.aniEles,r=[];function i(h,v){var m=h._private,y=m.animation.current,x=m.animation.queue,S=!1;if(y.length===0){var w=x.shift();w&&y.push(w)}for(var E=function(R){for(var A=R.length-1;A>=0;A--){var O=R[A];O()}R.splice(0,R.length)},T=y.length-1;T>=0;T--){var k=y[T],N=k._private;if(N.stopped){y.splice(T,1),N.hooked=!1,N.playing=!1,N.started=!1,E(N.frames);continue}!N.playing&&!N.applying||(N.playing&&N.applying&&(N.applying=!1),N.started||zM(h,k,t),LM(h,k,t,v),N.applying&&(N.applying=!1),E(N.frames),N.step!=null&&N.step(t),k.completed()&&(y.splice(T,1),N.hooked=!1,N.playing=!1,N.started=!1,E(N.completes)),S=!0)}return!v&&y.length===0&&x.length===0&&r.push(h),S}for(var l=!1,s=0;s<n.length;s++){var u=n[s],d=i(u);l=l||d}var c=i(e,!0);(l||c)&&(n.length>0?e.notify("draw",n):e.notify("draw")),n.unmerge(r),e.emit("step")}var _M={animate:It.animate(),animation:It.animation(),animated:It.animated(),clearQueue:It.clearQueue(),delay:It.delay(),delayAnimation:It.delayAnimation(),stop:It.stop(),addToAnimationPool:function(e){var n=this;n.styleEnabled()&&n._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function n(){e._private.animationsRunning&&Ud(function(l){B2(l,e),n()})}var r=e.renderer();r&&r.beforeRender?r.beforeRender(function(l,s){B2(s,e)},r.beforeRenderPriorities.animations):n()}},PM={qualifierCompare:function(e,n){return e==null||n==null?e==null&&n==null:e.sameText(n)},eventMatches:function(e,n,r){var i=n.qualifier;return i!=null?e!==r.target&&Su(r.target)&&i.matches(r.target):!0},addEventFields:function(e,n){n.cy=e,n.target=e},callbackContext:function(e,n,r){return n.qualifier!=null?r.target:e}},dd=function(e){return tt(e)?new Mi(e):e},PC={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new yf(PM,this)),this},emitter:function(){return this._private.emitter},on:function(e,n,r){return this.emitter().on(e,dd(n),r),this},removeListener:function(e,n,r){return this.emitter().removeListener(e,dd(n),r),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,n,r){return this.emitter().one(e,dd(n),r),this},once:function(e,n,r){return this.emitter().one(e,dd(n),r),this},emit:function(e,n){return this.emitter().emit(e,n),this},emitAndNotify:function(e,n){return this.emit(e),this.notify(e,n),this}};It.eventAliasesOn(PC);var lg={png:function(e){var n=this._private.renderer;return e=e||{},n.png(e)},jpg:function(e){var n=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",n.jpg(e)}};lg.jpeg=lg.jpg;var Rd={layout:function(e){var n=this;if(e==null){un("Layout options must be specified to make a layout");return}if(e.name==null){un("A `name` must be specified to make a layout");return}var r=e.name,i=n.extension("layout",r);if(i==null){un("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var l;tt(e.eles)?l=n.$(e.eles):l=e.eles!=null?e.eles:n.$();var s=new i(st({},e,{cy:n,eles:l}));return s}};Rd.createLayout=Rd.makeLayout=Rd.layout;var IM={notify:function(e,n){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var i=r.batchNotifications[e]=r.batchNotifications[e]||this.collection();n!=null&&i.merge(n);return}if(r.notificationsEnabled){var l=this.renderer();this.destroyed()||!l||l.notify(e,n)}},notifications:function(e){var n=this._private;return e===void 0?n.notificationsEnabled:(n.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var n=this.renderer();Object.keys(e.batchNotifications).forEach(function(r){var i=e.batchNotifications[r];i.empty()?n.notify(r):n.notify(r,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var n=this;return this.batch(function(){for(var r=Object.keys(e),i=0;i<r.length;i++){var l=r[i],s=e[l],u=n.getElementById(l);u.data(s)}})}},qM=Un({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),sg={renderTo:function(e,n,r,i){var l=this._private.renderer;return l.renderTo(e,n,r,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var n=this,r=n.extension("renderer",e.name);if(r==null){un("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&qt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=qM(e);i.cy=n,n._private.renderer=new r(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var n=e.container();if(n)for(n._cyreg=null;n.childNodes.length>0;)n.removeChild(n.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(r){var i=r._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};sg.invalidateDimensions=sg.resize;var jd={collection:function(e,n){return tt(e)?this.$(e):jr(e)?e.collection():Zt(e)?(n||(n={}),new Hn(this,e,n.unique,n.removed)):new Hn(this)},nodes:function(e){var n=this.$(function(r){return r.isNode()});return e?n.filter(e):n},edges:function(e){var n=this.$(function(r){return r.isEdge()});return e?n.filter(e):n},$:function(e){var n=this._private.elements;return e?n.filter(e):n.spawnSelf()},mutableElements:function(){return this._private.elements}};jd.elements=jd.filter=jd.$;var Ln={},Qo="t",FM="f";Ln.apply=function(t){for(var e=this,n=e._private,r=n.cy,i=r.collection(),l=0;l<t.length;l++){var s=t[l],u=e.getContextMeta(s);if(!u.empty){var d=e.getContextStyle(u),c=e.applyContextStyle(u,d,s);s._private.appliedInitStyle?e.updateTransitions(s,c.diffProps):s._private.appliedInitStyle=!0;var h=e.updateStyleHints(s);h&&i.push(s)}}return i};Ln.getPropertiesDiff=function(t,e){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},i=t+"-"+e,l=r[i];if(l)return l;for(var s=[],u={},d=0;d<n.length;d++){var c=n[d],h=t[d]===Qo,v=e[d]===Qo,m=h!==v,y=c.mappedProperties.length>0;if(m||v&&y){var x=void 0;m&&y||m?x=c.properties:y&&(x=c.mappedProperties);for(var S=0;S<x.length;S++){for(var w=x[S],E=w.name,T=!1,k=d+1;k<n.length;k++){var N=n[k],M=e[k]===Qo;if(M&&(T=N.properties[w.name]!=null,T))break}!u[E]&&!T&&(u[E]=!0,s.push(E))}}}return r[i]=s,s};Ln.getContextMeta=function(t){for(var e=this,n="",r,i=t._private.styleCxtKey||"",l=0;l<e.length;l++){var s=e[l],u=s.selector&&s.selector.matches(t);u?n+=Qo:n+=FM}return r=e.getPropertiesDiff(i,n),t._private.styleCxtKey=n,{key:n,diffPropNames:r,empty:r.length===0}};Ln.getContextStyle=function(t){var e=t.key,n=this,r=this._private.contextStyles=this._private.contextStyles||{};if(r[e])return r[e];for(var i={_private:{key:e}},l=0;l<n.length;l++){var s=n[l],u=e[l]===Qo;if(u)for(var d=0;d<s.properties.length;d++){var c=s.properties[d];i[c.name]=c}}return r[e]=i,i};Ln.applyContextStyle=function(t,e,n){for(var r=this,i=t.diffPropNames,l={},s=r.types,u=0;u<i.length;u++){var d=i[u],c=e[d],h=n.pstyle(d);if(!c)if(h)h.bypass?c={name:d,deleteBypassed:!0}:c={name:d,delete:!0};else continue;if(h!==c){if(c.mapped===s.fn&&h!=null&&h.mapping!=null&&h.mapping.value===c.value){var v=h.mapping,m=v.fnValue=c.value(n);if(m===v.prevFnValue)continue}var y=l[d]={prev:h};r.applyParsedProperty(n,c),y.next=n.pstyle(d),y.next&&y.next.bypass&&(y.next=y.next.bypassed)}}return{diffProps:l}};Ln.updateStyleHints=function(t){var e=t._private,n=this,r=n.propertyGroupNames,i=n.propertyGroupKeys,l=function(pe,Te,Le){return n.getPropertiesHash(pe,Te,Le)},s=e.styleKey;if(t.removed())return!1;var u=e.group==="nodes",d=t._private.style;r=Object.keys(d);for(var c=0;c<i.length;c++){var h=i[c];e.styleKeys[h]=[cl,ps]}for(var v=function(pe,Te){return e.styleKeys[Te][0]=lu(pe,e.styleKeys[Te][0])},m=function(pe,Te){return e.styleKeys[Te][1]=su(pe,e.styleKeys[Te][1])},y=function(pe,Te){v(pe,Te),m(pe,Te)},x=function(pe,Te){for(var Le=0;Le<pe.length;Le++){var Ye=pe.charCodeAt(Le);v(Ye,Te),m(Ye,Te)}},S=2e9,w=function(pe){return-128<pe&&pe<128&&Math.floor(pe)!==pe?S-(pe*1024|0):pe},E=0;E<r.length;E++){var T=r[E],k=d[T];if(k!=null){var N=this.properties[T],M=N.type,R=N.groupKey,A=void 0;N.hashOverride!=null?A=N.hashOverride(t,k):k.pfValue!=null&&(A=k.pfValue);var O=N.enums==null?k.value:null,B=A!=null,P=O!=null,q=B||P,L=k.units;if(M.number&&q&&!M.multiple){var D=B?A:O;y(w(D),R),!B&&L!=null&&x(L,R)}else x(k.strValue,R)}}for(var F=[cl,ps],$=0;$<i.length;$++){var H=i[$],V=e.styleKeys[H];F[0]=lu(V[0],F[0]),F[1]=su(V[1],F[1])}e.styleKey=rD(F[0],F[1]);var K=e.styleKeys;e.labelDimsKey=yi(K.labelDimensions);var ee=l(t,["label"],K.labelDimensions);if(e.labelKey=yi(ee),e.labelStyleKey=yi(rd(K.commonLabel,ee)),!u){var I=l(t,["source-label"],K.labelDimensions);e.sourceLabelKey=yi(I),e.sourceLabelStyleKey=yi(rd(K.commonLabel,I));var _=l(t,["target-label"],K.labelDimensions);e.targetLabelKey=yi(_),e.targetLabelStyleKey=yi(rd(K.commonLabel,_))}if(u){var X=e.styleKeys,z=X.nodeBody,ne=X.nodeBorder,le=X.nodeOutline,de=X.backgroundImage,ye=X.compound,je=X.pie,xe=X.stripe,ie=[z,ne,le,de,ye,je,xe].filter(function(ue){return ue!=null}).reduce(rd,[cl,ps]);e.nodeKey=yi(ie),e.hasPie=je!=null&&je[0]!==cl&&je[1]!==ps,e.hasStripe=xe!=null&&xe[0]!==cl&&xe[1]!==ps}return s!==e.styleKey};Ln.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null};Ln.applyParsedProperty=function(t,e){var n=this,r=e,i=t._private.style,l,s=n.types,u=n.properties[r.name].type,d=r.bypass,c=i[r.name],h=c&&c.bypass,v=t._private,m="mapping",y=function(z){return z==null?null:z.pfValue!=null?z.pfValue:z.value},x=function(){var z=y(c),ne=y(r);n.checkTriggers(t,r.name,z,ne)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(r=e=this.parse(e.name,"bezier",d)),r.delete)return i[r.name]=void 0,x(),!0;if(r.deleteBypassed)return c?c.bypass?(c.bypassed=void 0,x(),!0):!1:(x(),!0);if(r.deleteBypass)return c?c.bypass?(i[r.name]=c.bypassed,x(),!0):!1:(x(),!0);var S=function(){qt("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+r.name+"` with data field `"+r.field+"`); try a `["+r.field+"]` selector to limit scope to elements with `"+r.field+"` defined")};switch(r.mapped){case s.mapData:{for(var w=r.field.split("."),E=v.data,T=0;T<w.length&&E;T++){var k=w[T];E=E[k]}if(E==null)return S(),!1;var N;if(Fe(E)){var M=r.fieldMax-r.fieldMin;M===0?N=0:N=(E-r.fieldMin)/M}else return qt("Do not use continuous mappers without specifying numeric data (i.e. `"+r.field+": "+E+"` for `"+t.id()+"` is non-numeric)"),!1;if(N<0?N=0:N>1&&(N=1),u.color){var R=r.valueMin[0],A=r.valueMax[0],O=r.valueMin[1],B=r.valueMax[1],P=r.valueMin[2],q=r.valueMax[2],L=r.valueMin[3]==null?1:r.valueMin[3],D=r.valueMax[3]==null?1:r.valueMax[3],F=[Math.round(R+(A-R)*N),Math.round(O+(B-O)*N),Math.round(P+(q-P)*N),Math.round(L+(D-L)*N)];l={bypass:r.bypass,name:r.name,value:F,strValue:"rgb("+F[0]+", "+F[1]+", "+F[2]+")"}}else if(u.number){var $=r.valueMin+(r.valueMax-r.valueMin)*N;l=this.parse(r.name,$,r.bypass,m)}else return!1;if(!l)return S(),!1;l.mapping=r,r=l;break}case s.data:{for(var H=r.field.split("."),V=v.data,K=0;K<H.length&&V;K++){var ee=H[K];V=V[ee]}if(V!=null&&(l=this.parse(r.name,V,r.bypass,m)),!l)return S(),!1;l.mapping=r,r=l;break}case s.fn:{var I=r.value,_=r.fnValue!=null?r.fnValue:I(t);if(r.prevFnValue=_,_==null)return qt("Custom function mappers may not return null (i.e. `"+r.name+"` for ele `"+t.id()+"` is null)"),!1;if(l=this.parse(r.name,_,r.bypass,m),!l)return qt("Custom function mappers may not return invalid values for the property type (i.e. `"+r.name+"` for ele `"+t.id()+"` is invalid)"),!1;l.mapping=da(r),r=l;break}case void 0:break;default:return!1}return d?(h?r.bypassed=c.bypassed:r.bypassed=c,i[r.name]=r):h?c.bypassed=r:i[r.name]=r,x(),!0};Ln.cleanElements=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),!e)r._private.style={};else for(var i=r._private.style,l=Object.keys(i),s=0;s<l.length;s++){var u=l[s],d=i[u];d!=null&&(d.bypass?d.bypassed=null:i[u]=null)}}};Ln.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};Ln.updateTransitions=function(t,e){var n=this,r=t._private,i=t.pstyle("transition-property").value,l=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(i.length>0&&l>0){for(var u={},d=!1,c=0;c<i.length;c++){var h=i[c],v=t.pstyle(h),m=e[h];if(m){var y=m.prev,x=y,S=m.next!=null?m.next:v,w=!1,E=void 0,T=1e-6;x&&(Fe(x.pfValue)&&Fe(S.pfValue)?(w=S.pfValue-x.pfValue,E=x.pfValue+T*w):Fe(x.value)&&Fe(S.value)?(w=S.value-x.value,E=x.value+T*w):Zt(x.value)&&Zt(S.value)&&(w=x.value[0]!==S.value[0]||x.value[1]!==S.value[1]||x.value[2]!==S.value[2],E=x.strValue),w&&(u[h]=S.strValue,this.applyBypass(t,h,E),d=!0))}}if(!d)return;r.transitioning=!0,new Ms(function(k){s>0?t.delayAnimation(s).play().promise().then(k):k()}).then(function(){return t.animation({style:u,duration:l,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){n.removeBypasses(t,i),t.emitAndNotify("style"),r.transitioning=!1})}else r.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),r.transitioning=!1)};Ln.checkTrigger=function(t,e,n,r,i,l){var s=this.properties[e],u=i(s);t.removed()||u!=null&&u(n,r,t)&&l(s)};Ln.checkZOrderTrigger=function(t,e,n,r){var i=this;this.checkTrigger(t,e,n,r,function(l){return l.triggersZOrder},function(){i._private.cy.notify("zorder",t)})};Ln.checkBoundsTrigger=function(t,e,n,r){this.checkTrigger(t,e,n,r,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})};Ln.checkConnectedEdgesBoundsTrigger=function(t,e,n,r){this.checkTrigger(t,e,n,r,function(i){return i.triggersBoundsOfConnectedEdges},function(i){t.connectedEdges().forEach(function(l){l.dirtyBoundingBoxCache()})})};Ln.checkParallelEdgesBoundsTrigger=function(t,e,n,r){this.checkTrigger(t,e,n,r,function(i){return i.triggersBoundsOfParallelEdges},function(i){t.parallelEdges().forEach(function(l){l.dirtyBoundingBoxCache()})})};Ln.checkTriggers=function(t,e,n,r){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,n,r),this.checkBoundsTrigger(t,e,n,r),this.checkConnectedEdgesBoundsTrigger(t,e,n,r),this.checkParallelEdgesBoundsTrigger(t,e,n,r)};var Ru={};Ru.applyBypass=function(t,e,n,r){var i=this,l=[],s=!0;if(e==="*"||e==="**"){if(n!==void 0)for(var u=0;u<i.properties.length;u++){var d=i.properties[u],c=d.name,h=this.parse(c,n,!0);h&&l.push(h)}}else if(tt(e)){var v=this.parse(e,n,!0);v&&l.push(v)}else if(Dt(e)){var m=e;r=n;for(var y=Object.keys(m),x=0;x<y.length;x++){var S=y[x],w=m[S];if(w===void 0&&(w=m[of(S)]),w!==void 0){var E=this.parse(S,w,!0);E&&l.push(E)}}}else return!1;if(l.length===0)return!1;for(var T=!1,k=0;k<t.length;k++){for(var N=t[k],M={},R=void 0,A=0;A<l.length;A++){var O=l[A];if(r){var B=N.pstyle(O.name);R=M[O.name]={prev:B}}T=this.applyParsedProperty(N,da(O))||T,r&&(R.next=N.pstyle(O.name))}T&&this.updateStyleHints(N),r&&this.updateTransitions(N,M,s)}return T};Ru.overrideBypass=function(t,e,n){e=Vg(e);for(var r=0;r<t.length;r++){var i=t[r],l=i._private.style[e],s=this.properties[e].type,u=s.color,d=s.mutiple,c=l?l.pfValue!=null?l.pfValue:l.value:null;!l||!l.bypass?this.applyBypass(i,e,n):(l.value=n,l.pfValue!=null&&(l.pfValue=n),u?l.strValue="rgb("+n.join(",")+")":d?l.strValue=n.join(" "):l.strValue=""+n,this.updateStyleHints(i)),this.checkTriggers(i,e,c,n)}};Ru.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};Ru.removeBypasses=function(t,e,n){for(var r=!0,i=0;i<t.length;i++){for(var l=t[i],s={},u=0;u<e.length;u++){var d=e[u],c=this.properties[d],h=l.pstyle(c.name);if(!(!h||!h.bypass)){var v="",m=this.parse(d,v,!0),y=s[c.name]={prev:h};this.applyParsedProperty(l,m),y.next=l.pstyle(c.name)}}this.updateStyleHints(l),n&&this.updateTransitions(l,s,r)}};var iy={};iy.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};iy.containerCss=function(t){var e=this._private.cy,n=e.container(),r=e.window();if(r&&n&&r.getComputedStyle)return r.getComputedStyle(n).getPropertyValue(t)};var ha={};ha.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};ha.getRawStyle=function(t,e){var n=this;if(t=t[0],t){for(var r={},i=0;i<n.properties.length;i++){var l=n.properties[i],s=n.getStylePropertyValue(t,l.name,e);s!=null&&(r[l.name]=s,r[of(l.name)]=s)}return r}};ha.getIndexedStyle=function(t,e,n,r){var i=t.pstyle(e)[n][r];return i??t.cy().style().getDefaultProperty(e)[n][0]};ha.getStylePropertyValue=function(t,e,n){var r=this;if(t=t[0],t){var i=r.properties[e];i.alias&&(i=i.pointsTo);var l=i.type,s=t.pstyle(i.name);if(s){var u=s.value,d=s.units,c=s.strValue;if(n&&l.number&&u!=null&&Fe(u)){var h=t.cy().zoom(),v=function(w){return w*h},m=function(w,E){return v(w)+E},y=Zt(u),x=y?d.every(function(S){return S!=null}):d!=null;return x?y?u.map(function(S,w){return m(S,d[w])}).join(" "):m(u,d):y?u.map(function(S){return tt(S)?S:""+v(S)}).join(" "):""+v(u)}else if(c!=null)return c}return null}};ha.getAnimationStartStyle=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r],l=i.name,s=t.pstyle(l);s!==void 0&&(Dt(s)?s=this.parse(l,s.strValue):s=this.parse(l,s)),s&&(n[l]=s)}return n};ha.getPropsList=function(t){var e=this,n=[],r=t,i=e.properties;if(r)for(var l=Object.keys(r),s=0;s<l.length;s++){var u=l[s],d=r[u],c=i[u]||i[Vg(u)],h=this.parse(c.name,d);h&&n.push(h)}return n};ha.getNonDefaultPropertiesHash=function(t,e,n){var r=n.slice(),i,l,s,u,d,c;for(d=0;d<e.length;d++)if(i=e[d],l=t.pstyle(i,!1),l!=null)if(l.pfValue!=null)r[0]=lu(u,r[0]),r[1]=su(u,r[1]);else for(s=l.strValue,c=0;c<s.length;c++)u=s.charCodeAt(c),r[0]=lu(u,r[0]),r[1]=su(u,r[1]);return r};ha.getPropertiesHash=ha.getNonDefaultPropertiesHash;var wf={};wf.appendFromJson=function(t){for(var e=this,n=0;n<t.length;n++){var r=t[n],i=r.selector,l=r.style||r.css,s=Object.keys(l);e.selector(i);for(var u=0;u<s.length;u++){var d=s[u],c=l[d];e.css(d,c)}}return e};wf.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};wf.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var n=this[e],r=n.selector,i=n.properties,l={},s=0;s<i.length;s++){var u=i[s];l[u.name]=u.strValue}t.push({selector:r?r.toString():"core",style:l})}return t};var ly={};ly.appendFromString=function(t){var e=this,n=this,r=""+t,i,l,s;r=r.replace(/[/][*](\s|.)+?[*][/]/g,"");function u(){r.length>i.length?r=r.substr(i.length):r=""}function d(){l.length>s.length?l=l.substr(s.length):l=""}for(;;){var c=r.match(/^\s*$/);if(c)break;var h=r.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!h){qt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+r);break}i=h[0];var v=h[1];if(v!=="core"){var m=new Mi(v);if(m.invalid){qt("Skipping parsing of block: Invalid selector found in string stylesheet: "+v),u();continue}}var y=h[2],x=!1;l=y;for(var S=[];;){var w=l.match(/^\s*$/);if(w)break;var E=l.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!E){qt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+y),x=!0;break}s=E[0];var T=E[1],k=E[2],N=e.properties[T];if(!N){qt("Skipping property: Invalid property name in: "+s),d();continue}var M=n.parse(T,k);if(!M){qt("Skipping property: Invalid property definition in: "+s),d();continue}S.push({name:T,val:k}),d()}if(x){u();break}n.selector(v);for(var R=0;R<S.length;R++){var A=S[R];n.css(A.name,A.val)}u()}return n};ly.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Cn={};(function(){var t=An,e=L5,n=_5,r=P5,i=I5,l=function(ue){return"^"+ue+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(ue){var pe=t+"|\\w+|"+e+"|"+n+"|"+r+"|"+i;return"^"+ue+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+pe+")\\s*\\,\\s*("+pe+")\\)$"},u=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Cn.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:l("data")},layoutData:{mapping:!0,regex:l("layoutData")},scratch:{mapping:!0,regex:l("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:u,singleRegexMatchValue:!0},urls:{regexes:u,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(ue,pe){switch(ue.length){case 2:return pe[0]!=="deg"&&pe[0]!=="rad"&&pe[1]!=="deg"&&pe[1]!=="rad";case 1:return tt(ue[0])||pe[0]==="deg"||pe[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(ue){var pe=ue.length;return pe===1||pe===2||pe===4}}};var d={zeroNonZero:function(ue,pe){return(ue==null||pe==null)&&ue!==pe||ue==0&&pe!=0?!0:ue!=0&&pe==0},any:function(ue,pe){return ue!=pe},emptyNonEmpty:function(ue,pe){var Te=Ri(ue),Le=Ri(pe);return Te&&!Le||!Te&&Le}},c=Cn.types,h=[{name:"label",type:c.text,triggersBounds:d.any,triggersZOrder:d.emptyNonEmpty},{name:"text-rotation",type:c.textRotation,triggersBounds:d.any},{name:"text-margin-x",type:c.bidirectionalSize,triggersBounds:d.any},{name:"text-margin-y",type:c.bidirectionalSize,triggersBounds:d.any}],v=[{name:"source-label",type:c.text,triggersBounds:d.any},{name:"source-text-rotation",type:c.textRotation,triggersBounds:d.any},{name:"source-text-margin-x",type:c.bidirectionalSize,triggersBounds:d.any},{name:"source-text-margin-y",type:c.bidirectionalSize,triggersBounds:d.any},{name:"source-text-offset",type:c.size,triggersBounds:d.any}],m=[{name:"target-label",type:c.text,triggersBounds:d.any},{name:"target-text-rotation",type:c.textRotation,triggersBounds:d.any},{name:"target-text-margin-x",type:c.bidirectionalSize,triggersBounds:d.any},{name:"target-text-margin-y",type:c.bidirectionalSize,triggersBounds:d.any},{name:"target-text-offset",type:c.size,triggersBounds:d.any}],y=[{name:"font-family",type:c.fontFamily,triggersBounds:d.any},{name:"font-style",type:c.fontStyle,triggersBounds:d.any},{name:"font-weight",type:c.fontWeight,triggersBounds:d.any},{name:"font-size",type:c.size,triggersBounds:d.any},{name:"text-transform",type:c.textTransform,triggersBounds:d.any},{name:"text-wrap",type:c.textWrap,triggersBounds:d.any},{name:"text-overflow-wrap",type:c.textOverflowWrap,triggersBounds:d.any},{name:"text-max-width",type:c.size,triggersBounds:d.any},{name:"text-outline-width",type:c.size,triggersBounds:d.any},{name:"line-height",type:c.positiveNumber,triggersBounds:d.any}],x=[{name:"text-valign",type:c.valign,triggersBounds:d.any},{name:"text-halign",type:c.halign,triggersBounds:d.any},{name:"color",type:c.color},{name:"text-outline-color",type:c.color},{name:"text-outline-opacity",type:c.zeroOneNumber},{name:"text-background-color",type:c.color},{name:"text-background-opacity",type:c.zeroOneNumber},{name:"text-background-padding",type:c.size,triggersBounds:d.any},{name:"text-border-opacity",type:c.zeroOneNumber},{name:"text-border-color",type:c.color},{name:"text-border-width",type:c.size,triggersBounds:d.any},{name:"text-border-style",type:c.borderStyle,triggersBounds:d.any},{name:"text-background-shape",type:c.textBackgroundShape,triggersBounds:d.any},{name:"text-justification",type:c.justification},{name:"box-select-labels",type:c.bool,triggersBounds:d.any}],S=[{name:"events",type:c.bool,triggersZOrder:d.any},{name:"text-events",type:c.bool,triggersZOrder:d.any},{name:"box-selection",type:c.boxSelection,triggersZOrder:d.any}],w=[{name:"display",type:c.display,triggersZOrder:d.any,triggersBounds:d.any,triggersBoundsOfConnectedEdges:d.any,triggersBoundsOfParallelEdges:function(ue,pe,Te){return ue===pe?!1:Te.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:c.visibility,triggersZOrder:d.any},{name:"opacity",type:c.zeroOneNumber,triggersZOrder:d.zeroNonZero},{name:"text-opacity",type:c.zeroOneNumber},{name:"min-zoomed-font-size",type:c.size},{name:"z-compound-depth",type:c.zCompoundDepth,triggersZOrder:d.any},{name:"z-index-compare",type:c.zIndexCompare,triggersZOrder:d.any},{name:"z-index",type:c.number,triggersZOrder:d.any}],E=[{name:"overlay-padding",type:c.size,triggersBounds:d.any},{name:"overlay-color",type:c.color},{name:"overlay-opacity",type:c.zeroOneNumber,triggersBounds:d.zeroNonZero},{name:"overlay-shape",type:c.overlayShape,triggersBounds:d.any},{name:"overlay-corner-radius",type:c.cornerRadius}],T=[{name:"underlay-padding",type:c.size,triggersBounds:d.any},{name:"underlay-color",type:c.color},{name:"underlay-opacity",type:c.zeroOneNumber,triggersBounds:d.zeroNonZero},{name:"underlay-shape",type:c.overlayShape,triggersBounds:d.any},{name:"underlay-corner-radius",type:c.cornerRadius}],k=[{name:"transition-property",type:c.propList},{name:"transition-duration",type:c.time},{name:"transition-delay",type:c.time},{name:"transition-timing-function",type:c.easing}],N=function(ue,pe){return pe.value==="label"?-ue.poolIndex():pe.pfValue},M=[{name:"height",type:c.nodeSize,triggersBounds:d.any,hashOverride:N},{name:"width",type:c.nodeSize,triggersBounds:d.any,hashOverride:N},{name:"shape",type:c.nodeShape,triggersBounds:d.any},{name:"shape-polygon-points",type:c.polygonPointList,triggersBounds:d.any},{name:"corner-radius",type:c.cornerRadius},{name:"background-color",type:c.color},{name:"background-fill",type:c.fill},{name:"background-opacity",type:c.zeroOneNumber},{name:"background-blacken",type:c.nOneOneNumber},{name:"background-gradient-stop-colors",type:c.colors},{name:"background-gradient-stop-positions",type:c.percentages},{name:"background-gradient-direction",type:c.gradientDirection},{name:"padding",type:c.sizeMaybePercent,triggersBounds:d.any},{name:"padding-relative-to",type:c.paddingRelativeTo,triggersBounds:d.any},{name:"bounds-expansion",type:c.boundsExpansion,triggersBounds:d.any}],R=[{name:"border-color",type:c.color},{name:"border-opacity",type:c.zeroOneNumber},{name:"border-width",type:c.size,triggersBounds:d.any},{name:"border-style",type:c.borderStyle},{name:"border-cap",type:c.lineCap},{name:"border-join",type:c.lineJoin},{name:"border-dash-pattern",type:c.numbers},{name:"border-dash-offset",type:c.number},{name:"border-position",type:c.linePosition}],A=[{name:"outline-color",type:c.color},{name:"outline-opacity",type:c.zeroOneNumber},{name:"outline-width",type:c.size,triggersBounds:d.any},{name:"outline-style",type:c.borderStyle},{name:"outline-offset",type:c.size,triggersBounds:d.any}],O=[{name:"background-image",type:c.urls},{name:"background-image-crossorigin",type:c.bgCrossOrigin},{name:"background-image-opacity",type:c.zeroOneNumbers},{name:"background-image-containment",type:c.bgContainment},{name:"background-image-smoothing",type:c.bools},{name:"background-position-x",type:c.bgPos},{name:"background-position-y",type:c.bgPos},{name:"background-width-relative-to",type:c.bgRelativeTo},{name:"background-height-relative-to",type:c.bgRelativeTo},{name:"background-repeat",type:c.bgRepeat},{name:"background-fit",type:c.bgFit},{name:"background-clip",type:c.bgClip},{name:"background-width",type:c.bgWH},{name:"background-height",type:c.bgWH},{name:"background-offset-x",type:c.bgPos},{name:"background-offset-y",type:c.bgPos}],B=[{name:"position",type:c.position,triggersBounds:d.any},{name:"compound-sizing-wrt-labels",type:c.compoundIncludeLabels,triggersBounds:d.any},{name:"min-width",type:c.size,triggersBounds:d.any},{name:"min-width-bias-left",type:c.sizeMaybePercent,triggersBounds:d.any},{name:"min-width-bias-right",type:c.sizeMaybePercent,triggersBounds:d.any},{name:"min-height",type:c.size,triggersBounds:d.any},{name:"min-height-bias-top",type:c.sizeMaybePercent,triggersBounds:d.any},{name:"min-height-bias-bottom",type:c.sizeMaybePercent,triggersBounds:d.any}],P=[{name:"line-style",type:c.lineStyle},{name:"line-color",type:c.color},{name:"line-fill",type:c.fill},{name:"line-cap",type:c.lineCap},{name:"line-opacity",type:c.zeroOneNumber},{name:"line-dash-pattern",type:c.numbers},{name:"line-dash-offset",type:c.number},{name:"line-outline-width",type:c.size},{name:"line-outline-color",type:c.color},{name:"line-gradient-stop-colors",type:c.colors},{name:"line-gradient-stop-positions",type:c.percentages},{name:"curve-style",type:c.curveStyle,triggersBounds:d.any,triggersBoundsOfParallelEdges:function(ue,pe){return ue===pe?!1:ue==="bezier"||pe==="bezier"}},{name:"haystack-radius",type:c.zeroOneNumber,triggersBounds:d.any},{name:"source-endpoint",type:c.edgeEndpoint,triggersBounds:d.any},{name:"target-endpoint",type:c.edgeEndpoint,triggersBounds:d.any},{name:"control-point-step-size",type:c.size,triggersBounds:d.any},{name:"control-point-distances",type:c.bidirectionalSizes,triggersBounds:d.any},{name:"control-point-weights",type:c.numbers,triggersBounds:d.any},{name:"segment-distances",type:c.bidirectionalSizes,triggersBounds:d.any},{name:"segment-weights",type:c.numbers,triggersBounds:d.any},{name:"segment-radii",type:c.numbers,triggersBounds:d.any},{name:"radius-type",type:c.radiusType,triggersBounds:d.any},{name:"taxi-turn",type:c.bidirectionalSizeMaybePercent,triggersBounds:d.any},{name:"taxi-turn-min-distance",type:c.size,triggersBounds:d.any},{name:"taxi-direction",type:c.axisDirection,triggersBounds:d.any},{name:"taxi-radius",type:c.number,triggersBounds:d.any},{name:"edge-distances",type:c.edgeDistances,triggersBounds:d.any},{name:"arrow-scale",type:c.positiveNumber,triggersBounds:d.any},{name:"loop-direction",type:c.angle,triggersBounds:d.any},{name:"loop-sweep",type:c.angle,triggersBounds:d.any},{name:"source-distance-from-node",type:c.size,triggersBounds:d.any},{name:"target-distance-from-node",type:c.size,triggersBounds:d.any}],q=[{name:"ghost",type:c.bool,triggersBounds:d.any},{name:"ghost-offset-x",type:c.bidirectionalSize,triggersBounds:d.any},{name:"ghost-offset-y",type:c.bidirectionalSize,triggersBounds:d.any},{name:"ghost-opacity",type:c.zeroOneNumber}],L=[{name:"selection-box-color",type:c.color},{name:"selection-box-opacity",type:c.zeroOneNumber},{name:"selection-box-border-color",type:c.color},{name:"selection-box-border-width",type:c.size},{name:"active-bg-color",type:c.color},{name:"active-bg-opacity",type:c.zeroOneNumber},{name:"active-bg-size",type:c.size},{name:"outside-texture-bg-color",type:c.color},{name:"outside-texture-bg-opacity",type:c.zeroOneNumber}],D=[];Cn.pieBackgroundN=16,D.push({name:"pie-size",type:c.sizeMaybePercent}),D.push({name:"pie-hole",type:c.sizeMaybePercent}),D.push({name:"pie-start-angle",type:c.angle});for(var F=1;F<=Cn.pieBackgroundN;F++)D.push({name:"pie-"+F+"-background-color",type:c.color}),D.push({name:"pie-"+F+"-background-size",type:c.percent}),D.push({name:"pie-"+F+"-background-opacity",type:c.zeroOneNumber});var $=[];Cn.stripeBackgroundN=16,$.push({name:"stripe-size",type:c.sizeMaybePercent}),$.push({name:"stripe-direction",type:c.axisDirectionPrimary});for(var H=1;H<=Cn.stripeBackgroundN;H++)$.push({name:"stripe-"+H+"-background-color",type:c.color}),$.push({name:"stripe-"+H+"-background-size",type:c.percent}),$.push({name:"stripe-"+H+"-background-opacity",type:c.zeroOneNumber});var V=[],K=Cn.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:c.arrowShape,triggersBounds:d.any},{name:"arrow-color",type:c.color},{name:"arrow-fill",type:c.arrowFill},{name:"arrow-width",type:c.arrowWidth}].forEach(function(ie){K.forEach(function(ue){var pe=ue+"-"+ie.name,Te=ie.type,Le=ie.triggersBounds;V.push({name:pe,type:Te,triggersBounds:Le})})},{});var ee=Cn.properties=[].concat(S,k,w,E,T,q,x,y,h,v,m,M,R,A,O,D,$,B,P,V,L),I=Cn.propertyGroups={behavior:S,transition:k,visibility:w,overlay:E,underlay:T,ghost:q,commonLabel:x,labelDimensions:y,mainLabel:h,sourceLabel:v,targetLabel:m,nodeBody:M,nodeBorder:R,nodeOutline:A,backgroundImage:O,pie:D,stripe:$,compound:B,edgeLine:P,edgeArrow:V,core:L},_=Cn.propertyGroupNames={},X=Cn.propertyGroupKeys=Object.keys(I);X.forEach(function(ie){_[ie]=I[ie].map(function(ue){return ue.name}),I[ie].forEach(function(ue){return ue.groupKey=ie})});var z=Cn.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Cn.propertyNames=ee.map(function(ie){return ie.name});for(var ne=0;ne<ee.length;ne++){var le=ee[ne];ee[le.name]=le}for(var de=0;de<z.length;de++){var ye=z[de],je=ee[ye.pointsTo],xe={name:ye.name,alias:!0,pointsTo:je};ee.push(xe),ee[ye.name]=xe}})();Cn.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Cn.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=st({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(d,c){for(var h=1;h<=Cn.pieBackgroundN;h++){var v=c.name.replace("{{i}}",h),m=c.value;d[v]=m}return d},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(d,c){for(var h=1;h<=Cn.stripeBackgroundN;h++){var v=c.name.replace("{{i}}",h),m=c.value;d[v]=m}return d},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(d,c){return Cn.arrowPrefixes.forEach(function(h){var v=h+"-"+c.name,m=c.value;d[v]=m}),d},{})),n={},r=0;r<this.properties.length;r++){var i=this.properties[r];if(!i.pointsTo){var l=i.name,s=e[l],u=this.parse(l,s);n[l]=u}}return t.defaultProperties=n,t.defaultProperties};Cn.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Sf={};Sf.parse=function(t,e,n,r){var i=this;if(dn(e))return i.parseImplWarn(t,e,n,r);var l=r==="mapping"||r===!0||r===!1||r==null?"dontcare":r,s=n?"t":"f",u=""+e,d=XE(t,u,s,l),c=i.propCache=i.propCache||[],h;return(h=c[d])||(h=c[d]=i.parseImplWarn(t,e,n,r)),(n||r==="mapping")&&(h=da(h),h&&(h.value=da(h.value))),h};Sf.parseImplWarn=function(t,e,n,r){var i=this.parseImpl(t,e,n,r);return!i&&e!=null&&qt("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&qt("The style value of `label` is deprecated for `"+i.name+"`"),i};Sf.parseImpl=function(t,e,n,r){var i=this;t=Vg(t);var l=i.properties[t],s=e,u=i.types;if(!l||e===void 0)return null;l.alias&&(l=l.pointsTo,t=l.name);var d=tt(e);d&&(e=e.trim());var c=l.type;if(!c)return null;if(n&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(dn(e))return{name:t,value:e,strValue:"fn",mapped:u.fn,bypass:n};var h,v;if(!(!d||r||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(h=new RegExp(u.data.regex).exec(e))){if(n)return!1;var m=u.data;return{name:t,value:h,strValue:""+e,mapped:m,field:h[1],bypass:n}}else if(e.length>=10&&e[0]==="m"&&(v=new RegExp(u.mapData.regex).exec(e))){if(n||c.multiple)return!1;var y=u.mapData;if(!(c.color||c.number))return!1;var x=this.parse(t,v[4]);if(!x||x.mapped)return!1;var S=this.parse(t,v[5]);if(!S||S.mapped)return!1;if(x.pfValue===S.pfValue||x.strValue===S.strValue)return qt("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+x.strValue+"`"),this.parse(t,x.strValue);if(c.color){var w=x.value,E=S.value,T=w[0]===E[0]&&w[1]===E[1]&&w[2]===E[2]&&(w[3]===E[3]||(w[3]==null||w[3]===1)&&(E[3]==null||E[3]===1));if(T)return!1}return{name:t,value:v,strValue:""+e,mapped:y,field:v[1],fieldMin:parseFloat(v[2]),fieldMax:parseFloat(v[3]),valueMin:x.value,valueMax:S.value,bypass:n}}}if(c.multiple&&r!=="multiple"){var k;if(d?k=e.split(/\s+/):Zt(e)?k=e:k=[e],c.evenMultiple&&k.length%2!==0)return null;for(var N=[],M=[],R=[],A="",O=!1,B=0;B<k.length;B++){var P=i.parse(t,k[B],n,"multiple");O=O||tt(P.value),N.push(P.value),R.push(P.pfValue!=null?P.pfValue:P.value),M.push(P.units),A+=(B>0?" ":"")+P.strValue}return c.validate&&!c.validate(N,M)?null:c.singleEnum&&O?N.length===1&&tt(N[0])?{name:t,value:N[0],strValue:N[0],bypass:n}:null:{name:t,value:N,pfValue:R,strValue:A,bypass:n,units:M}}var q=function(){for(var xe=0;xe<c.enums.length;xe++){var ie=c.enums[xe];if(ie===e)return{name:t,value:e,strValue:""+e,bypass:n}}return null};if(c.number){var L,D="px";if(c.units&&(L=c.units),c.implicitUnits&&(D=c.implicitUnits),!c.unitless)if(d){var F="px|em"+(c.allowPercent?"|\\%":"");L&&(F=L);var $=e.match("^("+An+")("+F+")?$");$&&(e=$[1],L=$[2]||D)}else(!L||c.implicitUnits)&&(L=D);if(e=parseFloat(e),isNaN(e)&&c.enums===void 0)return null;if(isNaN(e)&&c.enums!==void 0)return e=s,q();if(c.integer&&!A5(e)||c.min!==void 0&&(e<c.min||c.strictMin&&e===c.min)||c.max!==void 0&&(e>c.max||c.strictMax&&e===c.max))return null;var H={name:t,value:e,strValue:""+e+(L||""),units:L,bypass:n};return c.unitless||L!=="px"&&L!=="em"?H.pfValue=e:H.pfValue=L==="px"||!L?e:this.getEmSizeInPixels()*e,(L==="ms"||L==="s")&&(H.pfValue=L==="ms"?e:1e3*e),(L==="deg"||L==="rad")&&(H.pfValue=L==="rad"?e:PD(e)),L==="%"&&(H.pfValue=e/100),H}else if(c.propList){var V=[],K=""+e;if(K!=="none"){for(var ee=K.split(/\s*,\s*|\s+/),I=0;I<ee.length;I++){var _=ee[I].trim();i.properties[_]?V.push(_):qt("`"+_+"` is not a valid property name")}if(V.length===0)return null}return{name:t,value:V,strValue:V.length===0?"none":V.join(" "),bypass:n}}else if(c.color){var X=FE(e);return X?{name:t,value:X,pfValue:X,strValue:"rgb("+X[0]+","+X[1]+","+X[2]+")",bypass:n}:null}else if(c.regex||c.regexes){if(c.enums){var z=q();if(z)return z}for(var ne=c.regexes?c.regexes:[c.regex],le=0;le<ne.length;le++){var de=new RegExp(ne[le]),ye=de.exec(e);if(ye)return{name:t,value:c.singleRegexMatchValue?ye[1]:ye,strValue:""+e,bypass:n}}return null}else return c.string?{name:t,value:""+e,strValue:""+e,bypass:n}:c.enums?q():null};var On=function(e){if(!(this instanceof On))return new On(e);if(!Ug(e)){un("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Kn=On.prototype;Kn.instanceString=function(){return"style"};Kn.clear=function(){for(var t=this._private,e=t.cy,n=e.elements(),r=0;r<this.length;r++)this[r]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(n,!0),n.forEach(function(i){var l=i[0]._private;l.styleDirty=!0,l.appliedInitStyle=!1}),this};Kn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Kn.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};Kn.selector=function(t){var e=t==="core"?null:new Mi(t),n=this.length++;return this[n]={selector:e,properties:[],mappedProperties:[],index:n},this};Kn.css=function(){var t=this,e=arguments;if(e.length===1)for(var n=e[0],r=0;r<t.properties.length;r++){var i=t.properties[r],l=n[i.name];l===void 0&&(l=n[of(i.name)]),l!==void 0&&this.cssRule(i.name,l)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Kn.style=Kn.css;Kn.cssRule=function(t,e){var n=this.parse(t,e);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.name.match(/stripe-(\d+)-background-size/)&&n.value&&(this._private.hasStripe=!0),n.mapped&&this[r].mappedProperties.push(n);var i=!this[r].selector;i&&(this._private.coreStyle[n.name]=n)}return this};Kn.append=function(t){return PE(t)?t.appendToStyle(this):Zt(t)?this.appendFromJson(t):tt(t)&&this.appendFromString(t),this};On.fromJson=function(t,e){var n=new On(t);return n.fromJson(e),n};On.fromString=function(t,e){return new On(t).fromString(e)};[Ln,Ru,iy,ha,wf,ly,Cn,Sf].forEach(function(t){st(Kn,t)});On.types=Kn.types;On.properties=Kn.properties;On.propertyGroups=Kn.propertyGroups;On.propertyGroupNames=Kn.propertyGroupNames;On.propertyGroupKeys=Kn.propertyGroupKeys;var HM={style:function(e){if(e){var n=this.setStyle(e);n.update()}return this._private.style},setStyle:function(e){var n=this._private;return PE(e)?n.style=e.generateStyle(this):Zt(e)?n.style=On.fromJson(this,e):tt(e)?n.style=On.fromString(this,e):n.style=On(this),n.style},updateStyle:function(){this.mutableElements().updateStyle()}},UM="single",yl={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var n=this._private;if(n.selectionType==null&&(n.selectionType=UM),e!==void 0)(e==="additive"||e==="single")&&(n.selectionType=e);else return n.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,n=this._private.pan,r,i,l,s,u;switch(e.length){case 0:return n;case 1:if(tt(e[0]))return r=e[0],n[r];if(Dt(e[0])){if(!this._private.panningEnabled)return this;l=e[0],s=l.x,u=l.y,Fe(s)&&(n.x=s),Fe(u)&&(n.y=u),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;r=e[0],i=e[1],(r==="x"||r==="y")&&Fe(i)&&(n[r]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,n){var r=arguments,i=this._private.pan,l,s,u,d,c;if(!this._private.panningEnabled)return this;switch(r.length){case 1:Dt(e)&&(u=r[0],d=u.x,c=u.y,Fe(d)&&(i.x+=d),Fe(c)&&(i.y+=c),this.emit("pan viewport"));break;case 2:l=e,s=n,(l==="x"||l==="y")&&Fe(s)&&(i[l]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,n){var r=this.getFitViewport(e,n);if(r){var i=this._private;i.zoom=r.zoom,i.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,n){if(Fe(e)&&n===void 0&&(n=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var r;if(tt(e)){var i=e;e=this.$(i)}else if(D5(e)){var l=e;r={x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2},r.w=r.x2-r.x1,r.h=r.y2-r.y1}else jr(e)||(e=this.mutableElements());if(!(jr(e)&&e.empty())){r=r||e.boundingBox();var s=this.width(),u=this.height(),d;if(n=Fe(n)?n:0,!isNaN(s)&&!isNaN(u)&&s>0&&u>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){d=Math.min((s-2*n)/r.w,(u-2*n)/r.h),d=d>this._private.maxZoom?this._private.maxZoom:d,d=d<this._private.minZoom?this._private.minZoom:d;var c={x:(s-d*(r.x1+r.x2))/2,y:(u-d*(r.y1+r.y2))/2};return{zoom:d,pan:c}}}}},zoomRange:function(e,n){var r=this._private;if(n==null){var i=e;e=i.min,n=i.max}return Fe(e)&&Fe(n)&&e<=n?(r.minZoom=e,r.maxZoom=n):Fe(e)&&n===void 0&&e<=r.maxZoom?r.minZoom=e:Fe(n)&&e===void 0&&n>=r.minZoom&&(r.maxZoom=n),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var n=this._private,r=n.pan,i=n.zoom,l,s,u=!1;if(n.zoomingEnabled||(u=!0),Fe(e)?s=e:Dt(e)&&(s=e.level,e.position!=null?l=df(e.position,i,r):e.renderedPosition!=null&&(l=e.renderedPosition),l!=null&&!n.panningEnabled&&(u=!0)),s=s>n.maxZoom?n.maxZoom:s,s=s<n.minZoom?n.minZoom:s,u||!Fe(s)||s===i||l!=null&&(!Fe(l.x)||!Fe(l.y)))return null;if(l!=null){var d=r,c=i,h=s,v={x:-h/c*(l.x-d.x)+l.x,y:-h/c*(l.y-d.y)+l.y};return{zoomed:!0,panned:!0,zoom:h,pan:v}}else return{zoomed:!0,panned:!1,zoom:s,pan:r}},zoom:function(e){if(e===void 0)return this._private.zoom;var n=this.getZoomedViewport(e),r=this._private;return n==null||!n.zoomed?this:(r.zoom=n.zoom,n.panned&&(r.pan.x=n.pan.x,r.pan.y=n.pan.y),this.emit("zoom"+(n.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var n=this._private,r=!0,i=!0,l=[],s=!1,u=!1;if(!e)return this;if(Fe(e.zoom)||(r=!1),Dt(e.pan)||(i=!1),!r&&!i)return this;if(r){var d=e.zoom;d<n.minZoom||d>n.maxZoom||!n.zoomingEnabled?s=!0:(n.zoom=d,l.push("zoom"))}if(i&&(!s||!e.cancelOnFailedZoom)&&n.panningEnabled){var c=e.pan;Fe(c.x)&&(n.pan.x=c.x,u=!1),Fe(c.y)&&(n.pan.y=c.y,u=!1),u||l.push("pan")}return l.length>0&&(l.push("viewport"),this.emit(l.join(" ")),this.notify("viewport")),this},center:function(e){var n=this.getCenterPan(e);return n&&(this._private.pan=n,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,n){if(this._private.panningEnabled){if(tt(e)){var r=e;e=this.mutableElements().filter(r)}else jr(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),l=this.width(),s=this.height();n=n===void 0?this._private.zoom:n;var u={x:(l-n*(i.x1+i.x2))/2,y:(s-n*(i.y1+i.y2))/2};return u}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,n=e.container,r=this;return e.sizeCache=e.sizeCache||(n?(function(){var i=r.window().getComputedStyle(n),l=function(u){return parseFloat(i.getPropertyValue(u))};return{width:n.clientWidth-l("padding-left")-l("padding-right"),height:n.clientHeight-l("padding-top")-l("padding-bottom")}})():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,n=this._private.zoom,r=this.renderedExtent(),i={x1:(r.x1-e.x)/n,x2:(r.x2-e.x)/n,y1:(r.y1-e.y)/n,y2:(r.y2-e.y)/n};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),n=this.height();return{x1:0,y1:0,x2:e,y2:n,w:e,h:n}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};yl.centre=yl.center;yl.autolockNodes=yl.autolock;yl.autoungrabifyNodes=yl.autoungrabify;var hu={data:It.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:It.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:It.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:It.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};hu.attr=hu.data;hu.removeAttr=hu.removeData;var vu=function(e){var n=this;e=st({},e);var r=e.container;r&&!Hd(r)&&Hd(r[0])&&(r=r[0]);var i=r?r._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var l=i.readies=i.readies||[];r&&(r._cyreg=i),i.cy=n;var s=Nn!==void 0&&r!==void 0&&!e.headless,u=e;u.layout=st({name:s?"grid":"null"},u.layout),u.renderer=st({name:s?"canvas":"null"},u.renderer);var d=function(x,S,w){return S!==void 0?S:w!==void 0?w:x},c=this._private={container:r,ready:!1,options:u,elements:new Hn(this),listeners:[],aniEles:new Hn(this),data:u.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:d(!0,u.zoomingEnabled),userZoomingEnabled:d(!0,u.userZoomingEnabled),panningEnabled:d(!0,u.panningEnabled),userPanningEnabled:d(!0,u.userPanningEnabled),boxSelectionEnabled:d(!0,u.boxSelectionEnabled),autolock:d(!1,u.autolock,u.autolockNodes),autoungrabify:d(!1,u.autoungrabify,u.autoungrabifyNodes),autounselectify:d(!1,u.autounselectify),styleEnabled:u.styleEnabled===void 0?s:u.styleEnabled,zoom:Fe(u.zoom)?u.zoom:1,pan:{x:Dt(u.pan)&&Fe(u.pan.x)?u.pan.x:0,y:Dt(u.pan)&&Fe(u.pan.y)?u.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:d(250,u.multiClickDebounceTime)};this.createEmitter(),this.selectionType(u.selectionType),this.zoomRange({min:u.minZoom,max:u.maxZoom});var h=function(x,S){var w=x.some(M5);if(w)return Ms.all(x).then(S);S(x)};c.styleEnabled&&n.setStyle([]);var v=st({},u,u.renderer);n.initRenderer(v);var m=function(x,S,w){n.notifications(!1);var E=n.mutableElements();E.length>0&&E.remove(),x!=null&&(Dt(x)||Zt(x))&&n.add(x),n.one("layoutready",function(k){n.notifications(!0),n.emit(k),n.one("load",S),n.emitAndNotify("load")}).one("layoutstop",function(){n.one("done",w),n.emit("done")});var T=st({},n._private.options.layout);T.eles=n.elements(),n.layout(T).run()};h([u.style,u.elements],function(y){var x=y[0],S=y[1];c.styleEnabled&&n.style().append(x),m(S,function(){n.startAnimationLoop(),c.ready=!0,dn(u.ready)&&n.on("ready",u.ready);for(var w=0;w<l.length;w++){var E=l[w];n.on("ready",E)}i&&(i.readies=[]),n.emit("ready")},u.done)})},Kd=vu.prototype;st(Kd,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Nn;var n=this._private.container.ownerDocument;return n===void 0||n==null?Nn:n.defaultView||Nn},mount:function(e){if(e!=null){var n=this,r=n._private,i=r.options;return!Hd(e)&&Hd(e[0])&&(e=e[0]),n.stopAnimationLoop(),n.destroyRenderer(),r.container=e,r.styleEnabled=!0,n.invalidateSize(),n.initRenderer(st({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),n.startAnimationLoop(),n.style(i.style),n.emit("mount"),n}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return da(this._private.options)},json:function(e){var n=this,r=n._private,i=n.mutableElements(),l=function(N){return n.getElementById(N.id())};if(Dt(e)){if(n.startBatch(),e.elements){var s={},u=function(N,M){for(var R=[],A=[],O=0;O<N.length;O++){var B=N[O];if(!B.data.id){qt("cy.json() cannot handle elements without an ID attribute");continue}var P=""+B.data.id,q=n.getElementById(P);s[P]=!0,q.length!==0?A.push({ele:q,json:B}):(M&&(B.group=M),R.push(B))}n.add(R);for(var L=0;L<A.length;L++){var D=A[L],F=D.ele,$=D.json;F.json($)}};if(Zt(e.elements))u(e.elements);else for(var d=["nodes","edges"],c=0;c<d.length;c++){var h=d[c],v=e.elements[h];Zt(v)&&u(v,h)}var m=n.collection();i.filter(function(k){return!s[k.id()]}).forEach(function(k){k.isParent()?m.merge(k):k.remove()}),m.forEach(function(k){return k.children().move({parent:null})}),m.forEach(function(k){return l(k).remove()})}e.style&&n.style(e.style),e.zoom!=null&&e.zoom!==r.zoom&&n.zoom(e.zoom),e.pan&&(e.pan.x!==r.pan.x||e.pan.y!==r.pan.y)&&n.pan(e.pan),e.data&&n.data(e.data);for(var y=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],x=0;x<y.length;x++){var S=y[x];e[S]!=null&&n[S](e[S])}return n.endBatch(),this}else{var w=!!e,E={};w?E.elements=this.elements().map(function(k){return k.json()}):(E.elements={},i.forEach(function(k){var N=k.group();E.elements[N]||(E.elements[N]=[]),E.elements[N].push(k.json())})),this._private.styleEnabled&&(E.style=n.style().json()),E.data=da(n.data());var T=r.options;return E.zoomingEnabled=r.zoomingEnabled,E.userZoomingEnabled=r.userZoomingEnabled,E.zoom=r.zoom,E.minZoom=r.minZoom,E.maxZoom=r.maxZoom,E.panningEnabled=r.panningEnabled,E.userPanningEnabled=r.userPanningEnabled,E.pan=da(r.pan),E.boxSelectionEnabled=r.boxSelectionEnabled,E.renderer=da(T.renderer),E.hideEdgesOnViewport=T.hideEdgesOnViewport,E.textureOnViewport=T.textureOnViewport,E.wheelSensitivity=T.wheelSensitivity,E.motionBlur=T.motionBlur,E.multiClickDebounceTime=T.multiClickDebounceTime,E}}});Kd.$id=Kd.getElementById;[MM,_M,PC,lg,Rd,IM,sg,jd,HM,yl,hu].forEach(function(t){st(Kd,t)});var VM={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}},GM={maximal:!1,acyclic:!1},os=function(e){return e.scratch("breadthfirst")},O2=function(e,n){return e.scratch("breadthfirst",n)};function IC(t){this.options=st({},VM,GM,t)}IC.prototype.run=function(){var t=this.options,e=t.cy,n=t.eles,r=n.nodes().filter(function(Ge){return Ge.isChildless()}),i=n,l=t.directed,s=t.acyclic||t.maximal||t.maximalAdjustments>0,u=!!t.boundingBox,d=er(u?t.boundingBox:structuredClone(e.extent())),c;if(jr(t.roots))c=t.roots;else if(Zt(t.roots)){for(var h=[],v=0;v<t.roots.length;v++){var m=t.roots[v],y=e.getElementById(m);h.push(y)}c=e.collection(h)}else if(tt(t.roots))c=e.$(t.roots);else if(l)c=r.roots();else{var x=n.components();c=e.collection();for(var S=function(){var Pe=x[w],Xe=Pe.maxDegree(!1),We=Pe.filter(function(at){return at.degree(!1)===Xe});c=c.add(We)},w=0;w<x.length;w++)S()}var E=[],T={},k=function(Pe,Xe){E[Xe]==null&&(E[Xe]=[]);var We=E[Xe].length;E[Xe].push(Pe),O2(Pe,{index:We,depth:Xe})},N=function(Pe,Xe){var We=os(Pe),at=We.depth,Ue=We.index;E[at][Ue]=null,Pe.isChildless()&&k(Pe,Xe)};i.bfs({roots:c,directed:t.directed,visit:function(Pe,Xe,We,at,Ue){var ft=Pe[0],he=ft.id();ft.isChildless()&&k(ft,Ue),T[he]=!0}});for(var M=[],R=0;R<r.length;R++){var A=r[R];T[A.id()]||M.push(A)}var O=function(Pe){for(var Xe=E[Pe],We=0;We<Xe.length;We++){var at=Xe[We];if(at==null){Xe.splice(We,1),We--;continue}O2(at,{depth:Pe,index:We})}},B=function(Pe,Xe){for(var We=os(Pe),at=Pe.incomers().filter(function(qe){return qe.isNode()&&n.has(qe)}),Ue=-1,ft=Pe.id(),he=0;he<at.length;he++){var Ae=at[he],_e=os(Ae);Ue=Math.max(Ue,_e.depth)}if(We.depth<=Ue){if(!t.acyclic&&Xe[ft])return null;var Ve=Ue+1;return N(Pe,Ve),Xe[ft]=Ve,!0}return!1};if(l&&s){var P=[],q={},L=function(Pe){return P.push(Pe)},D=function(){return P.shift()};for(r.forEach(function(Ge){return P.push(Ge)});P.length>0;){var F=D(),$=B(F,q);if($)F.outgoers().filter(function(Ge){return Ge.isNode()&&n.has(Ge)}).forEach(L);else if($===null){qt("Detected double maximal shift for node `"+F.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var H=0;if(t.avoidOverlap)for(var V=0;V<r.length;V++){var K=r[V],ee=K.layoutDimensions(t),I=ee.w,_=ee.h;H=Math.max(H,I,_)}var X={},z=function(Pe){if(X[Pe.id()])return X[Pe.id()];for(var Xe=os(Pe).depth,We=Pe.neighborhood(),at=0,Ue=0,ft=0;ft<We.length;ft++){var he=We[ft];if(!(he.isEdge()||he.isParent()||!r.has(he))){var Ae=os(he);if(Ae!=null){var _e=Ae.index,Ve=Ae.depth;if(!(_e==null||Ve==null)){var qe=E[Ve].length;Ve<Xe&&(at+=_e/qe,Ue++)}}}}return Ue=Math.max(1,Ue),at=at/Ue,Ue===0&&(at=0),X[Pe.id()]=at,at},ne=function(Pe,Xe){var We=z(Pe),at=z(Xe),Ue=We-at;return Ue===0?qE(Pe.id(),Xe.id()):Ue};t.depthSort!==void 0&&(ne=t.depthSort);for(var le=E.length,de=0;de<le;de++)E[de].sort(ne),O(de);for(var ye=[],je=0;je<M.length;je++)ye.push(M[je]);var xe=function(){for(var Pe=0;Pe<le;Pe++)O(Pe)};ye.length&&(E.unshift(ye),le=E.length,xe());for(var ie=0,ue=0;ue<le;ue++)ie=Math.max(E[ue].length,ie);var pe={x:d.x1+d.w/2,y:d.y1+d.h/2},Te=r.reduce(function(Ge,Pe){return(function(Xe){return{w:Ge.w===-1?Xe.w:(Ge.w+Xe.w)/2,h:Ge.h===-1?Xe.h:(Ge.h+Xe.h)/2}})(Pe.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),Le=Math.max(le===1?0:u?(d.h-t.padding*2-Te.h)/(le-1):(d.h-t.padding*2-Te.h)/(le+1),H),Ye=E.reduce(function(Ge,Pe){return Math.max(Ge,Pe.length)},0),dt=function(Pe){var Xe=os(Pe),We=Xe.depth,at=Xe.index;if(t.circle){var Ue=Math.min(d.w/2/le,d.h/2/le);Ue=Math.max(Ue,H);var ft=Ue*We+Ue-(le>0&&E[0].length<=3?Ue/2:0),he=2*Math.PI/E[We].length*at;return We===0&&E[0].length===1&&(ft=1),{x:pe.x+ft*Math.cos(he),y:pe.y+ft*Math.sin(he)}}else{var Ae=E[We].length,_e=Math.max(Ae===1?0:u?(d.w-t.padding*2-Te.w)/((t.grid?Ye:Ae)-1):(d.w-t.padding*2-Te.w)/((t.grid?Ye:Ae)+1),H),Ve={x:pe.x+(at+1-(Ae+1)/2)*_e,y:pe.y+(We+1-(le+1)/2)*Le};return Ve}},nt={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(nt).indexOf(t.direction)===-1&&un("Invalid direction '".concat(t.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(nt).join(", ")));var $e=function(Pe){return sD(dt(Pe),d,nt[t.direction])};return n.nodes().layoutPositions(this,t,$e),this};var YM={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function qC(t){this.options=st({},YM,t)}qC.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,l=r.nodes().not(":parent");e.sort&&(l=l.sort(e.sort));for(var s=er(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u={x:s.x1+s.w/2,y:s.y1+s.h/2},d=e.sweep===void 0?2*Math.PI-2*Math.PI/l.length:e.sweep,c=d/Math.max(1,l.length-1),h,v=0,m=0;m<l.length;m++){var y=l[m],x=y.layoutDimensions(e),S=x.w,w=x.h;v=Math.max(v,S,w)}if(Fe(e.radius)?h=e.radius:l.length<=1?h=0:h=Math.min(s.h,s.w)/2-v,l.length>1&&e.avoidOverlap){v*=1.75;var E=Math.cos(c)-Math.cos(0),T=Math.sin(c)-Math.sin(0),k=Math.sqrt(v*v/(E*E+T*T));h=Math.max(k,h)}var N=function(R,A){var O=e.startAngle+A*c*(i?1:-1),B=h*Math.cos(O),P=h*Math.sin(O),q={x:u.x+B,y:u.y+P};return q};return r.nodes().layoutPositions(this,e,N),this};var $M={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function FC(t){this.options=st({},$M,t)}FC.prototype.run=function(){for(var t=this.options,e=t,n=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,r=t.cy,i=e.eles,l=i.nodes().not(":parent"),s=er(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u={x:s.x1+s.w/2,y:s.y1+s.h/2},d=[],c=0,h=0;h<l.length;h++){var v=l[h],m=void 0;m=e.concentric(v),d.push({value:m,node:v}),v._private.scratch.concentric=m}l.updateStyle();for(var y=0;y<l.length;y++){var x=l[y],S=x.layoutDimensions(e);c=Math.max(c,S.w,S.h)}d.sort(function(Le,Ye){return Ye.value-Le.value});for(var w=e.levelWidth(l),E=[[]],T=E[0],k=0;k<d.length;k++){var N=d[k];if(T.length>0){var M=Math.abs(T[0].value-N.value);M>=w&&(T=[],E.push(T))}T.push(N)}var R=c+e.minNodeSpacing;if(!e.avoidOverlap){var A=E.length>0&&E[0].length>1,O=Math.min(s.w,s.h)/2-R,B=O/(E.length+A?1:0);R=Math.min(R,B)}for(var P=0,q=0;q<E.length;q++){var L=E[q],D=e.sweep===void 0?2*Math.PI-2*Math.PI/L.length:e.sweep,F=L.dTheta=D/Math.max(1,L.length-1);if(L.length>1&&e.avoidOverlap){var $=Math.cos(F)-Math.cos(0),H=Math.sin(F)-Math.sin(0),V=Math.sqrt(R*R/($*$+H*H));P=Math.max(V,P)}L.r=P,P+=R}if(e.equidistant){for(var K=0,ee=0,I=0;I<E.length;I++){var _=E[I],X=_.r-ee;K=Math.max(K,X)}ee=0;for(var z=0;z<E.length;z++){var ne=E[z];z===0&&(ee=ne.r),ne.r=ee,ee+=K}}for(var le={},de=0;de<E.length;de++)for(var ye=E[de],je=ye.dTheta,xe=ye.r,ie=0;ie<ye.length;ie++){var ue=ye[ie],pe=e.startAngle+(n?1:-1)*je*ie,Te={x:u.x+xe*Math.cos(pe),y:u.y+xe*Math.sin(pe)};le[ue.node.id()]=Te}return i.nodes().layoutPositions(this,e,function(Le){var Ye=Le.id();return le[Ye]}),this};var ym,XM={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,n){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Ef(t){this.options=st({},XM,t),this.options.layout=this;var e=this.options.eles.nodes(),n=this.options.eles.edges(),r=n.filter(function(i){var l=i.source().data("id"),s=i.target().data("id"),u=e.some(function(c){return c.data("id")===l}),d=e.some(function(c){return c.data("id")===s});return!u||!d});this.options.eles=this.options.eles.not(r)}Ef.prototype.run=function(){var t=this.options,e=t.cy,n=this;n.stopped=!1,(t.animate===!0||t.animate===!1)&&n.emit({type:"layoutstart",layout:n}),t.debug===!0?ym=!0:ym=!1;var r=KM(e,n,t);ym&&ZM(r),t.randomize&&WM(r);var i=qa(),l=function(){JM(r,e,t),t.fit===!0&&e.fit(t.padding)},s=function(m){return!(n.stopped||m>=t.numIter||(eB(r,t),r.temperature=r.temperature*t.coolingFactor,r.temperature<t.minTemp))},u=function(){if(t.animate===!0||t.animate===!1)l(),n.one("layoutstop",t.stop),n.emit({type:"layoutstop",layout:n});else{var m=t.eles.nodes(),y=UC(r,t,m);m.layoutPositions(n,t,y)}},d=0,c=!0;if(t.animate===!0){var h=function(){for(var m=0;c&&m<t.refresh;)c=s(d),d++,m++;if(!c)z2(r,t),u();else{var y=qa();y-i>=t.animationThreshold&&l(),Ud(h)}};h()}else{for(;c;)c=s(d),d++;z2(r,t),u()}return this};Ef.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Ef.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var KM=function(e,n,r){for(var i=r.eles.edges(),l=r.eles.nodes(),s=er(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),u={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:l.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:r.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},d=r.eles.components(),c={},h=0;h<d.length;h++)for(var v=d[h],m=0;m<v.length;m++){var y=v[m];c[y.id()]=h}for(var h=0;h<u.nodeSize;h++){var x=l[h],S=x.layoutDimensions(r),w={};w.isLocked=x.locked(),w.id=x.data("id"),w.parentId=x.data("parent"),w.cmptId=c[x.id()],w.children=[],w.positionX=x.position("x"),w.positionY=x.position("y"),w.offsetX=0,w.offsetY=0,w.height=S.w,w.width=S.h,w.maxX=w.positionX+w.width/2,w.minX=w.positionX-w.width/2,w.maxY=w.positionY+w.height/2,w.minY=w.positionY-w.height/2,w.padLeft=parseFloat(x.style("padding")),w.padRight=parseFloat(x.style("padding")),w.padTop=parseFloat(x.style("padding")),w.padBottom=parseFloat(x.style("padding")),w.nodeRepulsion=dn(r.nodeRepulsion)?r.nodeRepulsion(x):r.nodeRepulsion,u.layoutNodes.push(w),u.idToIndex[w.id]=h}for(var E=[],T=0,k=-1,N=[],h=0;h<u.nodeSize;h++){var x=u.layoutNodes[h],M=x.parentId;M!=null?u.layoutNodes[u.idToIndex[M]].children.push(x.id):(E[++k]=x.id,N.push(x.id))}for(u.graphSet.push(N);T<=k;){var R=E[T++],A=u.idToIndex[R],y=u.layoutNodes[A],O=y.children;if(O.length>0){u.graphSet.push(O);for(var h=0;h<O.length;h++)E[++k]=O[h]}}for(var h=0;h<u.graphSet.length;h++)for(var B=u.graphSet[h],m=0;m<B.length;m++){var P=u.idToIndex[B[m]];u.indexToGraph[P]=h}for(var h=0;h<u.edgeSize;h++){var q=i[h],L={};L.id=q.data("id"),L.sourceId=q.data("source"),L.targetId=q.data("target");var D=dn(r.idealEdgeLength)?r.idealEdgeLength(q):r.idealEdgeLength,F=dn(r.edgeElasticity)?r.edgeElasticity(q):r.edgeElasticity,$=u.idToIndex[L.sourceId],H=u.idToIndex[L.targetId],V=u.indexToGraph[$],K=u.indexToGraph[H];if(V!=K){for(var ee=QM(L.sourceId,L.targetId,u),I=u.graphSet[ee],_=0,w=u.layoutNodes[$];I.indexOf(w.id)===-1;)w=u.layoutNodes[u.idToIndex[w.parentId]],_++;for(w=u.layoutNodes[H];I.indexOf(w.id)===-1;)w=u.layoutNodes[u.idToIndex[w.parentId]],_++;D*=_*r.nestingFactor}L.idealLength=D,L.elasticity=F,u.layoutEdges.push(L)}return u},QM=function(e,n,r){var i=HC(e,n,0,r);return 2>i.count?0:i.graph},HC=function(e,n,r,i){var l=i.graphSet[r];if(-1<l.indexOf(e)&&-1<l.indexOf(n))return{count:2,graph:r};for(var s=0,u=0;u<l.length;u++){var d=l[u],c=i.idToIndex[d],h=i.layoutNodes[c].children;if(h.length!==0){var v=i.indexToGraph[i.idToIndex[h[0]]],m=HC(e,n,v,i);if(m.count!==0)if(m.count===1){if(s++,s===2)break}else return m}}return{count:s,graph:r}},ZM,WM=function(e,n){for(var r=e.clientWidth,i=e.clientHeight,l=0;l<e.nodeSize;l++){var s=e.layoutNodes[l];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*r,s.positionY=Math.random()*i)}},UC=function(e,n,r){var i=e.boundingBox,l={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return n.boundingBox&&(r.forEach(function(s){var u=e.layoutNodes[e.idToIndex[s.data("id")]];l.x1=Math.min(l.x1,u.positionX),l.x2=Math.max(l.x2,u.positionX),l.y1=Math.min(l.y1,u.positionY),l.y2=Math.max(l.y2,u.positionY)}),l.w=l.x2-l.x1,l.h=l.y2-l.y1),function(s,u){var d=e.layoutNodes[e.idToIndex[s.data("id")]];if(n.boundingBox){var c=l.w===0?.5:(d.positionX-l.x1)/l.w,h=l.h===0?.5:(d.positionY-l.y1)/l.h;return{x:i.x1+c*i.w,y:i.y1+h*i.h}}else return{x:d.positionX,y:d.positionY}}},JM=function(e,n,r){var i=r.layout,l=r.eles.nodes(),s=UC(e,r,l);l.positions(s),e.ready!==!0&&(e.ready=!0,i.one("layoutready",r.ready),i.emit({type:"layoutready",layout:this}))},eB=function(e,n,r){tB(e,n),aB(e),iB(e,n),lB(e),sB(e)},tB=function(e,n){for(var r=0;r<e.graphSet.length;r++)for(var i=e.graphSet[r],l=i.length,s=0;s<l;s++)for(var u=e.layoutNodes[e.idToIndex[i[s]]],d=s+1;d<l;d++){var c=e.layoutNodes[e.idToIndex[i[d]]];nB(u,c,e,n)}},L2=function(e){return-1+2*e*Math.random()},nB=function(e,n,r,i){var l=e.cmptId,s=n.cmptId;if(!(l!==s&&!r.isCompound)){var u=n.positionX-e.positionX,d=n.positionY-e.positionY,c=1;u===0&&d===0&&(u=L2(c),d=L2(c));var h=rB(e,n,u,d);if(h>0)var v=i.nodeOverlap*h,m=Math.sqrt(u*u+d*d),y=v*u/m,x=v*d/m;else var S=Qd(e,u,d),w=Qd(n,-1*u,-1*d),E=w.x-S.x,T=w.y-S.y,k=E*E+T*T,m=Math.sqrt(k),v=(e.nodeRepulsion+n.nodeRepulsion)/k,y=v*E/m,x=v*T/m;e.isLocked||(e.offsetX-=y,e.offsetY-=x),n.isLocked||(n.offsetX+=y,n.offsetY+=x)}},rB=function(e,n,r,i){if(r>0)var l=e.maxX-n.minX;else var l=n.maxX-e.minX;if(i>0)var s=e.maxY-n.minY;else var s=n.maxY-e.minY;return l>=0&&s>=0?Math.sqrt(l*l+s*s):0},Qd=function(e,n,r){var i=e.positionX,l=e.positionY,s=e.height||1,u=e.width||1,d=r/n,c=s/u,h={};return n===0&&0<r||n===0&&0>r?(h.x=i,h.y=l+s/2,h):0<n&&-1*c<=d&&d<=c?(h.x=i+u/2,h.y=l+u*r/2/n,h):0>n&&-1*c<=d&&d<=c?(h.x=i-u/2,h.y=l-u*r/2/n,h):0<r&&(d<=-1*c||d>=c)?(h.x=i+s*n/2/r,h.y=l+s/2,h):(0>r&&(d<=-1*c||d>=c)&&(h.x=i-s*n/2/r,h.y=l-s/2),h)},aB=function(e,n){for(var r=0;r<e.edgeSize;r++){var i=e.layoutEdges[r],l=e.idToIndex[i.sourceId],s=e.layoutNodes[l],u=e.idToIndex[i.targetId],d=e.layoutNodes[u],c=d.positionX-s.positionX,h=d.positionY-s.positionY;if(!(c===0&&h===0)){var v=Qd(s,c,h),m=Qd(d,-1*c,-1*h),y=m.x-v.x,x=m.y-v.y,S=Math.sqrt(y*y+x*x),w=Math.pow(i.idealLength-S,2)/i.elasticity;if(S!==0)var E=w*y/S,T=w*x/S;else var E=0,T=0;s.isLocked||(s.offsetX+=E,s.offsetY+=T),d.isLocked||(d.offsetX-=E,d.offsetY-=T)}}},iB=function(e,n){if(n.gravity!==0)for(var r=1,i=0;i<e.graphSet.length;i++){var l=e.graphSet[i],s=l.length;if(i===0)var u=e.clientHeight/2,d=e.clientWidth/2;else var c=e.layoutNodes[e.idToIndex[l[0]]],h=e.layoutNodes[e.idToIndex[c.parentId]],u=h.positionX,d=h.positionY;for(var v=0;v<s;v++){var m=e.layoutNodes[e.idToIndex[l[v]]];if(!m.isLocked){var y=u-m.positionX,x=d-m.positionY,S=Math.sqrt(y*y+x*x);if(S>r){var w=n.gravity*y/S,E=n.gravity*x/S;m.offsetX+=w,m.offsetY+=E}}}}},lB=function(e,n){var r=[],i=0,l=-1;for(r.push.apply(r,e.graphSet[0]),l+=e.graphSet[0].length;i<=l;){var s=r[i++],u=e.idToIndex[s],d=e.layoutNodes[u],c=d.children;if(0<c.length&&!d.isLocked){for(var h=d.offsetX,v=d.offsetY,m=0;m<c.length;m++){var y=e.layoutNodes[e.idToIndex[c[m]]];y.offsetX+=h,y.offsetY+=v,r[++l]=c[m]}d.offsetX=0,d.offsetY=0}}},sB=function(e,n){for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];if(!(0<i.children.length||i.isLocked)){var l=oB(i.offsetX,i.offsetY,e.temperature);i.positionX+=l.x,i.positionY+=l.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,VC(i,e)}}for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},oB=function(e,n,r){var i=Math.sqrt(e*e+n*n);if(i>r)var l={x:r*e/i,y:r*n/i};else var l={x:e,y:n};return l},VC=function(e,n){var r=e.parentId;if(r!=null){var i=n.layoutNodes[n.idToIndex[r]],l=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,l=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,l=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,l=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,l=!0),l)return VC(i,n)}},z2=function(e,n){for(var r=e.layoutNodes,i=[],l=0;l<r.length;l++){var s=r[l],u=s.cmptId,d=i[u]=i[u]||[];d.push(s)}for(var c=0,l=0;l<i.length;l++){var h=i[l];if(h){h.x1=1/0,h.x2=-1/0,h.y1=1/0,h.y2=-1/0;for(var v=0;v<h.length;v++){var m=h[v];h.x1=Math.min(h.x1,m.positionX-m.width/2),h.x2=Math.max(h.x2,m.positionX+m.width/2),h.y1=Math.min(h.y1,m.positionY-m.height/2),h.y2=Math.max(h.y2,m.positionY+m.height/2)}h.w=h.x2-h.x1,h.h=h.y2-h.y1,c+=h.w*h.h}}i.sort(function(T,k){return k.w*k.h-T.w*T.h});for(var y=0,x=0,S=0,w=0,E=Math.sqrt(c)*e.clientWidth/e.clientHeight,l=0;l<i.length;l++){var h=i[l];if(h){for(var v=0;v<h.length;v++){var m=h[v];m.isLocked||(m.positionX+=y-h.x1,m.positionY+=x-h.y1)}y+=h.w+n.componentSpacing,S+=h.w+n.componentSpacing,w=Math.max(w,h.h),S>E&&(x+=w+n.componentSpacing,y=0,S=0,w=0)}}},uB={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function GC(t){this.options=st({},uB,t)}GC.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles,i=r.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var l=er(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(l.h===0||l.w===0)r.nodes().layoutPositions(this,e,function(z){return{x:l.x1,y:l.y1}});else{var s=i.size(),u=Math.sqrt(s*l.h/l.w),d=Math.round(u),c=Math.round(l.w/l.h*u),h=function(ne){if(ne==null)return Math.min(d,c);var le=Math.min(d,c);le==d?d=ne:c=ne},v=function(ne){if(ne==null)return Math.max(d,c);var le=Math.max(d,c);le==d?d=ne:c=ne},m=e.rows,y=e.cols!=null?e.cols:e.columns;if(m!=null&&y!=null)d=m,c=y;else if(m!=null&&y==null)d=m,c=Math.ceil(s/d);else if(m==null&&y!=null)c=y,d=Math.ceil(s/c);else if(c*d>s){var x=h(),S=v();(x-1)*S>=s?h(x-1):(S-1)*x>=s&&v(S-1)}else for(;c*d<s;){var w=h(),E=v();(E+1)*w>=s?v(E+1):h(w+1)}var T=l.w/c,k=l.h/d;if(e.condense&&(T=0,k=0),e.avoidOverlap)for(var N=0;N<i.length;N++){var M=i[N],R=M._private.position;(R.x==null||R.y==null)&&(R.x=0,R.y=0);var A=M.layoutDimensions(e),O=e.avoidOverlapPadding,B=A.w+O,P=A.h+O;T=Math.max(T,B),k=Math.max(k,P)}for(var q={},L=function(ne,le){return!!q["c-"+ne+"-"+le]},D=function(ne,le){q["c-"+ne+"-"+le]=!0},F=0,$=0,H=function(){$++,$>=c&&($=0,F++)},V={},K=0;K<i.length;K++){var ee=i[K],I=e.position(ee);if(I&&(I.row!==void 0||I.col!==void 0)){var _={row:I.row,col:I.col};if(_.col===void 0)for(_.col=0;L(_.row,_.col);)_.col++;else if(_.row===void 0)for(_.row=0;L(_.row,_.col);)_.row++;V[ee.id()]=_,D(_.row,_.col)}}var X=function(ne,le){var de,ye;if(ne.locked()||ne.isParent())return!1;var je=V[ne.id()];if(je)de=je.col*T+T/2+l.x1,ye=je.row*k+k/2+l.y1;else{for(;L(F,$);)H();de=$*T+T/2+l.x1,ye=F*k+k/2+l.y1,D(F,$),H()}return{x:de,y:ye}};i.layoutPositions(this,e,X)}return this};var cB={ready:function(){},stop:function(){}};function sy(t){this.options=st({},cB,t)}sy.prototype.run=function(){var t=this.options,e=t.eles,n=this;return t.cy,n.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",t.ready),n.emit("layoutready"),n.one("layoutstop",t.stop),n.emit("layoutstop"),this};sy.prototype.stop=function(){return this};var dB={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function YC(t){this.options=st({},dB,t)}YC.prototype.run=function(){var t=this.options,e=t.eles,n=e.nodes(),r=dn(t.positions);function i(l){if(t.positions==null)return BD(l.position());if(r)return t.positions(l);var s=t.positions[l._private.data.id];return s??null}return n.layoutPositions(this,t,function(l,s){var u=i(l);return l.locked()||u==null?!1:u}),this};var fB={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function $C(t){this.options=st({},fB,t)}$C.prototype.run=function(){var t=this.options,e=t.cy,n=t.eles,r=er(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(s,u){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}};return n.nodes().layoutPositions(this,t,i),this};var hB=[{name:"breadthfirst",impl:IC},{name:"circle",impl:qC},{name:"concentric",impl:FC},{name:"cose",impl:Ef},{name:"grid",impl:GC},{name:"null",impl:sy},{name:"preset",impl:YC},{name:"random",impl:$C}];function XC(t){this.options=t,this.notifications=0}var _2=function(){},P2=function(){throw new Error("A headless instance can not render images")};XC.prototype={recalculateRenderedStyle:_2,notify:function(){this.notifications++},init:_2,isHeadless:function(){return!0},png:P2,jpg:P2};var oy={};oy.arrowShapeWidth=.3;oy.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,n=function(c,h,v,m,y,x,S){var w=y.x-v/2-S,E=y.x+v/2+S,T=y.y-v/2-S,k=y.y+v/2+S,N=w<=c&&c<=E&&T<=h&&h<=k;return N},r=function(c,h,v,m,y){var x=c*Math.cos(m)-h*Math.sin(m),S=c*Math.sin(m)+h*Math.cos(m),w=x*v,E=S*v,T=w+y.x,k=E+y.y;return{x:T,y:k}},i=function(c,h,v,m){for(var y=[],x=0;x<c.length;x+=2){var S=c[x],w=c[x+1];y.push(r(S,w,h,v,m))}return y},l=function(c){for(var h=[],v=0;v<c.length;v++){var m=c[v];h.push(m.x,m.y)}return h},s=function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").pfValue*2},u=function(c,h){tt(h)&&(h=t[h]),t[c]=st({name:c,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(m,y,x,S,w,E){var T=l(i(this.points,x+2*E,S,w)),k=hr(m,y,T);return k},roughCollide:n,draw:function(m,y,x,S){var w=i(this.points,y,x,S);e.arrowShapeImpl("polygon")(m,w)},spacing:function(m){return 0},gap:s},h)};u("none",{collide:Vd,roughCollide:Vd,draw:$g,spacing:W1,gap:W1}),u("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),u("arrow","triangle"),u("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(c,h,v,m,y){var x=i(this.points,h,v,m),S=this.controlPoint,w=r(S[0],S[1],h,v,m);e.arrowShapeImpl(this.name)(c,x,w)},gap:function(c){return s(c)*.8}}),u("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(c,h,v,m,y,x,S){var w=l(i(this.points,v+2*S,m,y)),E=l(i(this.pointsTee,v+2*S,m,y)),T=hr(c,h,w)||hr(c,h,E);return T},draw:function(c,h,v,m,y){var x=i(this.points,h,v,m),S=i(this.pointsTee,h,v,m);e.arrowShapeImpl(this.name)(c,x,S)}}),u("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(c,h,v,m,y,x,S){var w=y,E=Math.pow(w.x-c,2)+Math.pow(w.y-h,2)<=Math.pow((v+2*S)*this.radius,2),T=l(i(this.points,v+2*S,m,y));return hr(c,h,T)||E},draw:function(c,h,v,m,y){var x=i(this.pointsTr,h,v,m);e.arrowShapeImpl(this.name)(c,x,m.x,m.y,this.radius*h)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),u("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(c,h){var v=this.baseCrossLinePts.slice(),m=h/c,y=3,x=5;return v[y]=v[y]-m,v[x]=v[x]-m,v},collide:function(c,h,v,m,y,x,S){var w=l(i(this.points,v+2*S,m,y)),E=l(i(this.crossLinePts(v,x),v+2*S,m,y)),T=hr(c,h,w)||hr(c,h,E);return T},draw:function(c,h,v,m,y){var x=i(this.points,h,v,m),S=i(this.crossLinePts(h,y),h,v,m);e.arrowShapeImpl(this.name)(c,x,S)}}),u("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(c){return s(c)*.525}}),u("circle",{radius:.15,collide:function(c,h,v,m,y,x,S){var w=y,E=Math.pow(w.x-c,2)+Math.pow(w.y-h,2)<=Math.pow((v+2*S)*this.radius,2);return E},draw:function(c,h,v,m,y){e.arrowShapeImpl(this.name)(c,m.x,m.y,this.radius*h)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),u("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(c){return 1},gap:function(c){return 1}}),u("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),u("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}}),u("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(c){return .95*c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}})};var Sl={};Sl.projectIntoViewport=function(t,e){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],l=r[1],s=r[4],u=n.pan(),d=n.zoom(),c=((t-i)/s-u.x)/d,h=((e-l)/s-u.y)/d;return[c,h]};Sl.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),n=this.cy.window().getComputedStyle(t),r=function(E){return parseFloat(n.getPropertyValue(E))},i={left:r("padding-left"),right:r("padding-right"),top:r("padding-top"),bottom:r("padding-bottom")},l={left:r("border-left-width"),right:r("border-right-width"),top:r("border-top-width"),bottom:r("border-bottom-width")},s=t.clientWidth,u=t.clientHeight,d=i.left+i.right,c=i.top+i.bottom,h=l.left+l.right,v=e.width/(s+h),m=s-d,y=u-c,x=e.left+i.left+l.left,S=e.top+i.top+l.top;return this.containerBB=[x,S,m,y,v]};Sl.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Sl.findNearestElement=function(t,e,n,r){return this.findNearestElements(t,e,n,r)[0]};Sl.findNearestElements=function(t,e,n,r){var i=this,l=this,s=l.getCachedZSortedEles(),u=[],d=l.cy.zoom(),c=l.cy.hasCompoundNodes(),h=(r?24:8)/d,v=(r?8:2)/d,m=(r?8:2)/d,y=1/0,x,S;n&&(s=s.interactive);function w(A,O){if(A.isNode()){if(S)return;S=A,u.push(A)}if(A.isEdge()&&(O==null||O<y))if(x){if(x.pstyle("z-compound-depth").value===A.pstyle("z-compound-depth").value&&x.pstyle("z-compound-depth").value===A.pstyle("z-compound-depth").value){for(var B=0;B<u.length;B++)if(u[B].isEdge()){u[B]=A,x=A,y=O??y;break}}}else u.push(A),x=A,y=O??y}function E(A){var O=A.outerWidth()+2*v,B=A.outerHeight()+2*v,P=O/2,q=B/2,L=A.position(),D=A.pstyle("corner-radius").value==="auto"?"auto":A.pstyle("corner-radius").pfValue,F=A._private.rscratch;if(L.x-P<=t&&t<=L.x+P&&L.y-q<=e&&e<=L.y+q){var $=l.nodeShapes[i.getNodeShape(A)];if($.checkPoint(t,e,0,O,B,L.x,L.y,D,F))return w(A,0),!0}}function T(A){var O=A._private,B=O.rscratch,P=A.pstyle("width").pfValue,q=A.pstyle("arrow-scale").value,L=P/2+h,D=L*L,F=L*2,K=O.source,ee=O.target,$;if(B.edgeType==="segments"||B.edgeType==="straight"||B.edgeType==="haystack"){for(var H=B.allpts,V=0;V+3<H.length;V+=2)if($D(t,e,H[V],H[V+1],H[V+2],H[V+3],F)&&D>($=WD(t,e,H[V],H[V+1],H[V+2],H[V+3])))return w(A,$),!0}else if(B.edgeType==="bezier"||B.edgeType==="multibezier"||B.edgeType==="self"||B.edgeType==="compound"){for(var H=B.allpts,V=0;V+5<B.allpts.length;V+=4)if(XD(t,e,H[V],H[V+1],H[V+2],H[V+3],H[V+4],H[V+5],F)&&D>($=ZD(t,e,H[V],H[V+1],H[V+2],H[V+3],H[V+4],H[V+5])))return w(A,$),!0}for(var K=K||O.source,ee=ee||O.target,I=i.getArrowWidth(P,q),_=[{name:"source",x:B.arrowStartX,y:B.arrowStartY,angle:B.srcArrowAngle},{name:"target",x:B.arrowEndX,y:B.arrowEndY,angle:B.tgtArrowAngle},{name:"mid-source",x:B.midX,y:B.midY,angle:B.midsrcArrowAngle},{name:"mid-target",x:B.midX,y:B.midY,angle:B.midtgtArrowAngle}],V=0;V<_.length;V++){var X=_[V],z=l.arrowShapes[A.pstyle(X.name+"-arrow-shape").value],ne=A.pstyle("width").pfValue;if(z.roughCollide(t,e,I,X.angle,{x:X.x,y:X.y},ne,h)&&z.collide(t,e,I,X.angle,{x:X.x,y:X.y},ne,h))return w(A),!0}c&&u.length>0&&(E(K),E(ee))}function k(A,O,B){return fr(A,O,B)}function N(A,O){var B=A._private,P=m,q;O?q=O+"-":q="",A.boundingBox();var L=B.labelBounds[O||"main"],D=A.pstyle(q+"label").value,F=A.pstyle("text-events").strValue==="yes";if(!(!F||!D)){var $=k(B.rscratch,"labelX",O),H=k(B.rscratch,"labelY",O),V=k(B.rscratch,"labelAngle",O),K=A.pstyle(q+"text-margin-x").pfValue,ee=A.pstyle(q+"text-margin-y").pfValue,I=L.x1-P-K,_=L.x2+P-K,X=L.y1-P-ee,z=L.y2+P-ee;if(V){var ne=Math.cos(V),le=Math.sin(V),de=function(Te,Le){return Te=Te-$,Le=Le-H,{x:Te*ne-Le*le+$,y:Te*le+Le*ne+H}},ye=de(I,X),je=de(I,z),xe=de(_,X),ie=de(_,z),ue=[ye.x+K,ye.y+ee,xe.x+K,xe.y+ee,ie.x+K,ie.y+ee,je.x+K,je.y+ee];if(hr(t,e,ue))return w(A),!0}else if(Ti(L,t,e))return w(A),!0}}for(var M=s.length-1;M>=0;M--){var R=s[M];R.isNode()?E(R)||N(R):T(R)||N(R)||N(R,"source")||N(R,"target")}return u};Sl.getAllInBox=function(t,e,n,r){var i=this.getCachedZSortedEles().interactive,l=this.cy.zoom(),s=2/l,u=[],d=Math.min(t,n),c=Math.max(t,n),h=Math.min(e,r),v=Math.max(e,r);t=d,n=c,e=h,r=v;var m=er({x1:t,y1:e,x2:n,y2:r}),y=[{x:m.x1,y:m.y1},{x:m.x2,y:m.y1},{x:m.x2,y:m.y2},{x:m.x1,y:m.y2}],x=[[y[0],y[1]],[y[1],y[2]],[y[2],y[3]],[y[3],y[0]]];function S(Te,Le,Ye){return fr(Te,Le,Ye)}function w(Te,Le){var Ye=Te._private,dt=s,nt="";Te.boundingBox();var $e=Ye.labelBounds.main;if(!$e)return null;var Ge=S(Ye.rscratch,"labelX",Le),Pe=S(Ye.rscratch,"labelY",Le),Xe=S(Ye.rscratch,"labelAngle",Le),We=Te.pstyle(nt+"text-margin-x").pfValue,at=Te.pstyle(nt+"text-margin-y").pfValue,Ue=$e.x1-dt-We,ft=$e.x2+dt-We,he=$e.y1-dt-at,Ae=$e.y2+dt-at;if(Xe){var _e=Math.cos(Xe),Ve=Math.sin(Xe),qe=function(Ce,Y){return Ce=Ce-Ge,Y=Y-Pe,{x:Ce*_e-Y*Ve+Ge,y:Ce*Ve+Y*_e+Pe}};return[qe(Ue,he),qe(ft,he),qe(ft,Ae),qe(Ue,Ae)]}else return[{x:Ue,y:he},{x:ft,y:he},{x:ft,y:Ae},{x:Ue,y:Ae}]}function E(Te,Le,Ye,dt){function nt($e,Ge,Pe){return(Pe.y-$e.y)*(Ge.x-$e.x)>(Ge.y-$e.y)*(Pe.x-$e.x)}return nt(Te,Ye,dt)!==nt(Le,Ye,dt)&&nt(Te,Le,Ye)!==nt(Te,Le,dt)}for(var T=0;T<i.length;T++){var k=i[T];if(k.isNode()){var N=k,M=N.pstyle("text-events").strValue==="yes",R=N.pstyle("box-selection").strValue,A=N.pstyle("box-select-labels").strValue==="yes";if(R==="none")continue;var O=(R==="overlap"||A)&&M,B=N.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:O});if(R==="contain"){var P=!1;if(A&&M){var q=w(N);q&&mp(q,y)&&(u.push(N),P=!0)}!P&&tC(m,B)&&u.push(N)}else if(R==="overlap"&&Zg(m,B)){var L=N.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),D=[{x:L.x1,y:L.y1},{x:L.x2,y:L.y1},{x:L.x2,y:L.y2},{x:L.x1,y:L.y2}];if(mp(D,y))u.push(N);else{var F=w(N);F&&mp(F,y)&&u.push(N)}}}else{var $=k,H=$._private,V=H.rscratch,K=$.pstyle("box-selection").strValue;if(K==="none")continue;if(K==="contain"){if(V.startX!=null&&V.startY!=null&&!Ti(m,V.startX,V.startY)||V.endX!=null&&V.endY!=null&&!Ti(m,V.endX,V.endY))continue;if(V.edgeType==="bezier"||V.edgeType==="multibezier"||V.edgeType==="self"||V.edgeType==="compound"||V.edgeType==="segments"||V.edgeType==="haystack"){for(var ee=H.rstyle.bezierPts||H.rstyle.linePts||H.rstyle.haystackPts,I=!0,_=0;_<ee.length;_++)if(!rw(m,ee[_])){I=!1;break}I&&u.push($)}else V.edgeType==="straight"&&u.push($)}else if(K==="overlap"){var X=!1;if(V.startX!=null&&V.startY!=null&&V.endX!=null&&V.endY!=null&&(Ti(m,V.startX,V.startY)||Ti(m,V.endX,V.endY)))u.push($),X=!0;else if(!X&&V.edgeType==="haystack"){for(var z=H.rstyle.haystackPts,ne=0;ne<z.length;ne++)if(rw(m,z[ne])){u.push($),X=!0;break}}if(!X){var le=H.rstyle.bezierPts||H.rstyle.linePts||H.rstyle.haystackPts;if((!le||le.length<2)&&V.edgeType==="straight"&&V.startX!=null&&V.startY!=null&&V.endX!=null&&V.endY!=null&&(le=[{x:V.startX,y:V.startY},{x:V.endX,y:V.endY}]),!le||le.length<2)continue;for(var de=0;de<le.length-1;de++){for(var ye=le[de],je=le[de+1],xe=0;xe<x.length;xe++){var ie=Tn(x[xe],2),ue=ie[0],pe=ie[1];if(E(ye,je,ue,pe)){u.push($),X=!0;break}}if(X)break}}}}}return u};var Zd={};Zd.calculateArrowAngles=function(t){var e=t._private.rscratch,n=e.edgeType==="haystack",r=e.edgeType==="bezier",i=e.edgeType==="multibezier",l=e.edgeType==="segments",s=e.edgeType==="compound",u=e.edgeType==="self",d,c,h,v,m,y,E,T;if(n?(h=e.haystackPts[0],v=e.haystackPts[1],m=e.haystackPts[2],y=e.haystackPts[3]):(h=e.arrowStartX,v=e.arrowStartY,m=e.arrowEndX,y=e.arrowEndY),E=e.midX,T=e.midY,l)d=h-e.segpts[0],c=v-e.segpts[1];else if(i||s||u||r){var x=e.allpts,S=Bn(x[0],x[2],x[4],.1),w=Bn(x[1],x[3],x[5],.1);d=h-S,c=v-w}else d=h-E,c=v-T;e.srcArrowAngle=ad(d,c);var E=e.midX,T=e.midY;if(n&&(E=(h+m)/2,T=(v+y)/2),d=m-h,c=y-v,l){var x=e.allpts;if(x.length/2%2===0){var k=x.length/2,N=k-2;d=x[k]-x[N],c=x[k+1]-x[N+1]}else if(e.isRound)d=e.midVector[1],c=-e.midVector[0];else{var k=x.length/2-1,N=k-2;d=x[k]-x[N],c=x[k+1]-x[N+1]}}else if(i||s||u){var x=e.allpts,M=e.ctrlpts,R,A,O,B;if(M.length/2%2===0){var P=x.length/2-1,q=P+2,L=q+2;R=Bn(x[P],x[q],x[L],0),A=Bn(x[P+1],x[q+1],x[L+1],0),O=Bn(x[P],x[q],x[L],1e-4),B=Bn(x[P+1],x[q+1],x[L+1],1e-4)}else{var q=x.length/2-1,P=q-2,L=q+2;R=Bn(x[P],x[q],x[L],.4999),A=Bn(x[P+1],x[q+1],x[L+1],.4999),O=Bn(x[P],x[q],x[L],.5),B=Bn(x[P+1],x[q+1],x[L+1],.5)}d=O-R,c=B-A}if(e.midtgtArrowAngle=ad(d,c),e.midDispX=d,e.midDispY=c,d*=-1,c*=-1,l){var x=e.allpts;if(x.length/2%2!==0){if(!e.isRound){var k=x.length/2-1,D=k+2;d=-(x[D]-x[k]),c=-(x[D+1]-x[k+1])}}}if(e.midsrcArrowAngle=ad(d,c),l)d=m-e.segpts[e.segpts.length-2],c=y-e.segpts[e.segpts.length-1];else if(i||s||u||r){var x=e.allpts,F=x.length,S=Bn(x[F-6],x[F-4],x[F-2],.9),w=Bn(x[F-5],x[F-3],x[F-1],.9);d=m-S,c=y-w}else d=m-E,c=y-T;e.tgtArrowAngle=ad(d,c)};Zd.getArrowWidth=Zd.getArrowHeight=function(t,e){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[t+", "+e];return r||(r=Math.max(Math.pow(t*13.37,.9),29)*e,n[t+", "+e]=r,r)};var og,ug,oa={},Fr={},I2,q2,dl,Dd,La,ll,ul,aa,us,fd,KC,QC,cg,dg,F2,H2=function(e,n,r){r.x=n.x-e.x,r.y=n.y-e.y,r.len=Math.sqrt(r.x*r.x+r.y*r.y),r.nx=r.x/r.len,r.ny=r.y/r.len,r.ang=Math.atan2(r.ny,r.nx)},vB=function(e,n){n.x=e.x*-1,n.y=e.y*-1,n.nx=e.nx*-1,n.ny=e.ny*-1,n.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},pB=function(e,n,r,i,l){if(e!==F2?H2(n,e,oa):vB(Fr,oa),H2(n,r,Fr),I2=oa.nx*Fr.ny-oa.ny*Fr.nx,q2=oa.nx*Fr.nx-oa.ny*-Fr.ny,La=Math.asin(Math.max(-1,Math.min(1,I2))),Math.abs(La)<1e-6){og=n.x,ug=n.y,ul=us=0;return}dl=1,Dd=!1,q2<0?La<0?La=Math.PI+La:(La=Math.PI-La,dl=-1,Dd=!0):La>0&&(dl=-1,Dd=!0),n.radius!==void 0?us=n.radius:us=i,ll=La/2,fd=Math.min(oa.len/2,Fr.len/2),l?(aa=Math.abs(Math.cos(ll)*us/Math.sin(ll)),aa>fd?(aa=fd,ul=Math.abs(aa*Math.sin(ll)/Math.cos(ll))):ul=us):(aa=Math.min(fd,us),ul=Math.abs(aa*Math.sin(ll)/Math.cos(ll))),cg=n.x+Fr.nx*aa,dg=n.y+Fr.ny*aa,og=cg-Fr.ny*ul*dl,ug=dg+Fr.nx*ul*dl,KC=n.x+oa.nx*aa,QC=n.y+oa.ny*aa,F2=n};function ZC(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function uy(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return r===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(pB(t,e,n,r,i),{cx:og,cy:ug,radius:ul,startX:KC,startY:QC,stopX:cg,stopY:dg,startAngle:oa.ang+Math.PI/2*dl,endAngle:Fr.ang-Math.PI/2*dl,counterClockwise:Dd})}var pu=.01,mB=Math.sqrt(2*pu),Qn={};Qn.findMidptPtsEtc=function(t,e){var n=e.posPts,r=e.intersectionPts,i=e.vectorNormInverse,l,s=t.pstyle("source-endpoint"),u=t.pstyle("target-endpoint"),d=s.units!=null&&u.units!=null,c=function(M,R,A,O){var B=O-R,P=A-M,q=Math.sqrt(P*P+B*B);return{x:-B/q,y:P/q}},h=t.pstyle("edge-distances").value;switch(h){case"node-position":l=n;break;case"intersection":l=r;break;case"endpoints":{if(d){var v=this.manualEndptToPx(t.source()[0],s),m=Tn(v,2),y=m[0],x=m[1],S=this.manualEndptToPx(t.target()[0],u),w=Tn(S,2),E=w[0],T=w[1],k={x1:y,y1:x,x2:E,y2:T};i=c(y,x,E,T),l=k}else qt("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),l=r;break}}return{midptPts:l,vectorNormInverse:i}};Qn.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n._private,i=r.rscratch;if(!i.haystack){var l=Math.random()*2*Math.PI;i.source={x:Math.cos(l),y:Math.sin(l)},l=Math.random()*2*Math.PI,i.target={x:Math.cos(l),y:Math.sin(l)}}var s=r.source,u=r.target,d=s.position(),c=u.position(),h=s.width(),v=u.width(),m=s.height(),y=u.height(),x=n.pstyle("haystack-radius").value,S=x/2;i.haystackPts=i.allpts=[i.source.x*h*S+d.x,i.source.y*m*S+d.y,i.target.x*v*S+c.x,i.target.y*y*S+c.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}};Qn.findSegmentsPoints=function(t,e){var n=t._private.rscratch,r=t.pstyle("segment-weights"),i=t.pstyle("segment-distances"),l=t.pstyle("segment-radii"),s=t.pstyle("radius-type"),u=Math.min(r.pfValue.length,i.pfValue.length),d=l.pfValue[l.pfValue.length-1],c=s.pfValue[s.pfValue.length-1];n.edgeType="segments",n.segpts=[],n.radii=[],n.isArcRadius=[];for(var h=0;h<u;h++){var v=r.pfValue[h],m=i.pfValue[h],y=1-v,x=v,S=this.findMidptPtsEtc(t,e),w=S.midptPts,E=S.vectorNormInverse,T={x:w.x1*y+w.x2*x,y:w.y1*y+w.y2*x};n.segpts.push(T.x+E.x*m,T.y+E.y*m),n.radii.push(l.pfValue[h]!==void 0?l.pfValue[h]:d),n.isArcRadius.push((s.pfValue[h]!==void 0?s.pfValue[h]:c)==="arc-radius")}};Qn.findLoopPoints=function(t,e,n,r){var i=t._private.rscratch,l=e.dirCounts,s=e.srcPos,u=t.pstyle("control-point-distances"),d=u?u.pfValue[0]:void 0,c=t.pstyle("loop-direction").pfValue,h=t.pstyle("loop-sweep").pfValue,v=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var m=n,y=v;r&&(m=0,y=d);var x=c-Math.PI/2,S=x-h/2,w=x+h/2,E=c+"_"+h;m=l[E]===void 0?l[E]=0:++l[E],i.ctrlpts=[s.x+Math.cos(S)*1.4*y*(m/3+1),s.y+Math.sin(S)*1.4*y*(m/3+1),s.x+Math.cos(w)*1.4*y*(m/3+1),s.y+Math.sin(w)*1.4*y*(m/3+1)]};Qn.findCompoundLoopPoints=function(t,e,n,r){var i=t._private.rscratch;i.edgeType="compound";var l=e.srcPos,s=e.tgtPos,u=e.srcW,d=e.srcH,c=e.tgtW,h=e.tgtH,v=t.pstyle("control-point-step-size").pfValue,m=t.pstyle("control-point-distances"),y=m?m.pfValue[0]:void 0,x=n,S=v;r&&(x=0,S=y);var w=50,E={x:l.x-u/2,y:l.y-d/2},T={x:s.x-c/2,y:s.y-h/2},k={x:Math.min(E.x,T.x),y:Math.min(E.y,T.y)},N=.5,M=Math.max(N,Math.log(u*pu)),R=Math.max(N,Math.log(c*pu));i.ctrlpts=[k.x,k.y-(1+Math.pow(w,1.12)/100)*S*(x/3+1)*M,k.x-(1+Math.pow(w,1.12)/100)*S*(x/3+1)*R,k.y]};Qn.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Qn.findBezierPoints=function(t,e,n,r,i){var l=t._private.rscratch,s=t.pstyle("control-point-step-size").pfValue,u=t.pstyle("control-point-distances"),d=t.pstyle("control-point-weights"),c=u&&d?Math.min(u.value.length,d.value.length):1,h=u?u.pfValue[0]:void 0,v=d.value[0],m=r;l.edgeType=m?"multibezier":"bezier",l.ctrlpts=[];for(var y=0;y<c;y++){var x=(.5-e.eles.length/2+n)*s*(i?-1:1),S=void 0,w=Qg(x);m&&(h=u?u.pfValue[y]:s,v=d.value[y]),r?S=h:S=h!==void 0?w*h:void 0;var E=S!==void 0?S:x,T=1-v,k=v,N=this.findMidptPtsEtc(t,e),M=N.midptPts,R=N.vectorNormInverse,A={x:M.x1*T+M.x2*k,y:M.y1*T+M.y2*k};l.ctrlpts.push(A.x+R.x*E,A.y+R.y*E)}};Qn.findTaxiPoints=function(t,e){var n=t._private.rscratch;n.edgeType="segments";var r="vertical",i="horizontal",l="leftward",s="rightward",u="downward",d="upward",c="auto",h=e.posPts,v=e.srcW,m=e.srcH,y=e.tgtW,x=e.tgtH,S=t.pstyle("edge-distances").value,w=S!=="node-position",E=t.pstyle("taxi-direction").value,T=E,k=t.pstyle("taxi-turn"),N=k.units==="%",M=k.pfValue,R=M<0,A=t.pstyle("taxi-turn-min-distance").pfValue,O=w?(v+y)/2:0,B=w?(m+x)/2:0,P=h.x2-h.x1,q=h.y2-h.y1,L=function(Y,U){return Y>0?Math.max(Y-U,0):Math.min(Y+U,0)},D=L(P,O),F=L(q,B),$=!1;T===c?E=Math.abs(D)>Math.abs(F)?i:r:T===d||T===u?(E=r,$=!0):(T===l||T===s)&&(E=i,$=!0);var H=E===r,V=H?F:D,K=H?q:P,ee=Qg(K),I=!1;!($&&(N||R))&&(T===u&&K<0||T===d&&K>0||T===l&&K>0||T===s&&K<0)&&(ee*=-1,V=ee*Math.abs(V),I=!0);var _;if(N){var X=M<0?1+M:M;_=X*V}else{var z=M<0?V:0;_=z+M*ee}var ne=function(Y){return Math.abs(Y)<A||Math.abs(Y)>=Math.abs(V)},le=ne(_),de=ne(Math.abs(V)-Math.abs(_)),ye=le||de;if(ye&&!I)if(H){var je=Math.abs(K)<=m/2,xe=Math.abs(P)<=y/2;if(je){var ie=(h.x1+h.x2)/2,ue=h.y1,pe=h.y2;n.segpts=[ie,ue,ie,pe]}else if(xe){var Te=(h.y1+h.y2)/2,Le=h.x1,Ye=h.x2;n.segpts=[Le,Te,Ye,Te]}else n.segpts=[h.x1,h.y2]}else{var dt=Math.abs(K)<=v/2,nt=Math.abs(q)<=x/2;if(dt){var $e=(h.y1+h.y2)/2,Ge=h.x1,Pe=h.x2;n.segpts=[Ge,$e,Pe,$e]}else if(nt){var Xe=(h.x1+h.x2)/2,We=h.y1,at=h.y2;n.segpts=[Xe,We,Xe,at]}else n.segpts=[h.x2,h.y1]}else if(H){var Ue=h.y1+_+(w?m/2*ee:0),ft=h.x1,he=h.x2;n.segpts=[ft,Ue,he,Ue]}else{var Ae=h.x1+_+(w?v/2*ee:0),_e=h.y1,Ve=h.y2;n.segpts=[Ae,_e,Ae,Ve]}if(n.isRound){var qe=t.pstyle("taxi-radius").value,Ie=t.pstyle("radius-type").value[0]==="arc-radius";n.radii=new Array(n.segpts.length/2).fill(qe),n.isArcRadius=new Array(n.segpts.length/2).fill(Ie)}};Qn.tryToCorrectInvalidPoints=function(t,e){var n=t._private.rscratch;if(n.edgeType==="bezier"){var r=e.srcPos,i=e.tgtPos,l=e.srcW,s=e.srcH,u=e.tgtW,d=e.tgtH,c=e.srcShape,h=e.tgtShape,v=e.srcCornerRadius,m=e.tgtCornerRadius,y=e.srcRs,x=e.tgtRs,S=!Fe(n.startX)||!Fe(n.startY),w=!Fe(n.arrowStartX)||!Fe(n.arrowStartY),E=!Fe(n.endX)||!Fe(n.endY),T=!Fe(n.arrowEndX)||!Fe(n.arrowEndY),k=3,N=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,M=k*N,R=ml({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),A=R<M,O=ml({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),B=O<M,P=!1;if(S||w||A){P=!0;var q={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},L=Math.sqrt(q.x*q.x+q.y*q.y),D={x:q.x/L,y:q.y/L},F=Math.max(l,s),$={x:n.ctrlpts[0]+D.x*2*F,y:n.ctrlpts[1]+D.y*2*F},H=c.intersectLine(r.x,r.y,l,s,$.x,$.y,0,v,y);A?(n.ctrlpts[0]=n.ctrlpts[0]+D.x*(M-R),n.ctrlpts[1]=n.ctrlpts[1]+D.y*(M-R)):(n.ctrlpts[0]=H[0]+D.x*M,n.ctrlpts[1]=H[1]+D.y*M)}if(E||T||B){P=!0;var V={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},K=Math.sqrt(V.x*V.x+V.y*V.y),ee={x:V.x/K,y:V.y/K},I=Math.max(l,s),_={x:n.ctrlpts[0]+ee.x*2*I,y:n.ctrlpts[1]+ee.y*2*I},X=h.intersectLine(i.x,i.y,u,d,_.x,_.y,0,m,x);B?(n.ctrlpts[0]=n.ctrlpts[0]+ee.x*(M-O),n.ctrlpts[1]=n.ctrlpts[1]+ee.y*(M-O)):(n.ctrlpts[0]=X[0]+ee.x*M,n.ctrlpts[1]=X[1]+ee.y*M)}P&&this.findEndpoints(t)}};Qn.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var n=0;n+1<e.ctrlpts.length;n+=2)e.allpts.push(e.ctrlpts[n],e.ctrlpts[n+1]),n+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[n]+e.ctrlpts[n+2])/2,(e.ctrlpts[n+1]+e.ctrlpts[n+3])/2);e.allpts.push(e.endX,e.endY);var r,i;e.ctrlpts.length/2%2===0?(r=e.allpts.length/2-1,e.midX=e.allpts[r],e.midY=e.allpts[r+1]):(r=e.allpts.length/2-3,i=.5,e.midX=Bn(e.allpts[r],e.allpts[r+2],e.allpts[r+4],i),e.midY=Bn(e.allpts[r+1],e.allpts[r+3],e.allpts[r+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var l=2;l+3<e.allpts.length;l+=2){var s=e.radii[l/2-1],u=e.isArcRadius[l/2-1];e.roundCorners.push(uy({x:e.allpts[l-2],y:e.allpts[l-1]},{x:e.allpts[l],y:e.allpts[l+1],radius:s},{x:e.allpts[l+2],y:e.allpts[l+3]},s,u))}}if(e.segpts.length%4===0){var d=e.segpts.length/2,c=d-2;e.midX=(e.segpts[c]+e.segpts[d])/2,e.midY=(e.segpts[c+1]+e.segpts[d+1])/2}else{var h=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[h],e.midY=e.segpts[h+1];else{var v={x:e.segpts[h],y:e.segpts[h+1]},m=e.roundCorners[h/2];if(m.radius===0){var y={x:e.segpts[h+2],y:e.segpts[h+3]};e.midX=v.x,e.midY=v.y,e.midVector=[v.y-y.y,y.x-v.x]}else{var x=[v.x-m.cx,v.y-m.cy],S=m.radius/Math.sqrt(Math.pow(x[0],2)+Math.pow(x[1],2));x=x.map(function(w){return w*S}),e.midX=m.cx+x[0],e.midY=m.cy+x[1],e.midVector=x}}}}};Qn.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Fe(e.startX)&&Fe(e.startY)&&Fe(e.endX)&&Fe(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,qt("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Qn.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var n=this,r=n.cy,i=r.hasCompoundNodes(),l=new _a,s=function(B,P){return[].concat(Fd(B),[P?1:0]).join("-")},u=[],d=[],c=0;c<t.length;c++){var h=t[c],v=h._private,m=h.pstyle("curve-style").value;if(!(h.removed()||!h.takesUpSpace())){if(m==="haystack"){d.push(h);continue}var y=m==="unbundled-bezier"||Ci(m,"segments")||m==="straight"||m==="straight-triangle"||Ci(m,"taxi"),x=m==="unbundled-bezier"||m==="bezier",S=v.source,w=v.target,E=S.poolIndex(),T=w.poolIndex(),k=[E,T].sort(),N=s(k,y),M=l.get(N);M==null&&(M={eles:[]},u.push({pairId:k,edgeIsUnbundled:y}),l.set(N,M)),M.eles.push(h),y&&(M.hasUnbundled=!0),x&&(M.hasBezier=!0)}}for(var R=function(){var B=u[A],P=B.pairId,q=B.edgeIsUnbundled,L=s(P,q),D=l.get(L),F;if(!D.hasUnbundled){var $=D.eles[0].parallelEdges().filter(function(Ie){return Ie.isBundledBezier()});Xg(D.eles),$.forEach(function(Ie){return D.eles.push(Ie)}),D.eles.sort(function(Ie,Ce){return Ie.poolIndex()-Ce.poolIndex()})}var H=D.eles[0],V=H.source(),K=H.target();if(V.poolIndex()>K.poolIndex()){var ee=V;V=K,K=ee}var I=D.srcPos=V.position(),_=D.tgtPos=K.position(),X=D.srcW=V.outerWidth(),z=D.srcH=V.outerHeight(),ne=D.tgtW=K.outerWidth(),le=D.tgtH=K.outerHeight(),de=D.srcShape=n.nodeShapes[e.getNodeShape(V)],ye=D.tgtShape=n.nodeShapes[e.getNodeShape(K)],je=D.srcCornerRadius=V.pstyle("corner-radius").value==="auto"?"auto":V.pstyle("corner-radius").pfValue,xe=D.tgtCornerRadius=K.pstyle("corner-radius").value==="auto"?"auto":K.pstyle("corner-radius").pfValue,ie=D.tgtRs=K._private.rscratch,ue=D.srcRs=V._private.rscratch;D.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var pe=0;pe<D.eles.length;pe++){var Te=D.eles[pe],Le=Te[0]._private.rscratch,Ye=Te.pstyle("curve-style").value,dt=Ye==="unbundled-bezier"||Ci(Ye,"segments")||Ci(Ye,"taxi"),nt=!V.same(Te.source());if(!D.calculatedIntersection&&V!==K&&(D.hasBezier||D.hasUnbundled)){D.calculatedIntersection=!0;var $e=de.intersectLine(I.x,I.y,X,z,_.x,_.y,0,je,ue),Ge=D.srcIntn=$e,Pe=ye.intersectLine(_.x,_.y,ne,le,I.x,I.y,0,xe,ie),Xe=D.tgtIntn=Pe,We=D.intersectionPts={x1:$e[0],x2:Pe[0],y1:$e[1],y2:Pe[1]},at=D.posPts={x1:I.x,x2:_.x,y1:I.y,y2:_.y},Ue=Pe[1]-$e[1],ft=Pe[0]-$e[0],he=Math.sqrt(ft*ft+Ue*Ue);Fe(he)&&he>=mB||(he=Math.sqrt(Math.max(ft*ft,pu)+Math.max(Ue*Ue,pu)));var Ae=D.vector={x:ft,y:Ue},_e=D.vectorNorm={x:Ae.x/he,y:Ae.y/he},Ve={x:-_e.y,y:_e.x};D.nodesOverlap=!Fe(he)||ye.checkPoint($e[0],$e[1],0,ne,le,_.x,_.y,xe,ie)||de.checkPoint(Pe[0],Pe[1],0,X,z,I.x,I.y,je,ue),D.vectorNormInverse=Ve,F={nodesOverlap:D.nodesOverlap,dirCounts:D.dirCounts,calculatedIntersection:!0,hasBezier:D.hasBezier,hasUnbundled:D.hasUnbundled,eles:D.eles,srcPos:_,srcRs:ie,tgtPos:I,tgtRs:ue,srcW:ne,srcH:le,tgtW:X,tgtH:z,srcIntn:Xe,tgtIntn:Ge,srcShape:ye,tgtShape:de,posPts:{x1:at.x2,y1:at.y2,x2:at.x1,y2:at.y1},intersectionPts:{x1:We.x2,y1:We.y2,x2:We.x1,y2:We.y1},vector:{x:-Ae.x,y:-Ae.y},vectorNorm:{x:-_e.x,y:-_e.y},vectorNormInverse:{x:-Ve.x,y:-Ve.y}}}var qe=nt?F:D;Le.nodesOverlap=qe.nodesOverlap,Le.srcIntn=qe.srcIntn,Le.tgtIntn=qe.tgtIntn,Le.isRound=Ye.startsWith("round"),i&&(V.isParent()||V.isChild()||K.isParent()||K.isChild())&&(V.parents().anySame(K)||K.parents().anySame(V)||V.same(K)&&V.isParent())?e.findCompoundLoopPoints(Te,qe,pe,dt):V===K?e.findLoopPoints(Te,qe,pe,dt):Ye.endsWith("segments")?e.findSegmentsPoints(Te,qe):Ye.endsWith("taxi")?e.findTaxiPoints(Te,qe):Ye==="straight"||!dt&&D.eles.length%2===1&&pe===Math.floor(D.eles.length/2)?e.findStraightEdgePoints(Te):e.findBezierPoints(Te,qe,pe,dt,nt),e.findEndpoints(Te),e.tryToCorrectInvalidPoints(Te,qe),e.checkForInvalidEdgeWarning(Te),e.storeAllpts(Te),e.storeEdgeProjections(Te),e.calculateArrowAngles(Te),e.recalculateEdgeLabelProjections(Te),e.calculateLabelAngles(Te)}},A=0;A<u.length;A++)R();this.findHaystackPoints(d)}};function WC(t){var e=[];if(t!=null){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e.push({x:r,y:i})}return e}}Qn.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var n=e.edgeType;if(n==="segments")return WC(e.segpts)};Qn.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var n=e.edgeType;if(n==="bezier"||n==="multibezier"||n==="self"||n==="compound")return WC(e.ctrlpts)};Qn.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var ju={};ju.manualEndptToPx=function(t,e){var n=this,r=t.position(),i=t.outerWidth(),l=t.outerHeight(),s=t._private.rscratch;if(e.value.length===2){var u=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(u[0]=u[0]*i),e.units[1]==="%"&&(u[1]=u[1]*l),u[0]+=r.x,u[1]+=r.y,u}else{var d=e.pfValue[0];d=-Math.PI/2+d;var c=2*Math.max(i,l),h=[r.x+Math.cos(d)*c,r.y+Math.sin(d)*c];return n.nodeShapes[this.getNodeShape(t)].intersectLine(r.x,r.y,i,l,h[0],h[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,s)}};ju.findEndpoints=function(t){var e,n,r,i,l=this,s,u=t.source()[0],d=t.target()[0],c=u.position(),h=d.position(),v=t.pstyle("target-arrow-shape").value,m=t.pstyle("source-arrow-shape").value,y=t.pstyle("target-distance-from-node").pfValue,x=t.pstyle("source-distance-from-node").pfValue,S=u._private.rscratch,w=d._private.rscratch,E=t.pstyle("curve-style").value,T=t._private.rscratch,k=T.edgeType,N=Ci(E,"taxi"),M=k==="self"||k==="compound",R=k==="bezier"||k==="multibezier"||M,A=k!=="bezier",O=k==="straight"||k==="segments",B=k==="segments",P=R||A||O,q=M||N,L=t.pstyle("source-endpoint"),D=q?"outside-to-node":L.value,F=u.pstyle("corner-radius").value==="auto"?"auto":u.pstyle("corner-radius").pfValue,$=t.pstyle("target-endpoint"),H=q?"outside-to-node":$.value,V=d.pstyle("corner-radius").value==="auto"?"auto":d.pstyle("corner-radius").pfValue;T.srcManEndpt=L,T.tgtManEndpt=$;var K,ee,I,_,X=(e=($==null||(n=$.pfValue)===null||n===void 0?void 0:n.length)===2?$.pfValue:null)!==null&&e!==void 0?e:[0,0],z=(r=(L==null||(i=L.pfValue)===null||i===void 0?void 0:i.length)===2?L.pfValue:null)!==null&&r!==void 0?r:[0,0];if(R){var ne=[T.ctrlpts[0],T.ctrlpts[1]],le=A?[T.ctrlpts[T.ctrlpts.length-2],T.ctrlpts[T.ctrlpts.length-1]]:ne;K=le,ee=ne}else if(O){var de=B?T.segpts.slice(0,2):[h.x+X[0],h.y+X[1]],ye=B?T.segpts.slice(T.segpts.length-2):[c.x+z[0],c.y+z[1]];K=ye,ee=de}if(H==="inside-to-node")s=[h.x,h.y];else if($.units)s=this.manualEndptToPx(d,$);else if(H==="outside-to-line")s=T.tgtIntn;else if(H==="outside-to-node"||H==="outside-to-node-or-label"?I=K:(H==="outside-to-line"||H==="outside-to-line-or-label")&&(I=[c.x,c.y]),s=l.nodeShapes[this.getNodeShape(d)].intersectLine(h.x,h.y,d.outerWidth(),d.outerHeight(),I[0],I[1],0,V,w),H==="outside-to-node-or-label"||H==="outside-to-line-or-label"){var je=d._private.rscratch,xe=je.labelWidth,ie=je.labelHeight,ue=je.labelX,pe=je.labelY,Te=xe/2,Le=ie/2,Ye=d.pstyle("text-valign").value;Ye==="top"?pe-=Le:Ye==="bottom"&&(pe+=Le);var dt=d.pstyle("text-halign").value;dt==="left"?ue-=Te:dt==="right"&&(ue+=Te);var nt=cu(I[0],I[1],[ue-Te,pe-Le,ue+Te,pe-Le,ue+Te,pe+Le,ue-Te,pe+Le],h.x,h.y);if(nt.length>0){var $e=c,Ge=ol($e,ms(s)),Pe=ol($e,ms(nt)),Xe=Ge;if(Pe<Ge&&(s=nt,Xe=Pe),nt.length>2){var We=ol($e,{x:nt[2],y:nt[3]});We<Xe&&(s=[nt[2],nt[3]])}}}var at=id(s,K,l.arrowShapes[v].spacing(t)+y),Ue=id(s,K,l.arrowShapes[v].gap(t)+y);if(T.endX=Ue[0],T.endY=Ue[1],T.arrowEndX=at[0],T.arrowEndY=at[1],D==="inside-to-node")s=[c.x,c.y];else if(L.units)s=this.manualEndptToPx(u,L);else if(D==="outside-to-line")s=T.srcIntn;else if(D==="outside-to-node"||D==="outside-to-node-or-label"?_=ee:(D==="outside-to-line"||D==="outside-to-line-or-label")&&(_=[h.x,h.y]),s=l.nodeShapes[this.getNodeShape(u)].intersectLine(c.x,c.y,u.outerWidth(),u.outerHeight(),_[0],_[1],0,F,S),D==="outside-to-node-or-label"||D==="outside-to-line-or-label"){var ft=u._private.rscratch,he=ft.labelWidth,Ae=ft.labelHeight,_e=ft.labelX,Ve=ft.labelY,qe=he/2,Ie=Ae/2,Ce=u.pstyle("text-valign").value;Ce==="top"?Ve-=Ie:Ce==="bottom"&&(Ve+=Ie);var Y=u.pstyle("text-halign").value;Y==="left"?_e-=qe:Y==="right"&&(_e+=qe);var U=cu(_[0],_[1],[_e-qe,Ve-Ie,_e+qe,Ve-Ie,_e+qe,Ve+Ie,_e-qe,Ve+Ie],c.x,c.y);if(U.length>0){var Q=h,Z=ol(Q,ms(s)),J=ol(Q,ms(U)),ce=Z;if(J<Z&&(s=[U[0],U[1]],ce=J),U.length>2){var re=ol(Q,{x:U[2],y:U[3]});re<ce&&(s=[U[2],U[3]])}}}var me=id(s,ee,l.arrowShapes[m].spacing(t)+x),oe=id(s,ee,l.arrowShapes[m].gap(t)+x);T.startX=oe[0],T.startY=oe[1],T.arrowStartX=me[0],T.arrowStartY=me[1],P&&(!Fe(T.startX)||!Fe(T.startY)||!Fe(T.endX)||!Fe(T.endY)?T.badLine=!0:T.badLine=!1)};ju.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};ju.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var cy={};function gB(t,e,n){for(var r=function(c,h,v,m){return Bn(c,h,v,m)},i=e._private,l=i.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var u=t.bezierProjPcts[s];l.push({x:r(n[0],n[2],n[4],u),y:r(n[1],n[3],n[5],u)})}}cy.storeEdgeProjections=function(t){var e=t._private,n=e.rscratch,r=n.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,r==="multibezier"||r==="bezier"||r==="self"||r==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<n.allpts.length;i+=4)gB(this,t,n.allpts.slice(i,i+6))}else if(r==="segments")for(var l=e.rstyle.linePts=[],i=0;i+1<n.allpts.length;i+=2)l.push({x:n.allpts[i],y:n.allpts[i+1]});else if(r==="haystack"){var s=n.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};cy.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var ma={};ma.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!Ri(e)){var n,r,i=t._private,l=t.width(),s=t.height(),u=t.padding(),d=t.position(),c=t.pstyle("text-halign").strValue,h=t.pstyle("text-valign").strValue,v=i.rscratch,m=i.rstyle;switch(c){case"left":n=d.x-l/2-u;break;case"right":n=d.x+l/2+u;break;default:n=d.x}switch(h){case"top":r=d.y-s/2-u;break;case"bottom":r=d.y+s/2+u;break;default:r=d.y}v.labelX=n,v.labelY=r,m.labelX=n,m.labelY=r,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var JC=function(e,n){var r=Math.atan(n/e);return e===0&&r<0&&(r=r*-1),r},eT=function(e,n){var r=n.x-e.x,i=n.y-e.y;return JC(r,i)},yB=function(e,n,r,i){var l=uu(0,i-.001,1),s=uu(0,i+.001,1),u=xs(e,n,r,l),d=xs(e,n,r,s);return eT(u,d)};ma.recalculateEdgeLabelProjections=function(t){var e,n=t._private,r=n.rscratch,i=this,l={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(l.mid||l.source||l.target){e={x:r.midX,y:r.midY};var s=function(v,m,y){za(n.rscratch,v,m,y),za(n.rstyle,v,m,y)};s("labelX",null,e.x),s("labelY",null,e.y);var u=JC(r.midDispX,r.midDispY);s("labelAutoAngle",null,u);var d=function(){if(d.cache)return d.cache;for(var v=[],m=0;m+5<r.allpts.length;m+=4){var y={x:r.allpts[m],y:r.allpts[m+1]},x={x:r.allpts[m+2],y:r.allpts[m+3]},S={x:r.allpts[m+4],y:r.allpts[m+5]};v.push({p0:y,p1:x,p2:S,startDist:0,length:0,segments:[]})}var w=n.rstyle.bezierPts,E=i.bezierProjPcts.length;function T(A,O,B,P,q){var L=ml(O,B),D=A.segments[A.segments.length-1],F={p0:O,p1:B,t0:P,t1:q,startDist:D?D.startDist+D.length:0,length:L};A.segments.push(F),A.length+=L}for(var k=0;k<v.length;k++){var N=v[k],M=v[k-1];M&&(N.startDist=M.startDist+M.length),T(N,N.p0,w[k*E],0,i.bezierProjPcts[0]);for(var R=0;R<E-1;R++)T(N,w[k*E+R],w[k*E+R+1],i.bezierProjPcts[R],i.bezierProjPcts[R+1]);T(N,w[k*E+E-1],N.p2,i.bezierProjPcts[E-1],1)}return d.cache=v},c=function(v){var m,y=v==="source";if(l[v]){var x=t.pstyle(v+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var S=d(),w,E=0,T=0,k=0;k<S.length;k++){for(var N=S[y?k:S.length-1-k],M=0;M<N.segments.length;M++){var R=N.segments[y?M:N.segments.length-1-M],A=k===S.length-1&&M===N.segments.length-1;if(E=T,T+=R.length,T>=x||A){w={cp:N,segment:R};break}}if(w)break}var O=w.cp,B=w.segment,P=(x-E)/B.length,q=B.t1-B.t0,L=y?B.t0+q*P:B.t1-q*P;L=uu(0,L,1),e=xs(O.p0,O.p1,O.p2,L),m=yB(O.p0,O.p1,O.p2,L);break}case"straight":case"segments":case"haystack":{for(var D=0,F,$,H,V,K=r.allpts.length,ee=0;ee+3<K&&(y?(H={x:r.allpts[ee],y:r.allpts[ee+1]},V={x:r.allpts[ee+2],y:r.allpts[ee+3]}):(H={x:r.allpts[K-2-ee],y:r.allpts[K-1-ee]},V={x:r.allpts[K-4-ee],y:r.allpts[K-3-ee]}),F=ml(H,V),$=D,D+=F,!(D>=x));ee+=2);var I=x-$,_=I/F;_=uu(0,_,1),e=qD(H,V,_),m=eT(H,V);break}}s("labelX",v,e.x),s("labelY",v,e.y),s("labelAutoAngle",v,m)}};c("source"),c("target"),this.applyLabelDimensions(t)}};ma.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};ma.applyPrefixedLabelDimensions=function(t,e){var n=t._private,r=this.getLabelText(t,e),i=pl(r,t._private.labelDimsKey);if(fr(n.rscratch,"prefixedLabelDimsKey",e)!==i){za(n.rscratch,"prefixedLabelDimsKey",e,i);var l=this.calculateLabelDimensions(t,r),s=t.pstyle("line-height").pfValue,u=t.pstyle("text-wrap").strValue,d=fr(n.rscratch,"labelWrapCachedLines",e)||[],c=u!=="wrap"?1:Math.max(d.length,1),h=l.height/c,v=h*s,m=l.width,y=l.height+(c-1)*(s-1)*h;za(n.rstyle,"labelWidth",e,m),za(n.rscratch,"labelWidth",e,m),za(n.rstyle,"labelHeight",e,y),za(n.rscratch,"labelHeight",e,y),za(n.rscratch,"labelLineHeight",e,v)}};ma.getLabelText=function(t,e){var n=t._private,r=e?e+"-":"",i=t.pstyle(r+"label").strValue,l=t.pstyle("text-transform").value,s=function(z,ne){return ne?(za(n.rscratch,z,e,ne),ne):fr(n.rscratch,z,e)};if(!i)return"";l=="none"||(l=="uppercase"?i=i.toUpperCase():l=="lowercase"&&(i=i.toLowerCase()));var u=t.pstyle("text-wrap").value;if(u==="wrap"){var d=s("labelKey");if(d!=null&&s("labelWrapKey")===d)return s("labelWrapCachedText");for(var c="",h=i.split(`
`),v=t.pstyle("text-max-width").pfValue,m=t.pstyle("text-overflow-wrap").value,y=m==="anywhere",x=[],S=/[\s\u200b]+|$/g,w=0;w<h.length;w++){var E=h[w],T=this.calculateLabelDimensions(t,E),k=T.width;if(y){var N=E.split("").join(c);E=N}if(k>v){var M=E.matchAll(S),R="",A=0,O=vr(M),B;try{for(O.s();!(B=O.n()).done;){var P=B.value,q=P[0],L=E.substring(A,P.index);A=P.index+q.length;var D=R.length===0?L:R+L+q,F=this.calculateLabelDimensions(t,D),$=F.width;$<=v?R+=L+q:(R&&x.push(R),R=L+q)}}catch(X){O.e(X)}finally{O.f()}R.match(/^[\s\u200b]+$/)||x.push(R)}else x.push(E)}s("labelWrapCachedLines",x),i=s("labelWrapCachedText",x.join(`
`)),s("labelWrapKey",d)}else if(u==="ellipsis"){var H=t.pstyle("text-max-width").pfValue,V="",K="",ee=!1;if(this.calculateLabelDimensions(t,i).width<H)return i;for(var I=0;I<i.length;I++){var _=this.calculateLabelDimensions(t,V+i[I]+K).width;if(_>H)break;V+=i[I],I===i.length-1&&(ee=!0)}return ee||(V+=K),V}return i};ma.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,n=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(n){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};ma.calculateLabelDimensions=function(t,e){var n=this,r=n.cy.window(),i=r.document,l=0,s=t.pstyle("font-style").strValue,u=t.pstyle("font-size").pfValue,d=t.pstyle("font-family").strValue,c=t.pstyle("font-weight").strValue,h=this.labelCalcCanvas,v=this.labelCalcCanvasContext;if(!h){h=this.labelCalcCanvas=i.createElement("canvas"),v=this.labelCalcCanvasContext=h.getContext("2d");var m=h.style;m.position="absolute",m.left="-9999px",m.top="-9999px",m.zIndex="-1",m.visibility="hidden",m.pointerEvents="none"}v.font="".concat(s," ").concat(c," ").concat(u,"px ").concat(d);for(var y=0,x=0,S=e.split(`
`),w=0;w<S.length;w++){var E=S[w],T=v.measureText(E),k=Math.ceil(T.width),N=u;y=Math.max(k,y),x+=N}return y+=l,x+=l,{width:y,height:x}};ma.calculateLabelAngle=function(t,e){var n=t._private,r=n.rscratch,i=t.isEdge(),l=e?e+"-":"",s=t.pstyle(l+"text-rotation"),u=s.strValue;return u==="none"?0:i&&u==="autorotate"?r.labelAutoAngle:u==="autorotate"?0:s.pfValue};ma.calculateLabelAngles=function(t){var e=this,n=t.isEdge(),r=t._private,i=r.rscratch;i.labelAngle=e.calculateLabelAngle(t),n&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var tT={},U2=28,V2=!1;tT.getNodeShape=function(t){var e=this,n=t.pstyle("shape").value;if(n==="cutrectangle"&&(t.width()<U2||t.height()<U2))return V2||(qt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),V2=!0),"rectangle";if(t.isParent())return n==="rectangle"||n==="roundrectangle"||n==="round-rectangle"||n==="cutrectangle"||n==="cut-rectangle"||n==="barrel"?n:"rectangle";if(n==="polygon"){var r=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(r).name}return n};var Cf={};Cf.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),n=this,r=function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),u)for(var d=0;d<s.length;d++){var c=s[d],h=c._private,v=h.rstyle;v.clean=!1,v.cleanConnected=!1}};n.binder(t).on("bounds.* dirty.*",function(s){var u=s.target;r(u)}).on("style.* background.*",function(s){var u=s.target;r(u,!1)});var i=function(s){if(s){var u=n.onUpdateEleCalcsFns;e.cleanStyle();for(var d=0;d<e.length;d++){var c=e[d],h=c._private.rstyle;c.isNode()&&!h.cleanConnected&&(r(c.connectedEdges()),h.cleanConnected=!0)}if(u)for(var v=0;v<u.length;v++){var m=u[v];m(s,e)}n.recalculateRenderedStyle(e),e=t.collection()}};n.flushRenderedStyleQueue=function(){i(!0)},n.beforeRender(i,n.beforeRenderPriorities.eleCalcs)};Cf.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Cf.recalculateRenderedStyle=function(t,e){var n=function(N){return N._private.rstyle.cleanConnected};if(t.length!==0){var r=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var l=0;l<t.length;l++){var s=t[l],u=s._private,d=u.rstyle;s.isEdge()&&(!n(s.source())||!n(s.target()))&&(d.clean=!1),s.isEdge()&&s.isBundledBezier()&&s.parallelEdges().some(function(k){return!k._private.rstyle.clean&&k.isBundledBezier()})&&(d.clean=!1),!(e&&d.clean||s.removed())&&s.pstyle("display").value!=="none"&&(u.group==="nodes"?i.push(s):r.push(s),d.clean=!0)}for(var c=0;c<i.length;c++){var h=i[c],v=h._private,m=v.rstyle,y=h.position();this.recalculateNodeLabelProjection(h),m.nodeX=y.x,m.nodeY=y.y,m.nodeW=h.pstyle("width").pfValue,m.nodeH=h.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var x=0;x<r.length;x++){var S=r[x],w=S._private,E=w.rstyle,T=w.rscratch;E.srcX=T.arrowStartX,E.srcY=T.arrowStartY,E.tgtX=T.arrowEndX,E.tgtY=T.arrowEndY,E.midX=T.midX,E.midY=T.midY,E.labelAngle=T.labelAngle,E.sourceLabelAngle=T.sourceLabelAngle,E.targetLabelAngle=T.targetLabelAngle}}}};var Tf={};Tf.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],n=0;n<t.length;n++){var r=t[n],i=r._private.rscratch;r.grabbed()&&!r.isParent()?e.push(r):i.inDragLayer?t.drag.push(r):t.nondrag.push(r)}for(var n=0;n<e.length;n++){var r=e[n];t.drag.push(r)}}};Tf.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Tf.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(zC),e.interactive=e.filter(function(n){return n.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var nT={};[Sl,Zd,Qn,ju,cy,ma,tT,Cf,Tf].forEach(function(t){st(nT,t)});var rT={};rT.getCachedImage=function(t,e,n){var r=this,i=r.imageCache=r.imageCache||{},l=i[t];if(l)return l.image.complete||l.image.addEventListener("load",n),l.image;l=i[t]=i[t]||{};var s=l.image=new Image;s.addEventListener("load",n),s.addEventListener("error",function(){s.error=!0});var u="data:",d=t.substring(0,u.length).toLowerCase()===u;return d||(e=e==="null"?null:e,s.crossOrigin=e),s.src=t,s};var Ls={};Ls.registerBinding=function(t,e,n,r){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var l=[],s=0;s<t.length;s++){var u=t[s];if(u!==void 0){var d=this.binder(u);l.push(d.on.apply(d,i))}}return l}var d=this.binder(t);return d.on.apply(d,i)};Ls.binder=function(t){var e=this,n=e.cy.window(),r=t===n||t===n.document||t===n.document.body||j5(t);if(e.supportsPassiveEvents==null){var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});n.addEventListener("test",null,l)}catch{}e.supportsPassiveEvents=i}var s=function(d,c,h){var v=Array.prototype.slice.call(arguments);return r&&e.supportsPassiveEvents&&(v[2]={capture:h??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:v}),(t.addEventListener||t.on).apply(t,v),this};return{on:s,addEventListener:s,addListener:s,bind:s}};Ls.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};Ls.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};Ls.load=function(){var t=this,e=t.cy.window(),n=function(Y){return Y.selected()},r=function(Y){var U=Y.getRootNode();if(U&&U.nodeType===11&&U.host!==void 0)return U},i=function(Y,U,Q,Z){Y==null&&(Y=t.cy);for(var J=0;J<U.length;J++){var ce=U[J];Y.emit({originalEvent:Q,type:ce,position:Z})}},l=function(Y){return Y.shiftKey||Y.metaKey||Y.ctrlKey},s=function(Y,U){var Q=!0;if(t.cy.hasCompoundNodes()&&Y&&Y.pannable())for(var Z=0;U&&Z<U.length;Z++){var Y=U[Z];if(Y.isNode()&&Y.isParent()&&!Y.pannable()){Q=!1;break}}else Q=!0;return Q},u=function(Y){Y[0]._private.grabbed=!0},d=function(Y){Y[0]._private.grabbed=!1},c=function(Y){Y[0]._private.rscratch.inDragLayer=!0},h=function(Y){Y[0]._private.rscratch.inDragLayer=!1},v=function(Y){Y[0]._private.rscratch.isGrabTarget=!0},m=function(Y){Y[0]._private.rscratch.isGrabTarget=!1},y=function(Y,U){var Q=U.addToList,Z=Q.has(Y);!Z&&Y.grabbable()&&!Y.locked()&&(Q.merge(Y),u(Y))},x=function(Y,U){if(Y.cy().hasCompoundNodes()&&!(U.inDragLayer==null&&U.addToList==null)){var Q=Y.descendants();U.inDragLayer&&(Q.forEach(c),Q.connectedEdges().forEach(c)),U.addToList&&y(Q,U)}},S=function(Y,U){U=U||{};var Q=Y.cy().hasCompoundNodes();U.inDragLayer&&(Y.forEach(c),Y.neighborhood().stdFilter(function(Z){return!Q||Z.isEdge()}).forEach(c)),U.addToList&&Y.forEach(function(Z){y(Z,U)}),x(Y,U),T(Y,{inDragLayer:U.inDragLayer}),t.updateCachedGrabbedEles()},w=S,E=function(Y){Y&&(t.getCachedZSortedEles().forEach(function(U){d(U),h(U),m(U)}),t.updateCachedGrabbedEles())},T=function(Y,U){if(!(U.inDragLayer==null&&U.addToList==null)&&Y.cy().hasCompoundNodes()){var Q=Y.ancestors().orphans();if(!Q.same(Y)){var Z=Q.descendants().spawnSelf().merge(Q).unmerge(Y).unmerge(Y.descendants()),J=Z.connectedEdges();U.inDragLayer&&(J.forEach(c),Z.forEach(c)),U.addToList&&Z.forEach(function(ce){y(ce,U)})}}},k=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},N=typeof MutationObserver<"u",M=typeof ResizeObserver<"u";N?(t.removeObserver=new MutationObserver(function(Ce){for(var Y=0;Y<Ce.length;Y++){var U=Ce[Y],Q=U.removedNodes;if(Q)for(var Z=0;Z<Q.length;Z++){var J=Q[Z];if(J===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(Ce){t.destroy()});var R=ku(function(){t.cy.resize()},100);N&&(t.styleObserver=new MutationObserver(R),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",R),M&&(t.resizeObserver=new ResizeObserver(R),t.resizeObserver.observe(t.container));var A=function(Y,U){for(;Y!=null;)U(Y),Y=Y.parentNode},O=function(){t.invalidateContainerClientCoordsCache()};A(t.container,function(Ce){t.registerBinding(Ce,"transitionend",O),t.registerBinding(Ce,"animationend",O),t.registerBinding(Ce,"scroll",O)}),t.registerBinding(t.container,"contextmenu",function(Ce){Ce.preventDefault()});var B=function(){return t.selection[4]!==0},P=function(Y){for(var U=t.findContainerClientCoords(),Q=U[0],Z=U[1],J=U[2],ce=U[3],re=Y.touches?Y.touches:[Y],me=!1,oe=0;oe<re.length;oe++){var Ee=re[oe];if(Q<=Ee.clientX&&Ee.clientX<=Q+J&&Z<=Ee.clientY&&Ee.clientY<=Z+ce){me=!0;break}}if(!me)return!1;for(var De=t.container,Oe=Y.target,Se=Oe.parentNode,Me=!1;Se;){if(Se===De){Me=!0;break}Se=Se.parentNode}return!!Me};t.registerBinding(t.container,"mousedown",function(Y){if(P(Y)&&!(t.hoverData.which===1&&Y.which!==1)){Y.preventDefault(),k(),t.hoverData.capture=!0,t.hoverData.which=Y.which;var U=t.cy,Q=[Y.clientX,Y.clientY],Z=t.projectIntoViewport(Q[0],Q[1]),J=t.selection,ce=t.findNearestElements(Z[0],Z[1],!0,!1),re=ce[0],me=t.dragData.possibleDragElements;t.hoverData.mdownPos=Z,t.hoverData.mdownGPos=Q;var oe=function(Be){return{originalEvent:Y,type:Be,position:{x:Z[0],y:Z[1]}}},Ee=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var Be=t.hoverData.down;Be?Be.emit(oe("taphold")):U.emit(oe("taphold"))}},t.tapholdDuration)};if(Y.which==3){t.hoverData.cxtStarted=!0;var De={originalEvent:Y,type:"cxttapstart",position:{x:Z[0],y:Z[1]}};re?(re.activate(),re.emit(De),t.hoverData.down=re):U.emit(De),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(Y.which==1){re&&re.activate();{if(re!=null&&t.nodeIsGrabbable(re)){var Oe=function(Be){Be.emit(oe("grab"))};if(v(re),!re.selected())me=t.dragData.possibleDragElements=U.collection(),w(re,{addToList:me}),re.emit(oe("grabon")).emit(oe("grab"));else{me=t.dragData.possibleDragElements=U.collection();var Se=U.$(function(Me){return Me.isNode()&&Me.selected()&&t.nodeIsGrabbable(Me)});S(Se,{addToList:me}),re.emit(oe("grabon")),Se.forEach(Oe)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=re,t.hoverData.downs=ce,t.hoverData.downTime=new Date().getTime()}i(re,["mousedown","tapstart","vmousedown"],Y,{x:Z[0],y:Z[1]}),re==null?(J[4]=1,t.data.bgActivePosistion={x:Z[0],y:Z[1]},t.redrawHint("select",!0),t.redraw()):re.pannable()&&(J[4]=1),Ee()}J[0]=J[2]=Z[0],J[1]=J[3]=Z[1]}},!1);var q=r(t.container);t.registerBinding([e,q],"mousemove",function(Y){var U=t.hoverData.capture;if(!(!U&&!P(Y))){var Q=!1,Z=t.cy,J=Z.zoom(),ce=[Y.clientX,Y.clientY],re=t.projectIntoViewport(ce[0],ce[1]),me=t.hoverData.mdownPos,oe=t.hoverData.mdownGPos,Ee=t.selection,De=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(De=t.findNearestElement(re[0],re[1],!0,!1));var Oe=t.hoverData.last,Se=t.hoverData.down,Me=[re[0]-Ee[2],re[1]-Ee[3]],Be=t.dragData.possibleDragElements,He;if(oe){var Ke=ce[0]-oe[0],et=Ke*Ke,it=ce[1]-oe[1],ot=it*it,ct=et+ot;t.hoverData.isOverThresholdDrag=He=ct>=t.desktopTapThreshold2}var vt=l(Y);He&&(t.hoverData.tapholdCancelled=!0);var At=function(){var sn=t.hoverData.dragDelta=t.hoverData.dragDelta||[];sn.length===0?(sn.push(Me[0]),sn.push(Me[1])):(sn[0]+=Me[0],sn[1]+=Me[1])};Q=!0,i(De,["mousemove","vmousemove","tapdrag"],Y,{x:re[0],y:re[1]});var lt=function(sn){return{originalEvent:Y,type:sn,position:{x:re[0],y:re[1]}}},Et=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||Z.emit(lt("boxstart")),Ee[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(He){var gt=lt("cxtdrag");Se?Se.emit(gt):Z.emit(gt),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||De!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit(lt("cxtdragout")),t.hoverData.cxtOver=De,De&&De.emit(lt("cxtdragover")))}}else if(t.hoverData.dragging){if(Q=!0,Z.panningEnabled()&&Z.userPanningEnabled()){var pt;if(t.hoverData.justStartedPan){var Mt=t.hoverData.mdownPos;pt={x:(re[0]-Mt[0])*J,y:(re[1]-Mt[1])*J},t.hoverData.justStartedPan=!1}else pt={x:Me[0]*J,y:Me[1]*J};Z.panBy(pt),Z.emit(lt("dragpan")),t.hoverData.dragged=!0}re=t.projectIntoViewport(Y.clientX,Y.clientY)}else if(Ee[4]==1&&(Se==null||Se.pannable())){if(He){if(!t.hoverData.dragging&&Z.boxSelectionEnabled()&&(vt||!Z.panningEnabled()||!Z.userPanningEnabled()))Et();else if(!t.hoverData.selecting&&Z.panningEnabled()&&Z.userPanningEnabled()){var ln=s(Se,t.hoverData.downs);ln&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Ee[4]=0,t.data.bgActivePosistion=ms(me),t.redrawHint("select",!0),t.redraw())}Se&&Se.pannable()&&Se.active()&&Se.unactivate()}}else{if(Se&&Se.pannable()&&Se.active()&&Se.unactivate(),(!Se||!Se.grabbed())&&De!=Oe&&(Oe&&i(Oe,["mouseout","tapdragout"],Y,{x:re[0],y:re[1]}),De&&i(De,["mouseover","tapdragover"],Y,{x:re[0],y:re[1]}),t.hoverData.last=De),Se)if(He){if(Z.boxSelectionEnabled()&&vt)Se&&Se.grabbed()&&(E(Be),Se.emit(lt("freeon")),Be.emit(lt("free")),t.dragData.didDrag&&(Se.emit(lt("dragfreeon")),Be.emit(lt("dragfree")))),Et();else if(Se&&Se.grabbed()&&t.nodeIsDraggable(Se)){var Ft=!t.dragData.didDrag;Ft&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||S(Be,{inDragLayer:!0});var Kt={x:0,y:0};if(Fe(Me[0])&&Fe(Me[1])&&(Kt.x+=Me[0],Kt.y+=Me[1],Ft)){var Vt=t.hoverData.dragDelta;Vt&&Fe(Vt[0])&&Fe(Vt[1])&&(Kt.x+=Vt[0],Kt.y+=Vt[1])}t.hoverData.draggingEles=!0,Be.silentShift(Kt).emit(lt("position")).emit(lt("drag")),t.redrawHint("drag",!0),t.redraw()}}else At();Q=!0}if(Ee[2]=re[0],Ee[3]=re[1],Q)return Y.stopPropagation&&Y.stopPropagation(),Y.preventDefault&&Y.preventDefault(),!1}},!1);var L,D,F;t.registerBinding(e,"mouseup",function(Y){if(!(t.hoverData.which===1&&Y.which!==1&&t.hoverData.capture)){var U=t.hoverData.capture;if(U){t.hoverData.capture=!1;var Q=t.cy,Z=t.projectIntoViewport(Y.clientX,Y.clientY),J=t.selection,ce=t.findNearestElement(Z[0],Z[1],!0,!1),re=t.dragData.possibleDragElements,me=t.hoverData.down,oe=l(Y);t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,me&&me.unactivate();var Ee=function(Ke){return{originalEvent:Y,type:Ke,position:{x:Z[0],y:Z[1]}}};if(t.hoverData.which===3){var De=Ee("cxttapend");if(me?me.emit(De):Q.emit(De),!t.hoverData.cxtDragged){var Oe=Ee("cxttap");me?me.emit(Oe):Q.emit(Oe)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(i(ce,["mouseup","tapend","vmouseup"],Y,{x:Z[0],y:Z[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(i(me,["click","tap","vclick"],Y,{x:Z[0],y:Z[1]}),D=!1,Y.timeStamp-F<=Q.multiClickDebounceTime()?(L&&clearTimeout(L),D=!0,F=null,i(me,["dblclick","dbltap","vdblclick"],Y,{x:Z[0],y:Z[1]})):(L=setTimeout(function(){D||i(me,["oneclick","onetap","voneclick"],Y,{x:Z[0],y:Z[1]})},Q.multiClickDebounceTime()),F=Y.timeStamp)),me==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!l(Y)&&(Q.$(n).unselect(["tapunselect"]),re.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=re=Q.collection()),ce==me&&!t.dragData.didDrag&&!t.hoverData.selecting&&ce!=null&&ce._private.selectable&&(t.hoverData.dragging||(Q.selectionType()==="additive"||oe?ce.selected()?ce.unselect(["tapunselect"]):ce.select(["tapselect"]):oe||(Q.$(n).unmerge(ce).unselect(["tapunselect"]),ce.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var Se=Q.collection(t.getAllInBox(J[0],J[1],J[2],J[3]));t.redrawHint("select",!0),Se.length>0&&t.redrawHint("eles",!0),Q.emit(Ee("boxend"));var Me=function(Ke){return Ke.selectable()&&!Ke.selected()};Q.selectionType()==="additive"||oe||Q.$(n).unmerge(Se).unselect(),Se.emit(Ee("box")).stdFilter(Me).select().emit(Ee("boxselect")),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!J[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Be=me&&me.grabbed();E(re),Be&&(me.emit(Ee("freeon")),re.emit(Ee("free")),t.dragData.didDrag&&(me.emit(Ee("dragfreeon")),re.emit(Ee("dragfree"))))}}J[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var $=[],H=4,V,K=1e5,ee=function(Y,U){for(var Q=0;Q<Y.length;Q++)if(Y[Q]%U!==0)return!1;return!0},I=function(Y){for(var U=Math.abs(Y[0]),Q=1;Q<Y.length;Q++)if(Math.abs(Y[Q])!==U)return!1;return!0},_=function(Y){var U=!1,Q=Y.deltaY;if(Q==null&&(Y.wheelDeltaY!=null?Q=Y.wheelDeltaY/4:Y.wheelDelta!=null&&(Q=Y.wheelDelta/4)),Q!==0){if(V==null)if($.length>=H){var Z=$;if(V=ee(Z,5),!V){var J=Math.abs(Z[0]);V=I(Z)&&J>5}if(V)for(var ce=0;ce<Z.length;ce++)K=Math.min(Math.abs(Z[ce]),K)}else $.push(Q),U=!0;else V&&(K=Math.min(Math.abs(Q),K));if(!t.scrollingPage){var re=t.cy,me=re.zoom(),oe=re.pan(),Ee=t.projectIntoViewport(Y.clientX,Y.clientY),De=[Ee[0]*me+oe.x,Ee[1]*me+oe.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||B()){Y.preventDefault();return}if(re.panningEnabled()&&re.userPanningEnabled()&&re.zoomingEnabled()&&re.userZoomingEnabled()){Y.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var Oe;U&&Math.abs(Q)>5&&(Q=Qg(Q)*5),Oe=Q/-250,V&&(Oe/=K,Oe*=3),Oe=Oe*t.wheelSensitivity;var Se=Y.deltaMode===1;Se&&(Oe*=33);var Me=re.zoom()*Math.pow(10,Oe);Y.type==="gesturechange"&&(Me=t.gestureStartZoom*Y.scale),re.zoom({level:Me,renderedPosition:{x:De[0],y:De[1]}}),re.emit({type:Y.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:Y,position:{x:Ee[0],y:Ee[1]}})}}}};t.registerBinding(t.container,"wheel",_,!0),t.registerBinding(e,"scroll",function(Y){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(Y){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||Y.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(Ce){t.hasTouchStarted||_(Ce)},!0),t.registerBinding(t.container,"mouseout",function(Y){var U=t.projectIntoViewport(Y.clientX,Y.clientY);t.cy.emit({originalEvent:Y,type:"mouseout",position:{x:U[0],y:U[1]}})},!1),t.registerBinding(t.container,"mouseover",function(Y){var U=t.projectIntoViewport(Y.clientX,Y.clientY);t.cy.emit({originalEvent:Y,type:"mouseover",position:{x:U[0],y:U[1]}})},!1);var X,z,ne,le,de,ye,je,xe,ie,ue,pe,Te,Le,Ye=function(Y,U,Q,Z){return Math.sqrt((Q-Y)*(Q-Y)+(Z-U)*(Z-U))},dt=function(Y,U,Q,Z){return(Q-Y)*(Q-Y)+(Z-U)*(Z-U)},nt;t.registerBinding(t.container,"touchstart",nt=function(Y){if(t.hasTouchStarted=!0,!!P(Y)){k(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var U=t.cy,Q=t.touchData.now,Z=t.touchData.earlier;if(Y.touches[0]){var J=t.projectIntoViewport(Y.touches[0].clientX,Y.touches[0].clientY);Q[0]=J[0],Q[1]=J[1]}if(Y.touches[1]){var J=t.projectIntoViewport(Y.touches[1].clientX,Y.touches[1].clientY);Q[2]=J[0],Q[3]=J[1]}if(Y.touches[2]){var J=t.projectIntoViewport(Y.touches[2].clientX,Y.touches[2].clientY);Q[4]=J[0],Q[5]=J[1]}var ce=function(vt){return{originalEvent:Y,type:vt,position:{x:Q[0],y:Q[1]}}};if(Y.touches[1]){t.touchData.singleTouchMoved=!0,E(t.dragData.touchDragEles);var re=t.findContainerClientCoords();ie=re[0],ue=re[1],pe=re[2],Te=re[3],X=Y.touches[0].clientX-ie,z=Y.touches[0].clientY-ue,ne=Y.touches[1].clientX-ie,le=Y.touches[1].clientY-ue,Le=0<=X&&X<=pe&&0<=ne&&ne<=pe&&0<=z&&z<=Te&&0<=le&&le<=Te;var me=U.pan(),oe=U.zoom();de=Ye(X,z,ne,le),ye=dt(X,z,ne,le),je=[(X+ne)/2,(z+le)/2],xe=[(je[0]-me.x)/oe,(je[1]-me.y)/oe];var Ee=200,De=Ee*Ee;if(ye<De&&!Y.touches[2]){var Oe=t.findNearestElement(Q[0],Q[1],!0,!0),Se=t.findNearestElement(Q[2],Q[3],!0,!0);Oe&&Oe.isNode()?(Oe.activate().emit(ce("cxttapstart")),t.touchData.start=Oe):Se&&Se.isNode()?(Se.activate().emit(ce("cxttapstart")),t.touchData.start=Se):U.emit(ce("cxttapstart")),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(Y.touches[2])U.boxSelectionEnabled()&&Y.preventDefault();else if(!Y.touches[1]){if(Y.touches[0]){var Me=t.findNearestElements(Q[0],Q[1],!0,!0),Be=Me[0];if(Be!=null&&(Be.activate(),t.touchData.start=Be,t.touchData.starts=Me,t.nodeIsGrabbable(Be))){var He=t.dragData.touchDragEles=U.collection(),Ke=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Be.selected()?(Ke=U.$(function(ct){return ct.selected()&&t.nodeIsGrabbable(ct)}),S(Ke,{addToList:He})):w(Be,{addToList:He}),v(Be),Be.emit(ce("grabon")),Ke?Ke.forEach(function(ct){ct.emit(ce("grab"))}):Be.emit(ce("grab"))}i(Be,["touchstart","tapstart","vmousedown"],Y,{x:Q[0],y:Q[1]}),Be==null&&(t.data.bgActivePosistion={x:J[0],y:J[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&i(t.touchData.start,["taphold"],Y,{x:Q[0],y:Q[1]})},t.tapholdDuration)}}if(Y.touches.length>=1){for(var et=t.touchData.startPosition=[null,null,null,null,null,null],it=0;it<Q.length;it++)et[it]=Z[it]=Q[it];var ot=Y.touches[0];t.touchData.startGPosition=[ot.clientX,ot.clientY]}}},!1);var $e;t.registerBinding(e,"touchmove",$e=function(Y){var U=t.touchData.capture;if(!(!U&&!P(Y))){var Q=t.selection,Z=t.cy,J=t.touchData.now,ce=t.touchData.earlier,re=Z.zoom();if(Y.touches[0]){var me=t.projectIntoViewport(Y.touches[0].clientX,Y.touches[0].clientY);J[0]=me[0],J[1]=me[1]}if(Y.touches[1]){var me=t.projectIntoViewport(Y.touches[1].clientX,Y.touches[1].clientY);J[2]=me[0],J[3]=me[1]}if(Y.touches[2]){var me=t.projectIntoViewport(Y.touches[2].clientX,Y.touches[2].clientY);J[4]=me[0],J[5]=me[1]}var oe=function(Hu){return{originalEvent:Y,type:Hu,position:{x:J[0],y:J[1]}}},Ee=t.touchData.startGPosition,De;if(U&&Y.touches[0]&&Ee){for(var Oe=[],Se=0;Se<J.length;Se++)Oe[Se]=J[Se]-ce[Se];var Me=Y.touches[0].clientX-Ee[0],Be=Me*Me,He=Y.touches[0].clientY-Ee[1],Ke=He*He,et=Be+Ke;De=et>=t.touchTapThreshold2}if(U&&t.touchData.cxt){Y.preventDefault();var it=Y.touches[0].clientX-ie,ot=Y.touches[0].clientY-ue,ct=Y.touches[1].clientX-ie,vt=Y.touches[1].clientY-ue,At=dt(it,ot,ct,vt),lt=At/ye,Et=150,gt=Et*Et,pt=1.5,Mt=pt*pt;if(lt>=Mt||At>=gt){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var ln=oe("cxttapend");t.touchData.start?(t.touchData.start.unactivate().emit(ln),t.touchData.start=null):Z.emit(ln)}}if(U&&t.touchData.cxt){var ln=oe("cxtdrag");t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(ln):Z.emit(ln),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Ft=t.findNearestElement(J[0],J[1],!0,!0);(!t.touchData.cxtOver||Ft!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit(oe("cxtdragout")),t.touchData.cxtOver=Ft,Ft&&Ft.emit(oe("cxtdragover")))}else if(U&&Y.touches[2]&&Z.boxSelectionEnabled())Y.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||Z.emit(oe("boxstart")),t.touchData.selecting=!0,t.touchData.didSelect=!0,Q[4]=1,!Q||Q.length===0||Q[0]===void 0?(Q[0]=(J[0]+J[2]+J[4])/3,Q[1]=(J[1]+J[3]+J[5])/3,Q[2]=(J[0]+J[2]+J[4])/3+1,Q[3]=(J[1]+J[3]+J[5])/3+1):(Q[2]=(J[0]+J[2]+J[4])/3,Q[3]=(J[1]+J[3]+J[5])/3),t.redrawHint("select",!0),t.redraw();else if(U&&Y.touches[1]&&!t.touchData.didSelect&&Z.zoomingEnabled()&&Z.panningEnabled()&&Z.userZoomingEnabled()&&Z.userPanningEnabled()){Y.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Kt=t.dragData.touchDragEles;if(Kt){t.redrawHint("drag",!0);for(var Vt=0;Vt<Kt.length;Vt++){var nr=Kt[Vt]._private;nr.grabbed=!1,nr.rscratch.inDragLayer=!1}}var sn=t.touchData.start,it=Y.touches[0].clientX-ie,ot=Y.touches[0].clientY-ue,ct=Y.touches[1].clientX-ie,vt=Y.touches[1].clientY-ue,zn=Ye(it,ot,ct,vt),Ga=zn/de;if(Le){var Ya=it-X,Ui=ot-z,$a=ct-ne,yn=vt-le,Iu=(Ya+$a)/2,qu=(Ui+yn)/2,xr=Z.zoom(),Jr=xr*Ga,Tl=Z.pan(),Fs=xe[0]*xr+Tl.x,Hs=xe[1]*xr+Tl.y,Of={x:-Jr/xr*(Fs-Tl.x-Iu)+Fs,y:-Jr/xr*(Hs-Tl.y-qu)+Hs};if(sn&&sn.active()){var Kt=t.dragData.touchDragEles;E(Kt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),sn.unactivate().emit(oe("freeon")),Kt.emit(oe("free")),t.dragData.didDrag&&(sn.emit(oe("dragfreeon")),Kt.emit(oe("dragfree")))}Z.viewport({zoom:Jr,pan:Of,cancelOnFailedZoom:!0}),Z.emit(oe("pinchzoom")),de=zn,X=it,z=ot,ne=ct,le=vt,t.pinching=!0}if(Y.touches[0]){var me=t.projectIntoViewport(Y.touches[0].clientX,Y.touches[0].clientY);J[0]=me[0],J[1]=me[1]}if(Y.touches[1]){var me=t.projectIntoViewport(Y.touches[1].clientX,Y.touches[1].clientY);J[2]=me[0],J[3]=me[1]}if(Y.touches[2]){var me=t.projectIntoViewport(Y.touches[2].clientX,Y.touches[2].clientY);J[4]=me[0],J[5]=me[1]}}else if(Y.touches[0]&&!t.touchData.didSelect){var Gn=t.touchData.start,Xa=t.touchData.last,Ft;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Ft=t.findNearestElement(J[0],J[1],!0,!0)),U&&Gn!=null&&Y.preventDefault(),U&&Gn!=null&&t.nodeIsDraggable(Gn))if(De){var Kt=t.dragData.touchDragEles,Dr=!t.dragData.didDrag;Dr&&S(Kt,{inDragLayer:!0}),t.dragData.didDrag=!0;var Dn={x:0,y:0};if(Fe(Oe[0])&&Fe(Oe[1])&&(Dn.x+=Oe[0],Dn.y+=Oe[1],Dr)){t.redrawHint("eles",!0);var rr=t.touchData.dragDelta;rr&&Fe(rr[0])&&Fe(rr[1])&&(Dn.x+=rr[0],Dn.y+=rr[1])}t.hoverData.draggingEles=!0,Kt.silentShift(Dn).emit(oe("position")).emit(oe("drag")),t.redrawHint("drag",!0),t.touchData.startPosition[0]==ce[0]&&t.touchData.startPosition[1]==ce[1]&&t.redrawHint("eles",!0),t.redraw()}else{var rr=t.touchData.dragDelta=t.touchData.dragDelta||[];rr.length===0?(rr.push(Oe[0]),rr.push(Oe[1])):(rr[0]+=Oe[0],rr[1]+=Oe[1])}if(i(Gn||Ft,["touchmove","tapdrag","vmousemove"],Y,{x:J[0],y:J[1]}),(!Gn||!Gn.grabbed())&&Ft!=Xa&&(Xa&&Xa.emit(oe("tapdragout")),Ft&&Ft.emit(oe("tapdragover"))),t.touchData.last=Ft,U)for(var Vt=0;Vt<J.length;Vt++)J[Vt]&&t.touchData.startPosition[Vt]&&De&&(t.touchData.singleTouchMoved=!0);if(U&&(Gn==null||Gn.pannable())&&Z.panningEnabled()&&Z.userPanningEnabled()){var Lf=s(Gn,t.touchData.starts);Lf&&(Y.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=ms(t.touchData.startPosition)),t.swipePanning?(Z.panBy({x:Oe[0]*re,y:Oe[1]*re}),Z.emit(oe("dragpan"))):De&&(t.swipePanning=!0,Z.panBy({x:Me*re,y:He*re}),Z.emit(oe("dragpan")),Gn&&(Gn.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var me=t.projectIntoViewport(Y.touches[0].clientX,Y.touches[0].clientY);J[0]=me[0],J[1]=me[1]}}for(var Se=0;Se<J.length;Se++)ce[Se]=J[Se];U&&Y.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var Ge;t.registerBinding(e,"touchcancel",Ge=function(Y){var U=t.touchData.start;t.touchData.capture=!1,U&&U.unactivate()});var Pe,Xe,We,at;if(t.registerBinding(e,"touchend",Pe=function(Y){var U=t.touchData.start,Q=t.touchData.capture;if(Q)Y.touches.length===0&&(t.touchData.capture=!1),Y.preventDefault();else return;var Z=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var J=t.cy,ce=J.zoom(),re=t.touchData.now,me=t.touchData.earlier;if(Y.touches[0]){var oe=t.projectIntoViewport(Y.touches[0].clientX,Y.touches[0].clientY);re[0]=oe[0],re[1]=oe[1]}if(Y.touches[1]){var oe=t.projectIntoViewport(Y.touches[1].clientX,Y.touches[1].clientY);re[2]=oe[0],re[3]=oe[1]}if(Y.touches[2]){var oe=t.projectIntoViewport(Y.touches[2].clientX,Y.touches[2].clientY);re[4]=oe[0],re[5]=oe[1]}var Ee=function(gt){return{originalEvent:Y,type:gt,position:{x:re[0],y:re[1]}}};U&&U.unactivate();var De;if(t.touchData.cxt){if(De=Ee("cxttapend"),U?U.emit(De):J.emit(De),!t.touchData.cxtDragged){var Oe=Ee("cxttap");U?U.emit(Oe):J.emit(Oe)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!Y.touches[2]&&J.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var Se=J.collection(t.getAllInBox(Z[0],Z[1],Z[2],Z[3]));Z[0]=void 0,Z[1]=void 0,Z[2]=void 0,Z[3]=void 0,Z[4]=0,t.redrawHint("select",!0),J.emit(Ee("boxend"));var Me=function(gt){return gt.selectable()&&!gt.selected()};Se.emit(Ee("box")).stdFilter(Me).select().emit(Ee("boxselect")),Se.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(U?.unactivate(),Y.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!Y.touches[1]){if(!Y.touches[0]){if(!Y.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Be=t.dragData.touchDragEles;if(U!=null){var He=U._private.grabbed;E(Be),t.redrawHint("drag",!0),t.redrawHint("eles",!0),He&&(U.emit(Ee("freeon")),Be.emit(Ee("free")),t.dragData.didDrag&&(U.emit(Ee("dragfreeon")),Be.emit(Ee("dragfree")))),i(U,["touchend","tapend","vmouseup","tapdragout"],Y,{x:re[0],y:re[1]}),U.unactivate(),t.touchData.start=null}else{var Ke=t.findNearestElement(re[0],re[1],!0,!0);i(Ke,["touchend","tapend","vmouseup","tapdragout"],Y,{x:re[0],y:re[1]})}var et=t.touchData.startPosition[0]-re[0],it=et*et,ot=t.touchData.startPosition[1]-re[1],ct=ot*ot,vt=it+ct,At=vt*ce*ce;t.touchData.singleTouchMoved||(U||J.$(":selected").unselect(["tapunselect"]),i(U,["tap","vclick"],Y,{x:re[0],y:re[1]}),Xe=!1,Y.timeStamp-at<=J.multiClickDebounceTime()?(We&&clearTimeout(We),Xe=!0,at=null,i(U,["dbltap","vdblclick"],Y,{x:re[0],y:re[1]})):(We=setTimeout(function(){Xe||i(U,["onetap","voneclick"],Y,{x:re[0],y:re[1]})},J.multiClickDebounceTime()),at=Y.timeStamp)),U!=null&&!t.dragData.didDrag&&U._private.selectable&&At<t.touchTapThreshold2&&!t.pinching&&(J.selectionType()==="single"?(J.$(n).unmerge(U).unselect(["tapunselect"]),U.select(["tapselect"])):U.selected()?U.unselect(["tapunselect"]):U.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var lt=0;lt<re.length;lt++)me[lt]=re[lt];t.dragData.didDrag=!1,Y.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),Y.touches.length<2&&(Y.touches.length===1&&(t.touchData.startGPosition=[Y.touches[0].clientX,Y.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var Ue=[],ft=function(Y){return{clientX:Y.clientX,clientY:Y.clientY,force:1,identifier:Y.pointerId,pageX:Y.pageX,pageY:Y.pageY,radiusX:Y.width/2,radiusY:Y.height/2,screenX:Y.screenX,screenY:Y.screenY,target:Y.target}},he=function(Y){return{event:Y,touch:ft(Y)}},Ae=function(Y){Ue.push(he(Y))},_e=function(Y){for(var U=0;U<Ue.length;U++){var Q=Ue[U];if(Q.event.pointerId===Y.pointerId){Ue.splice(U,1);return}}},Ve=function(Y){var U=Ue.filter(function(Q){return Q.event.pointerId===Y.pointerId})[0];U.event=Y,U.touch=ft(Y)},qe=function(Y){Y.touches=Ue.map(function(U){return U.touch})},Ie=function(Y){return Y.pointerType==="mouse"||Y.pointerType===4};t.registerBinding(t.container,"pointerdown",function(Ce){Ie(Ce)||(Ce.preventDefault(),Ae(Ce),qe(Ce),nt(Ce))}),t.registerBinding(t.container,"pointerup",function(Ce){Ie(Ce)||(_e(Ce),qe(Ce),Pe(Ce))}),t.registerBinding(t.container,"pointercancel",function(Ce){Ie(Ce)||(_e(Ce),qe(Ce),Ge(Ce))}),t.registerBinding(t.container,"pointermove",function(Ce){Ie(Ce)||(Ce.preventDefault(),Ve(Ce),qe(Ce),$e(Ce))})}};var Ua={};Ua.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(r,i,l,s,u,d){this.renderer.nodeShapeImpl("polygon",r,i,l,s,u,this.points)},intersectLine:function(r,i,l,s,u,d,c,h){return cu(u,d,this.points,r,i,l/2,s/2,c)},checkPoint:function(r,i,l,s,u,d,c,h){return Fa(r,i,this.points,d,c,s,u,[0,-1],l)},hasMiterBounds:t!=="rectangle",miterBounds:function(r,i,l,s,u,d){return YD(this.points,r,i,l,s,u)}}};Ua.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,n,r,i,l,s){this.renderer.nodeShapeImpl(this.name,e,n,r,i,l)},intersectLine:function(e,n,r,i,l,s,u,d){return e3(l,s,e,n,r/2+u,i/2+u)},checkPoint:function(e,n,r,i,l,s,u,d){return fl(e,n,i,l,s,u,r)}}};Ua.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(r,i,l,s,u,d,c){if(d[c]!==void 0&&d[c+"-cx"]===r&&d[c+"-cy"]===i)return d[c];d[c]=new Array(e.length/2),d[c+"-cx"]=r,d[c+"-cy"]=i;var h=l/2,v=s/2;u=u==="auto"?aC(l,s):u;for(var m=new Array(e.length/2),y=0;y<e.length/2;y++)m[y]={x:r+h*e[y*2],y:i+v*e[y*2+1]};var x,S,w,E,T=m.length;for(S=m[T-1],x=0;x<T;x++)w=m[x%T],E=m[(x+1)%T],d[c][x]=uy(S,w,E,u),S=w,w=E;return d[c]},draw:function(r,i,l,s,u,d,c){this.renderer.nodeShapeImpl("round-polygon",r,i,l,s,u,this.points,this.getOrCreateCorners(i,l,s,u,d,c,"drawCorners"))},intersectLine:function(r,i,l,s,u,d,c,h,v){return n3(u,d,this.points,r,i,l,s,c,this.getOrCreateCorners(r,i,l,s,h,v,"corners"))},checkPoint:function(r,i,l,s,u,d,c,h,v){return JD(r,i,this.points,d,c,s,u,this.getOrCreateCorners(d,c,s,u,h,v,"corners"))}}};Ua.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Jn(4,0),draw:function(e,n,r,i,l,s){this.renderer.nodeShapeImpl(this.name,e,n,r,i,l,this.points,s)},intersectLine:function(e,n,r,i,l,s,u,d){return nC(l,s,e,n,r,i,u,d)},checkPoint:function(e,n,r,i,l,s,u,d){var c=i/2,h=l/2;d=d==="auto"?Di(i,l):d,d=Math.min(c,h,d);var v=d*2;return!!(Fa(e,n,this.points,s,u,i,l-v,[0,-1],r)||Fa(e,n,this.points,s,u,i-v,l,[0,-1],r)||fl(e,n,v,v,s-c+d,u-h+d,r)||fl(e,n,v,v,s+c-d,u-h+d,r)||fl(e,n,v,v,s+c-d,u+h-d,r)||fl(e,n,v,v,s-c+d,u+h-d,r))}}};Ua.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Wg(),points:Jn(4,0),draw:function(e,n,r,i,l,s){this.renderer.nodeShapeImpl(this.name,e,n,r,i,l,null,s)},generateCutTrianglePts:function(e,n,r,i,l){var s=l==="auto"?this.cornerLength:l,u=n/2,d=e/2,c=r-d,h=r+d,v=i-u,m=i+u;return{topLeft:[c,v+s,c+s,v,c+s,v+s],topRight:[h-s,v,h,v+s,h-s,v+s],bottomRight:[h,m-s,h-s,m,h-s,m-s],bottomLeft:[c+s,m,c,m-s,c+s,m-s]}},intersectLine:function(e,n,r,i,l,s,u,d){var c=this.generateCutTrianglePts(r+2*u,i+2*u,e,n,d),h=[].concat.apply([],[c.topLeft.splice(0,4),c.topRight.splice(0,4),c.bottomRight.splice(0,4),c.bottomLeft.splice(0,4)]);return cu(l,s,h,e,n)},checkPoint:function(e,n,r,i,l,s,u,d){var c=d==="auto"?this.cornerLength:d;if(Fa(e,n,this.points,s,u,i,l-2*c,[0,-1],r)||Fa(e,n,this.points,s,u,i-2*c,l,[0,-1],r))return!0;var h=this.generateCutTrianglePts(i,l,s,u);return hr(e,n,h.topLeft)||hr(e,n,h.topRight)||hr(e,n,h.bottomRight)||hr(e,n,h.bottomLeft)}}};Ua.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Jn(4,0),draw:function(e,n,r,i,l,s){this.renderer.nodeShapeImpl(this.name,e,n,r,i,l)},intersectLine:function(e,n,r,i,l,s,u,d){var c=.15,h=.5,v=.85,m=this.generateBarrelBezierPts(r+2*u,i+2*u,e,n),y=function(w){var E=xs({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},c),T=xs({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},h),k=xs({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},v);return[w[0],w[1],E.x,E.y,T.x,T.y,k.x,k.y,w[4],w[5]]},x=[].concat(y(m.topLeft),y(m.topRight),y(m.bottomRight),y(m.bottomLeft));return cu(l,s,x,e,n)},generateBarrelBezierPts:function(e,n,r,i){var l=n/2,s=e/2,u=r-s,d=r+s,c=i-l,h=i+l,v=Jm(e,n),m=v.heightOffset,y=v.widthOffset,x=v.ctrlPtOffsetPct*e,S={topLeft:[u,c+m,u+x,c,u+y,c],topRight:[d-y,c,d-x,c,d,c+m],bottomRight:[d,h-m,d-x,h,d-y,h],bottomLeft:[u+y,h,u+x,h,u,h-m]};return S.topLeft.isTop=!0,S.topRight.isTop=!0,S.bottomLeft.isBottom=!0,S.bottomRight.isBottom=!0,S},checkPoint:function(e,n,r,i,l,s,u,d){var c=Jm(i,l),h=c.heightOffset,v=c.widthOffset;if(Fa(e,n,this.points,s,u,i,l-2*h,[0,-1],r)||Fa(e,n,this.points,s,u,i-2*v,l,[0,-1],r))return!0;for(var m=this.generateBarrelBezierPts(i,l,s,u),y=function(O,B,P){var q=P[4],L=P[2],D=P[0],F=P[5],$=P[1],H=Math.min(q,D),V=Math.max(q,D),K=Math.min(F,$),ee=Math.max(F,$);if(H<=O&&O<=V&&K<=B&&B<=ee){var I=r3(q,L,D),_=KD(I[0],I[1],I[2],O),X=_.filter(function(z){return 0<=z&&z<=1});if(X.length>0)return X[0]}return null},x=Object.keys(m),S=0;S<x.length;S++){var w=x[S],E=m[w],T=y(e,n,E);if(T!=null){var k=E[5],N=E[3],M=E[1],R=Bn(k,N,M,T);if(E.isTop&&R<=n||E.isBottom&&n<=R)return!0}}return!1}}};Ua.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Jn(4,0),draw:function(e,n,r,i,l,s){this.renderer.nodeShapeImpl(this.name,e,n,r,i,l,this.points,s)},intersectLine:function(e,n,r,i,l,s,u,d){var c=e-(r/2+u),h=n-(i/2+u),v=h,m=e+(r/2+u),y=ki(l,s,e,n,c,h,m,v,!1);return y.length>0?y:nC(l,s,e,n,r,i,u,d)},checkPoint:function(e,n,r,i,l,s,u,d){d=d==="auto"?Di(i,l):d;var c=2*d;if(Fa(e,n,this.points,s,u,i,l-c,[0,-1],r)||Fa(e,n,this.points,s,u,i-c,l,[0,-1],r))return!0;var h=i/2+2*r,v=l/2+2*r,m=[s-h,u-v,s-h,u,s+h,u,s+h,u-v];return!!(hr(e,n,m)||fl(e,n,c,c,s+i/2-d,u+l/2-d,r)||fl(e,n,c,c,s-i/2+d,u+l/2-d,r))}}};Ua.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Jn(3,0)),this.generateRoundPolygon("round-triangle",Jn(3,0)),this.generatePolygon("rectangle",Jn(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n)}this.generatePolygon("pentagon",Jn(5,0)),this.generateRoundPolygon("round-pentagon",Jn(5,0)),this.generatePolygon("hexagon",Jn(6,0)),this.generateRoundPolygon("round-hexagon",Jn(6,0)),this.generatePolygon("heptagon",Jn(7,0)),this.generateRoundPolygon("round-heptagon",Jn(7,0)),this.generatePolygon("octagon",Jn(8,0)),this.generateRoundPolygon("round-octagon",Jn(8,0));var r=new Array(20);{var i=Wm(5,0),l=Wm(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var u=0;u<l.length/2;u++)l[u*2]*=s,l[u*2+1]*=s;for(var u=0;u<20/4;u++)r[u*4]=i[u*2],r[u*4+1]=i[u*2+1],r[u*4+2]=l[u*2],r[u*4+3]=l[u*2+1]}r=rC(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var d=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",d),this.generateRoundPolygon("round-tag",d)}t.makePolygon=function(c){var h=c.join("$"),v="polygon-"+h,m;return(m=this[v])?m:e.generatePolygon(v,c)}};var Du={};Du.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Du.redraw=function(t){t=t||WE();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};Du.beforeRender=function(t,e){if(!this.destroyed){e==null&&un("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:t,priority:e}),n.sort(function(r,i){return i.priority-r.priority})}};var G2=function(e,n,r){for(var i=e.beforeRenderCallbacks,l=0;l<i.length;l++)i[l].fn(n,r)};Du.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var n=function(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){G2(t,!0,i);var l=qa();t.render(t.renderOptions);var s=t.lastDrawTime=qa();t.averageRedrawTime===void 0&&(t.averageRedrawTime=s-l),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var u=s-l;t.redrawTotalTime+=u,t.lastRedrawTime=u,t.averageRedrawTime=t.averageRedrawTime/2+u/2,t.requestedFrame=!1}else G2(t,!1,i);t.skipFrame=!1,Ud(n)}};Ud(n)}};var xB=function(e){this.init(e)},aT=xB,zs=aT.prototype;zs.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];zs.init=function(t){var e=this;e.options=t,e.cy=t.cy;var n=e.container=t.cy.container(),r=e.cy.window();if(r){var i=r.document,l=i.head,s="__________cytoscape_stylesheet",u="__________cytoscape_container",d=i.getElementById(s)!=null;if(n.className.indexOf(u)<0&&(n.className=(n.className||"")+" "+u),!d){var c=i.createElement("style");c.id=s,c.textContent="."+u+" { position: relative; }",l.insertBefore(c,l.children[0])}var h=r.getComputedStyle(n),v=h.getPropertyValue("position");v==="static"&&qt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Fe(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};zs.notify=function(t,e){var n=this,r=n.cy;if(!this.destroyed){if(t==="init"){n.load();return}if(t==="destroy"){n.destroy();return}(t==="add"||t==="remove"||t==="move"&&r.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&n.invalidateCachedZSortedEles(),t==="viewport"&&n.redrawHint("select",!0),t==="gc"&&n.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};zs.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var n=t.bindings[e],r=n,i=r.target;(i.off||i.removeEventListener).apply(i,r.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};zs.isHeadless=function(){return!1};[oy,nT,rT,Ls,Ua,Du].forEach(function(t){st(zs,t)});var xm=1e3/60,iT={setupDequeueing:function(e){return function(){var r=this,i=this.renderer;if(!r.dequeueingSetup){r.dequeueingSetup=!0;var l=ku(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),s=function(c,h){var v=qa(),m=i.averageRedrawTime,y=i.lastRedrawTime,x=[],S=i.cy.extent(),w=i.getPixelRatio();for(c||i.flushRenderedStyleQueue();;){var E=qa(),T=E-v,k=E-h;if(y<xm){var N=xm-(c?m:0);if(k>=e.deqFastCost*N)break}else if(c){if(T>=e.deqCost*y||T>=e.deqAvgCost*m)break}else if(k>=e.deqNoDrawCost*xm)break;var M=e.deq(r,w,S);if(M.length>0)for(var R=0;R<M.length;R++)x.push(M[R]);else break}x.length>0&&(e.onDeqd(r,x),!c&&e.shouldRedraw(r,x,w,S)&&l())},u=e.priority||$g;i.beforeRender(s,u(r))}}}},bB=(function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vd;zi(this,t),this.idsByKey=new _a,this.keyForId=new _a,this.cachesByLvl=new _a,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=n}return _i(t,[{key:"getIdsFor",value:function(n){n==null&&un("Can not get id list for null key");var r=this.idsByKey,i=this.idsByKey.get(n);return i||(i=new Ds,r.set(n,i)),i}},{key:"addIdForKey",value:function(n,r){n!=null&&this.getIdsFor(n).add(r)}},{key:"deleteIdForKey",value:function(n,r){n!=null&&this.getIdsFor(n).delete(r)}},{key:"getNumberOfIdsForKey",value:function(n){return n==null?0:this.getIdsFor(n).size}},{key:"updateKeyMappingFor",value:function(n){var r=n.id(),i=this.keyForId.get(r),l=this.getKey(n);this.deleteIdForKey(i,r),this.addIdForKey(l,r),this.keyForId.set(r,l)}},{key:"deleteKeyMappingFor",value:function(n){var r=n.id(),i=this.keyForId.get(r);this.deleteIdForKey(i,r),this.keyForId.delete(r)}},{key:"keyHasChangedFor",value:function(n){var r=n.id(),i=this.keyForId.get(r),l=this.getKey(n);return i!==l}},{key:"isInvalid",value:function(n){return this.keyHasChangedFor(n)||this.doesEleInvalidateKey(n)}},{key:"getCachesAt",value:function(n){var r=this.cachesByLvl,i=this.lvls,l=r.get(n);return l||(l=new _a,r.set(n,l),i.push(n)),l}},{key:"getCache",value:function(n,r){return this.getCachesAt(r).get(n)}},{key:"get",value:function(n,r){var i=this.getKey(n),l=this.getCache(i,r);return l!=null&&this.updateKeyMappingFor(n),l}},{key:"getForCachedKey",value:function(n,r){var i=this.keyForId.get(n.id()),l=this.getCache(i,r);return l}},{key:"hasCache",value:function(n,r){return this.getCachesAt(r).has(n)}},{key:"has",value:function(n,r){var i=this.getKey(n);return this.hasCache(i,r)}},{key:"setCache",value:function(n,r,i){i.key=n,this.getCachesAt(r).set(n,i)}},{key:"set",value:function(n,r,i){var l=this.getKey(n);this.setCache(l,r,i),this.updateKeyMappingFor(n)}},{key:"deleteCache",value:function(n,r){this.getCachesAt(r).delete(n)}},{key:"delete",value:function(n,r){var i=this.getKey(n);this.deleteCache(i,r)}},{key:"invalidateKey",value:function(n){var r=this;this.lvls.forEach(function(i){return r.deleteCache(n,i)})}},{key:"invalidate",value:function(n){var r=n.id(),i=this.keyForId.get(r);this.deleteKeyMappingFor(n);var l=this.doesEleInvalidateKey(n);return l&&this.invalidateKey(i),l||this.getNumberOfIdsForKey(i)===0}}])})(),Y2=25,hd=50,Md=-4,fg=3,lT=7.99,wB=8,SB=1024,EB=1024,CB=1024,TB=.2,kB=.8,NB=10,AB=.15,RB=.1,jB=.9,DB=.9,MB=100,BB=1,ys={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},OB=Un({getKey:null,doesEleInvalidateKey:Vd,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:KE,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Xo=function(e,n){var r=this;r.renderer=e,r.onDequeues=[];var i=OB(n);st(r,i),r.lookup=new bB(i.getKey,i.doesEleInvalidateKey),r.setupDequeueing()},jn=Xo.prototype;jn.reasons=ys;jn.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};jn.getRetiredTextureQueue=function(t){var e=this,n=e.eleImgCaches.retired=e.eleImgCaches.retired||{},r=n[t]=n[t]||[];return r};jn.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new Nu(function(n,r){return r.reqs-n.reqs});return e};jn.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};jn.getElement=function(t,e,n,r,i){var l=this,s=this.renderer,u=s.cy.zoom(),d=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!l.allowEdgeTxrCaching&&t.isEdge()||!l.allowParentTxrCaching&&t.isParent())return null;if(r==null&&(r=Math.ceil(Kg(u*n))),r<Md)r=Md;else if(u>=lT||r>fg)return null;var c=Math.pow(2,r),h=e.h*c,v=e.w*c,m=s.eleTextBiggerThanMin(t,c);if(!this.isVisible(t,m))return null;var y=d.get(t,r);if(y&&y.invalidated&&(y.invalidated=!1,y.texture.invalidatedWidth-=y.width),y)return y;var x;if(h<=Y2?x=Y2:h<=hd?x=hd:x=Math.ceil(h/hd)*hd,h>CB||v>EB)return null;var S=l.getTextureQueue(x),w=S[S.length-2],E=function(){return l.recycleTexture(x,v)||l.addTexture(x,v)};w||(w=S[S.length-1]),w||(w=E()),w.width-w.usedWidth<v&&(w=E());for(var T=function(H){return H&&H.scaledLabelShown===m},k=i&&i===ys.dequeue,N=i&&i===ys.highQuality,M=i&&i===ys.downscale,R,A=r+1;A<=fg;A++){var O=d.get(t,A);if(O){R=O;break}}var B=R&&R.level===r+1?R:null,P=function(){w.context.drawImage(B.texture.canvas,B.x,0,B.width,B.height,w.usedWidth,0,v,h)};if(w.context.setTransform(1,0,0,1,0,0),w.context.clearRect(w.usedWidth,0,v,x),T(B))P();else if(T(R))if(N){for(var q=R.level;q>r;q--)B=l.getElement(t,e,n,q,ys.downscale);P()}else return l.queueElement(t,R.level-1),R;else{var L;if(!k&&!N&&!M)for(var D=r-1;D>=Md;D--){var F=d.get(t,D);if(F){L=F;break}}if(T(L))return l.queueElement(t,r),L;w.context.translate(w.usedWidth,0),w.context.scale(c,c),this.drawElement(w.context,t,e,m,!1),w.context.scale(1/c,1/c),w.context.translate(-w.usedWidth,0)}return y={x:w.usedWidth,texture:w,level:r,scale:c,width:v,height:h,scaledLabelShown:m},w.usedWidth+=Math.ceil(v+wB),w.eleCaches.push(y),d.set(t,r,y),l.checkTextureFullness(w),y};jn.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};jn.invalidateElement=function(t){var e=this,n=e.lookup,r=[],i=n.isInvalid(t);if(i){for(var l=Md;l<=fg;l++){var s=n.getForCachedKey(t,l);s&&r.push(s)}var u=n.invalidate(t);if(u)for(var d=0;d<r.length;d++){var c=r[d],h=c.texture;h.invalidatedWidth+=c.width,c.invalidated=!0,e.checkTextureUtility(h)}e.removeFromQueue(t)}};jn.checkTextureUtility=function(t){t.invalidatedWidth>=TB*t.width&&this.retireTexture(t)};jn.checkTextureFullness=function(t){var e=this,n=e.getTextureQueue(t.height);t.usedWidth/t.width>kB&&t.fullnessChecks>=NB?ji(n,t):t.fullnessChecks++};jn.retireTexture=function(t){var e=this,n=t.height,r=e.getTextureQueue(n),i=this.lookup;ji(r,t),t.retired=!0;for(var l=t.eleCaches,s=0;s<l.length;s++){var u=l[s];i.deleteCache(u.key,u.level)}Xg(l);var d=e.getRetiredTextureQueue(n);d.push(t)};jn.addTexture=function(t,e){var n=this,r=n.getTextureQueue(t),i={};return r.push(i),i.eleCaches=[],i.height=t,i.width=Math.max(SB,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=n.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};jn.recycleTexture=function(t,e){for(var n=this,r=n.getTextureQueue(t),i=n.getRetiredTextureQueue(t),l=0;l<i.length;l++){var s=i[l];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,Xg(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),ji(i,s),r.push(s),s}};jn.queueElement=function(t,e){var n=this,r=n.getElementQueue(),i=n.getElementKeyToQueue(),l=this.getKey(t),s=i[l];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,r.updateItem(s);else{var u={eles:t.spawn().merge(t),level:e,reqs:1,key:l};r.push(u),i[l]=u}};jn.dequeue=function(t){for(var e=this,n=e.getElementQueue(),r=e.getElementKeyToQueue(),i=[],l=e.lookup,s=0;s<BB&&n.size()>0;s++){var u=n.pop(),d=u.key,c=u.eles[0],h=l.hasCache(c,u.level);if(r[d]=null,h)continue;i.push(u);var v=e.getBoundingBox(c);e.getElement(c,v,t,u.level,ys.dequeue)}return i};jn.removeFromQueue=function(t){var e=this,n=e.getElementQueue(),r=e.getElementKeyToQueue(),i=this.getKey(t),l=r[i];l!=null&&(l.eles.length===1?(l.reqs=Yg,n.updateItem(l),n.pop(),r[i]=null):l.eles.unmerge(t))};jn.onDequeue=function(t){this.onDequeues.push(t)};jn.offDequeue=function(t){ji(this.onDequeues,t)};jn.setupDequeueing=iT.setupDequeueing({deqRedrawThreshold:MB,deqCost:AB,deqAvgCost:RB,deqNoDrawCost:jB,deqFastCost:DB,deq:function(e,n,r){return e.dequeue(n,r)},onDeqd:function(e,n){for(var r=0;r<e.onDequeues.length;r++){var i=e.onDequeues[r];i(n)}},shouldRedraw:function(e,n,r,i){for(var l=0;l<n.length;l++)for(var s=n[l].eles,u=0;u<s.length;u++){var d=s[u].boundingBox();if(Zg(d,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var LB=1,Zo=-4,Wd=2,zB=3.99,_B=50,PB=50,IB=.15,qB=.1,FB=.9,HB=.9,UB=1,$2=250,VB=4e3*4e3,X2=32767,GB=!0,sT=function(e){var n=this,r=n.renderer=e,i=r.cy;n.layersByLevel={},n.firstGet=!0,n.lastInvalidationTime=qa()-2*$2,n.skipping=!1,n.eleTxrDeqs=i.collection(),n.scheduleElementRefinement=ku(function(){n.refineElementTextures(n.eleTxrDeqs),n.eleTxrDeqs.unmerge(n.eleTxrDeqs)},PB),r.beforeRender(function(s,u){u-n.lastInvalidationTime<=$2?n.skipping=!0:n.skipping=!1},r.beforeRenderPriorities.lyrTxrSkip);var l=function(u,d){return d.reqs-u.reqs};n.layersQueue=new Nu(l),n.setupDequeueing()},Vn=sT.prototype,K2=0,YB=Math.pow(2,53)-1;Vn.makeLayer=function(t,e){var n=Math.pow(2,e),r=Math.ceil(t.w*n),i=Math.ceil(t.h*n),l=this.renderer.makeOffscreenCanvas(r,i),s={id:K2=++K2%YB,bb:t,level:e,width:r,height:i,canvas:l,context:l.getContext("2d"),eles:[],elesQueue:[],reqs:0},u=s.context,d=-s.bb.x1,c=-s.bb.y1;return u.scale(n,n),u.translate(d,c),s};Vn.getLayers=function(t,e,n){var r=this,i=r.renderer,l=i.cy,s=l.zoom(),u=r.firstGet;if(r.firstGet=!1,n==null){if(n=Math.ceil(Kg(s*e)),n<Zo)n=Zo;else if(s>=zB||n>Wd)return null}r.validateLayersElesOrdering(n,t);var d=r.layersByLevel,c=Math.pow(2,n),h=d[n]=d[n]||[],v,m=r.levelIsComplete(n,t),y,x=function(){var P=function($){if(r.validateLayersElesOrdering($,t),r.levelIsComplete($,t))return y=d[$],!0},q=function($){if(!y)for(var H=n+$;Zo<=H&&H<=Wd&&!P(H);H+=$);};q(1),q(-1);for(var L=h.length-1;L>=0;L--){var D=h[L];D.invalid&&ji(h,D)}};if(!m)x();else return h;var S=function(){if(!v){v=er();for(var P=0;P<t.length;P++)UD(v,t[P].boundingBox())}return v},w=function(P){P=P||{};var q=P.after;S();var L=Math.ceil(v.w*c),D=Math.ceil(v.h*c);if(L>X2||D>X2)return null;var F=L*D;if(F>VB)return null;var $=r.makeLayer(v,n);if(q!=null){var H=h.indexOf(q)+1;h.splice(H,0,$)}else(P.insert===void 0||P.insert)&&h.unshift($);return $};if(r.skipping&&!u)return null;for(var E=null,T=t.length/LB,k=!u,N=0;N<t.length;N++){var M=t[N],R=M._private.rscratch,A=R.imgLayerCaches=R.imgLayerCaches||{},O=A[n];if(O){E=O;continue}if((!E||E.eles.length>=T||!tC(E.bb,M.boundingBox()))&&(E=w({insert:!0,after:E}),!E))return null;y||k?r.queueLayer(E,M):r.drawEleInLayer(E,M,n,e),E.eles.push(M),A[n]=E}return y||(k?null:h)};Vn.getEleLevelForLayerLevel=function(t,e){return t};Vn.drawEleInLayer=function(t,e,n,r){var i=this,l=this.renderer,s=t.context,u=e.boundingBox();u.w===0||u.h===0||!e.visible()||(n=i.getEleLevelForLayerLevel(n,r),l.setImgSmoothing(s,!1),l.drawCachedElement(s,e,null,null,n,GB),l.setImgSmoothing(s,!0))};Vn.levelIsComplete=function(t,e){var n=this,r=n.layersByLevel[t];if(!r||r.length===0)return!1;for(var i=0,l=0;l<r.length;l++){var s=r[l];if(s.reqs>0||s.invalid)return!1;i+=s.eles.length}return i===e.length};Vn.validateLayersElesOrdering=function(t,e){var n=this.layersByLevel[t];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],l=-1,s=0;s<e.length;s++)if(i.eles[0]===e[s]){l=s;break}if(l<0){this.invalidateLayer(i);continue}for(var u=l,s=0;s<i.eles.length;s++)if(i.eles[s]!==e[u+s]){this.invalidateLayer(i);break}}};Vn.updateElementsInLayers=function(t,e){for(var n=this,r=Su(t[0]),i=0;i<t.length;i++)for(var l=r?null:t[i],s=r?t[i]:t[i].ele,u=s._private.rscratch,d=u.imgLayerCaches=u.imgLayerCaches||{},c=Zo;c<=Wd;c++){var h=d[c];h&&(l&&n.getEleLevelForLayerLevel(h.level)!==l.level||e(h,s,l))}};Vn.haveLayers=function(){for(var t=this,e=!1,n=Zo;n<=Wd;n++){var r=t.layersByLevel[n];if(r&&r.length>0){e=!0;break}}return e};Vn.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=qa(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(r,i,l){e.invalidateLayer(r)}))};Vn.invalidateLayer=function(t){if(this.lastInvalidationTime=qa(),!t.invalid){var e=t.level,n=t.eles,r=this.layersByLevel[e];ji(r,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<n.length;i++){var l=n[i]._private.rscratch.imgLayerCaches;l&&(l[e]=null)}}};Vn.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(r,i,l){var s=r.replacement;if(s||(s=r.replacement=e.makeLayer(r.bb,r.level),s.replaces=r,s.eles=r.eles),!s.reqs)for(var u=0;u<s.eles.length;u++)e.queueLayer(s,s.eles[u])})};Vn.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Vn.queueLayer=function(t,e){var n=this,r=n.layersQueue,i=t.elesQueue,l=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(l[e.id()])return;i.push(e),l[e.id()]=!0}t.reqs?(t.reqs++,r.updateItem(t)):(t.reqs=1,r.push(t))}};Vn.dequeue=function(t){for(var e=this,n=e.layersQueue,r=[],i=0;i<UB&&n.size()!==0;){var l=n.peek();if(l.replacement){n.pop();continue}if(l.replaces&&l!==l.replaces.replacement){n.pop();continue}if(l.invalid){n.pop();continue}var s=l.elesQueue.shift();s&&(e.drawEleInLayer(l,s,l.level,t),i++),r.length===0&&r.push(!0),l.elesQueue.length===0&&(n.pop(),l.reqs=0,l.replaces&&e.applyLayerReplacement(l),e.requestRedraw())}return r};Vn.applyLayerReplacement=function(t){var e=this,n=e.layersByLevel[t.level],r=t.replaces,i=n.indexOf(r);if(!(i<0||r.invalid)){n[i]=t;for(var l=0;l<t.eles.length;l++){var s=t.eles[l]._private,u=s.imgLayerCaches=s.imgLayerCaches||{};u&&(u[t.level]=t)}e.requestRedraw()}};Vn.requestRedraw=ku(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Vn.setupDequeueing=iT.setupDequeueing({deqRedrawThreshold:_B,deqCost:IB,deqAvgCost:qB,deqNoDrawCost:FB,deqFastCost:HB,deq:function(e,n){return e.dequeue(n)},onDeqd:$g,shouldRedraw:KE,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var oT={},Q2;function $B(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.lineTo(r.x,r.y)}}function XB(t,e,n){for(var r,i=0;i<e.length;i++){var l=e[i];i===0&&(r=l),t.lineTo(l.x,l.y)}t.quadraticCurveTo(n.x,n.y,r.x,r.y)}function Z2(t,e,n){t.beginPath&&t.beginPath();for(var r=e,i=0;i<r.length;i++){var l=r[i];t.lineTo(l.x,l.y)}var s=n,u=n[0];t.moveTo(u.x,u.y);for(var i=1;i<s.length;i++){var l=s[i];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function KB(t,e,n,r,i){t.beginPath&&t.beginPath(),t.arc(n,r,i,0,Math.PI*2,!1);var l=e,s=l[0];t.moveTo(s.x,s.y);for(var u=0;u<l.length;u++){var d=l[u];t.lineTo(d.x,d.y)}t.closePath&&t.closePath()}function QB(t,e,n,r){t.arc(e,n,r,0,Math.PI*2,!1)}oT.arrowShapeImpl=function(t){return(Q2||(Q2={polygon:$B,"triangle-backcurve":XB,"triangle-tee":Z2,"circle-triangle":KB,"triangle-cross":Z2,circle:QB}))[t]};var ga={};ga.drawElement=function(t,e,n,r,i,l){var s=this;e.isNode()?s.drawNode(t,e,n,r,i,l):s.drawEdge(t,e,n,r,i,l)};ga.drawElementOverlay=function(t,e){var n=this;e.isNode()?n.drawNodeOverlay(t,e):n.drawEdgeOverlay(t,e)};ga.drawElementUnderlay=function(t,e){var n=this;e.isNode()?n.drawNodeUnderlay(t,e):n.drawEdgeUnderlay(t,e)};ga.drawCachedElementPortion=function(t,e,n,r,i,l,s,u){var d=this,c=n.getBoundingBox(e);if(!(c.w===0||c.h===0)){var h=n.getElement(e,c,r,i,l);if(h!=null){var v=u(d,e);if(v===0)return;var m=s(d,e),y=c.x1,x=c.y1,S=c.w,w=c.h,E,T,k,N,M;if(m!==0){var R=n.getRotationPoint(e);k=R.x,N=R.y,t.translate(k,N),t.rotate(m),M=d.getImgSmoothing(t),M||d.setImgSmoothing(t,!0);var A=n.getRotationOffset(e);E=A.x,T=A.y}else E=y,T=x;var O;v!==1&&(O=t.globalAlpha,t.globalAlpha=O*v),t.drawImage(h.texture.canvas,h.x,0,h.width,h.height,E,T,S,w),v!==1&&(t.globalAlpha=O),m!==0&&(t.rotate(-m),t.translate(-k,-N),M||d.setImgSmoothing(t,!1))}else n.drawElement(t,e)}};var ZB=function(){return 0},WB=function(e,n){return e.getTextAngle(n,null)},JB=function(e,n){return e.getTextAngle(n,"source")},eO=function(e,n){return e.getTextAngle(n,"target")},tO=function(e,n){return n.effectiveOpacity()},bm=function(e,n){return n.pstyle("text-opacity").pfValue*n.effectiveOpacity()};ga.drawCachedElement=function(t,e,n,r,i,l){var s=this,u=s.data,d=u.eleTxrCache,c=u.lblTxrCache,h=u.slbTxrCache,v=u.tlbTxrCache,m=e.boundingBox(),y=l===!0?d.reasons.highQuality:null;if(!(m.w===0||m.h===0||!e.visible())&&(!r||Zg(m,r))){var x=e.isEdge(),S=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,d,n,i,y,ZB,tO),(!x||!S)&&s.drawCachedElementPortion(t,e,c,n,i,y,WB,bm),x&&!S&&(s.drawCachedElementPortion(t,e,h,n,i,y,JB,bm),s.drawCachedElementPortion(t,e,v,n,i,y,eO,bm)),s.drawElementOverlay(t,e)}};ga.drawElements=function(t,e){for(var n=this,r=0;r<e.length;r++){var i=e[r];n.drawElement(t,i)}};ga.drawCachedElements=function(t,e,n,r){for(var i=this,l=0;l<e.length;l++){var s=e[l];i.drawCachedElement(t,s,n,r)}};ga.drawCachedNodes=function(t,e,n,r){for(var i=this,l=0;l<e.length;l++){var s=e[l];s.isNode()&&i.drawCachedElement(t,s,n,r)}};ga.drawLayeredElements=function(t,e,n,r){var i=this,l=i.data.lyrTxrCache.getLayers(e,n);if(l)for(var s=0;s<l.length;s++){var u=l[s],d=u.bb;d.w===0||d.h===0||t.drawImage(u.canvas,d.x1,d.y1,d.w,d.h)}else i.drawCachedElements(t,e,n,r)};var Va={};Va.drawEdge=function(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,u=e._private.rscratch;if(!(l&&!e.visible())&&!(u.badLine||u.allpts==null||isNaN(u.allpts[0]))){var d;n&&(d=n,t.translate(-d.x1,-d.y1));var c=l?e.pstyle("opacity").value:1,h=l?e.pstyle("line-opacity").value:1,v=e.pstyle("curve-style").value,m=e.pstyle("line-style").value,y=e.pstyle("width").pfValue,x=e.pstyle("line-cap").value,S=e.pstyle("line-outline-width").value,w=e.pstyle("line-outline-color").value,E=c*h,T=c*h,k=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;v==="straight-triangle"?(s.eleStrokeStyle(t,e,$),s.drawEdgeTrianglePath(e,t,u.allpts)):(t.lineWidth=y,t.lineCap=x,s.eleStrokeStyle(t,e,$),s.drawEdgePath(e,t,u.allpts,m),t.lineCap="butt")},N=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;if(t.lineWidth=y+S,t.lineCap=x,S>0)s.colorStrokeStyle(t,w[0],w[1],w[2],$);else{t.lineCap="butt";return}v==="straight-triangle"?s.drawEdgeTrianglePath(e,t,u.allpts):(s.drawEdgePath(e,t,u.allpts,m),t.lineCap="butt")},M=function(){i&&s.drawEdgeOverlay(t,e)},R=function(){i&&s.drawEdgeUnderlay(t,e)},A=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T;s.drawArrowheads(t,e,$)},O=function(){s.drawElementText(t,e,null,r)};t.lineJoin="round";var B=e.pstyle("ghost").value==="yes";if(B){var P=e.pstyle("ghost-offset-x").pfValue,q=e.pstyle("ghost-offset-y").pfValue,L=e.pstyle("ghost-opacity").value,D=E*L;t.translate(P,q),k(D),A(D),t.translate(-P,-q)}else N();R(),k(),A(),M(),O(),n&&t.translate(d.x1,d.y1)}};var uT=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(n,r){if(r.visible()){var i=r.pstyle("".concat(e,"-opacity")).value;if(i!==0){var l=this,s=l.usePaths(),u=r._private.rscratch,d=r.pstyle("".concat(e,"-padding")).pfValue,c=2*d,h=r.pstyle("".concat(e,"-color")).value;n.lineWidth=c,u.edgeType==="self"&&!s?n.lineCap="butt":n.lineCap="round",l.colorStrokeStyle(n,h[0],h[1],h[2],i),l.drawEdgePath(r,n,u.allpts,"solid")}}}};Va.drawEdgeOverlay=uT("overlay");Va.drawEdgeUnderlay=uT("underlay");Va.drawEdgePath=function(t,e,n,r){var i=t._private.rscratch,l=e,s,u=!1,d=this.usePaths(),c=t.pstyle("line-dash-pattern").pfValue,h=t.pstyle("line-dash-offset").pfValue;if(d){var v=n.join("$"),m=i.pathCacheKey&&i.pathCacheKey===v;m?(s=e=i.pathCache,u=!0):(s=e=new Path2D,i.pathCacheKey=v,i.pathCache=s)}if(l.setLineDash)switch(r){case"dotted":l.setLineDash([1,1]);break;case"dashed":l.setLineDash(c),l.lineDashOffset=h;break;case"solid":l.setLineDash([]);break}if(!u&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(n[0],n[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var y=2;y+3<n.length;y+=4)e.quadraticCurveTo(n[y],n[y+1],n[y+2],n[y+3]);break;case"straight":case"haystack":for(var x=2;x+1<n.length;x+=2)e.lineTo(n[x],n[x+1]);break;case"segments":if(i.isRound){var S=vr(i.roundCorners),w;try{for(S.s();!(w=S.n()).done;){var E=w.value;ZC(e,E)}}catch(k){S.e(k)}finally{S.f()}e.lineTo(n[n.length-2],n[n.length-1])}else for(var T=2;T+1<n.length;T+=2)e.lineTo(n[T],n[T+1]);break}e=l,d?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};Va.drawEdgeTrianglePath=function(t,e,n){e.fillStyle=e.strokeStyle;for(var r=t.pstyle("width").pfValue,i=0;i+1<n.length;i+=2){var l=[n[i+2]-n[i],n[i+3]-n[i+1]],s=Math.sqrt(l[0]*l[0]+l[1]*l[1]),u=[l[1]/s,-l[0]/s],d=[u[0]*r/2,u[1]*r/2];e.beginPath(),e.moveTo(n[i]-d[0],n[i+1]-d[1]),e.lineTo(n[i]+d[0],n[i+1]+d[1]),e.lineTo(n[i+2],n[i+3]),e.closePath(),e.fill()}};Va.drawArrowheads=function(t,e,n){var r=e._private.rscratch,i=r.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(t,e,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(t,e,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(t,e,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)};Va.drawArrowhead=function(t,e,n,r,i,l,s){if(!(isNaN(r)||r==null||isNaN(i)||i==null||isNaN(l)||l==null)){var u=this,d=e.pstyle(n+"-arrow-shape").value;if(d!=="none"){var c=e.pstyle(n+"-arrow-fill").value==="hollow"?"both":"filled",h=e.pstyle(n+"-arrow-fill").value,v=e.pstyle("width").pfValue,m=e.pstyle(n+"-arrow-width"),y=m.value==="match-line"?v:m.pfValue;m.units==="%"&&(y*=v);var x=e.pstyle("opacity").value;s===void 0&&(s=x);var S=t.globalCompositeOperation;(s!==1||h==="hollow")&&(t.globalCompositeOperation="destination-out",u.colorFillStyle(t,255,255,255,1),u.colorStrokeStyle(t,255,255,255,1),u.drawArrowShape(e,t,c,v,d,y,r,i,l),t.globalCompositeOperation=S);var w=e.pstyle(n+"-arrow-color").value;u.colorFillStyle(t,w[0],w[1],w[2],s),u.colorStrokeStyle(t,w[0],w[1],w[2],s),u.drawArrowShape(e,t,h,v,d,y,r,i,l)}}};Va.drawArrowShape=function(t,e,n,r,i,l,s,u,d){var c=this,h=this.usePaths()&&i!=="triangle-cross",v=!1,m,y=e,x={x:s,y:u},S=t.pstyle("arrow-scale").value,w=this.getArrowWidth(r,S),E=c.arrowShapes[i];if(h){var T=c.arrowPathCache=c.arrowPathCache||[],k=pl(i),N=T[k];N!=null?(m=e=N,v=!0):(m=e=new Path2D,T[k]=m)}v||(e.beginPath&&e.beginPath(),h?E.draw(e,1,0,{x:0,y:0},1):E.draw(e,w,d,x,r),e.closePath&&e.closePath()),e=y,h&&(e.translate(s,u),e.rotate(d),e.scale(w,w)),(n==="filled"||n==="both")&&(h?e.fill(m):e.fill()),(n==="hollow"||n==="both")&&(e.lineWidth=l/(h?w:1),e.lineJoin="miter",h?e.stroke(m):e.stroke()),h&&(e.scale(1/w,1/w),e.rotate(-d),e.translate(-s,-u))};var dy={};dy.safeDrawImage=function(t,e,n,r,i,l,s,u,d,c){if(!(i<=0||l<=0||d<=0||c<=0))try{t.drawImage(e,n,r,i,l,s,u,d,c)}catch(h){qt(h)}};dy.drawInscribedImage=function(t,e,n,r,i){var l=this,s=n.position(),u=s.x,d=s.y,c=n.cy().style(),h=c.getIndexedStyle.bind(c),v=h(n,"background-fit","value",r),m=h(n,"background-repeat","value",r),y=n.width(),x=n.height(),S=n.padding()*2,w=y+(h(n,"background-width-relative-to","value",r)==="inner"?0:S),E=x+(h(n,"background-height-relative-to","value",r)==="inner"?0:S),T=n._private.rscratch,k=h(n,"background-clip","value",r),N=k==="node",M=h(n,"background-image-opacity","value",r)*i,R=h(n,"background-image-smoothing","value",r),A=n.pstyle("corner-radius").value;A!=="auto"&&(A=n.pstyle("corner-radius").pfValue);var O=e.width||e.cachedW,B=e.height||e.cachedH;(O==null||B==null)&&(document.body.appendChild(e),O=e.cachedW=e.width||e.offsetWidth,B=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var P=O,q=B;if(h(n,"background-width","value",r)!=="auto"&&(h(n,"background-width","units",r)==="%"?P=h(n,"background-width","pfValue",r)*w:P=h(n,"background-width","pfValue",r)),h(n,"background-height","value",r)!=="auto"&&(h(n,"background-height","units",r)==="%"?q=h(n,"background-height","pfValue",r)*E:q=h(n,"background-height","pfValue",r)),!(P===0||q===0)){if(v==="contain"){var L=Math.min(w/P,E/q);P*=L,q*=L}else if(v==="cover"){var L=Math.max(w/P,E/q);P*=L,q*=L}var D=u-w/2,F=h(n,"background-position-x","units",r),$=h(n,"background-position-x","pfValue",r);F==="%"?D+=(w-P)*$:D+=$;var H=h(n,"background-offset-x","units",r),V=h(n,"background-offset-x","pfValue",r);H==="%"?D+=(w-P)*V:D+=V;var K=d-E/2,ee=h(n,"background-position-y","units",r),I=h(n,"background-position-y","pfValue",r);ee==="%"?K+=(E-q)*I:K+=I;var _=h(n,"background-offset-y","units",r),X=h(n,"background-offset-y","pfValue",r);_==="%"?K+=(E-q)*X:K+=X,T.pathCache&&(D-=u,K-=d,u=0,d=0);var z=t.globalAlpha;t.globalAlpha=M;var ne=l.getImgSmoothing(t),le=!1;if(R==="no"&&ne?(l.setImgSmoothing(t,!1),le=!0):R==="yes"&&!ne&&(l.setImgSmoothing(t,!0),le=!0),m==="no-repeat")N&&(t.save(),T.pathCache?t.clip(T.pathCache):(l.nodeShapes[l.getNodeShape(n)].draw(t,u,d,w,E,A,T),t.clip())),l.safeDrawImage(t,e,0,0,O,B,D,K,P,q),N&&t.restore();else{var de=t.createPattern(e,m);t.fillStyle=de,l.nodeShapes[l.getNodeShape(n)].draw(t,u,d,w,E,A,T),t.translate(D,K),t.fill(),t.translate(-D,-K)}t.globalAlpha=z,le&&l.setImgSmoothing(t,ne)}};var El={};El.eleTextBiggerThanMin=function(t,e){if(!e){var n=t.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(Kg(n*r));e=Math.pow(2,i)}var l=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(l<s)};El.drawElementText=function(t,e,n,r,i){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(r==null){if(l&&!s.eleTextBiggerThanMin(e))return}else if(r===!1)return;if(e.isNode()){var u=e.pstyle("label");if(!u||!u.value)return;var d=s.getLabelJustification(e);t.textAlign=d,t.textBaseline="bottom"}else{var c=e.element()._private.rscratch.badLine,h=e.pstyle("label"),v=e.pstyle("source-label"),m=e.pstyle("target-label");if(c||(!h||!h.value)&&(!v||!v.value)&&(!m||!m.value))return;t.textAlign="center",t.textBaseline="bottom"}var y=!n,x;n&&(x=n,t.translate(-x.x1,-x.y1)),i==null?(s.drawText(t,e,null,y,l),e.isEdge()&&(s.drawText(t,e,"source",y,l),s.drawText(t,e,"target",y,l))):s.drawText(t,e,i,y,l),n&&t.translate(x.x1,x.y1)};El.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if(e=this.fontCaches[n],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};El.setupTextStyle=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",l=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,u=n?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,d=e.pstyle("text-outline-opacity").value*u,c=e.pstyle("color").value,h=e.pstyle("text-outline-color").value;t.font=r+" "+s+" "+i+" "+l,t.lineJoin="round",this.colorFillStyle(t,c[0],c[1],c[2],u),this.colorStrokeStyle(t,h[0],h[1],h[2],d)};function nO(t,e,n,r,i){var l=Math.min(r,i),s=l/2,u=e+r/2,d=n+i/2;t.beginPath(),t.arc(u,d,s,0,Math.PI*2),t.closePath()}function W2(t,e,n,r,i){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=Math.min(l,r/2,i/2);t.beginPath(),t.moveTo(e+s,n),t.lineTo(e+r-s,n),t.quadraticCurveTo(e+r,n,e+r,n+s),t.lineTo(e+r,n+i-s),t.quadraticCurveTo(e+r,n+i,e+r-s,n+i),t.lineTo(e+s,n+i),t.quadraticCurveTo(e,n+i,e,n+i-s),t.lineTo(e,n+s),t.quadraticCurveTo(e,n,e+s,n),t.closePath()}El.getTextAngle=function(t,e){var n,r=t._private,i=r.rscratch,l=e?e+"-":"",s=t.pstyle(l+"text-rotation");if(s.strValue==="autorotate"){var u=fr(i,"labelAngle",e);n=t.isEdge()?u:0}else s.strValue==="none"?n=0:n=s.pfValue;return n};El.drawText=function(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=e._private,s=l.rscratch,u=i?e.effectiveOpacity():1;if(!(i&&(u===0||e.pstyle("text-opacity").value===0))){n==="main"&&(n=null);var d=fr(s,"labelX",n),c=fr(s,"labelY",n),h,v,m=this.getLabelText(e,n);if(m!=null&&m!==""&&!isNaN(d)&&!isNaN(c)){this.setupTextStyle(t,e,i);var y=n?n+"-":"",x=fr(s,"labelWidth",n),S=fr(s,"labelHeight",n),w=e.pstyle(y+"text-margin-x").pfValue,E=e.pstyle(y+"text-margin-y").pfValue,T=e.isEdge(),k=e.pstyle("text-halign").value,N=e.pstyle("text-valign").value;T&&(k="center",N="center"),d+=w,c+=E;var M;switch(r?M=this.getTextAngle(e,n):M=0,M!==0&&(h=d,v=c,t.translate(h,v),t.rotate(M),d=0,c=0),N){case"top":break;case"center":c+=S/2;break;case"bottom":c+=S;break}var R=e.pstyle("text-background-opacity").value,A=e.pstyle("text-border-opacity").value,O=e.pstyle("text-border-width").pfValue,B=e.pstyle("text-background-padding").pfValue,P=e.pstyle("text-background-shape").strValue,q=P==="round-rectangle"||P==="roundrectangle",L=P==="circle",D=2;if(R>0||O>0&&A>0){var F=t.fillStyle,$=t.strokeStyle,H=t.lineWidth,V=e.pstyle("text-background-color").value,K=e.pstyle("text-border-color").value,ee=e.pstyle("text-border-style").value,I=R>0,_=O>0&&A>0,X=d-B;switch(k){case"left":X-=x;break;case"center":X-=x/2;break}var z=c-S-B,ne=x+2*B,le=S+2*B;if(I&&(t.fillStyle="rgba(".concat(V[0],",").concat(V[1],",").concat(V[2],",").concat(R*u,")")),_&&(t.strokeStyle="rgba(".concat(K[0],",").concat(K[1],",").concat(K[2],",").concat(A*u,")"),t.lineWidth=O,t.setLineDash))switch(ee){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=O/4,t.setLineDash([]);break;case"solid":default:t.setLineDash([]);break}if(q?(t.beginPath(),W2(t,X,z,ne,le,D)):L?(t.beginPath(),nO(t,X,z,ne,le)):(t.beginPath(),t.rect(X,z,ne,le)),I&&t.fill(),_&&t.stroke(),_&&ee==="double"){var de=O/2;t.beginPath(),q?W2(t,X+de,z+de,ne-2*de,le-2*de,D):t.rect(X+de,z+de,ne-2*de,le-2*de),t.stroke()}t.fillStyle=F,t.strokeStyle=$,t.lineWidth=H,t.setLineDash&&t.setLineDash([])}var ye=2*e.pstyle("text-outline-width").pfValue;if(ye>0&&(t.lineWidth=ye),e.pstyle("text-wrap").value==="wrap"){var je=fr(s,"labelWrapCachedLines",n),xe=fr(s,"labelLineHeight",n),ie=x/2,ue=this.getLabelJustification(e);switch(ue==="auto"||(k==="left"?ue==="left"?d+=-x:ue==="center"&&(d+=-ie):k==="center"?ue==="left"?d+=-ie:ue==="right"&&(d+=ie):k==="right"&&(ue==="center"?d+=ie:ue==="right"&&(d+=x))),N){case"top":c-=(je.length-1)*xe;break;case"center":case"bottom":c-=(je.length-1)*xe;break}for(var pe=0;pe<je.length;pe++)ye>0&&t.strokeText(je[pe],d,c),t.fillText(je[pe],d,c),c+=xe}else ye>0&&t.strokeText(m,d,c),t.fillText(m,d,c);M!==0&&(t.rotate(-M),t.translate(-h,-v))}}};var Ii={};Ii.drawNode=function(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,u,d,c=e._private,h=c.rscratch,v=e.position();if(!(!Fe(v.x)||!Fe(v.y))&&!(l&&!e.visible())){var m=l?e.effectiveOpacity():1,y=s.usePaths(),x,S=!1,w=e.padding();u=e.width()+2*w,d=e.height()+2*w;var E;n&&(E=n,t.translate(-E.x1,-E.y1));for(var T=e.pstyle("background-image"),k=T.value,N=new Array(k.length),M=new Array(k.length),R=0,A=0;A<k.length;A++){var O=k[A],B=N[A]=O!=null&&O!=="none";if(B){var P=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",A);R++,M[A]=s.getCachedImage(O,P,function(){c.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var q=e.pstyle("background-blacken").value,L=e.pstyle("border-width").pfValue,D=e.pstyle("background-opacity").value*m,F=e.pstyle("border-color").value,$=e.pstyle("border-style").value,H=e.pstyle("border-join").value,V=e.pstyle("border-cap").value,K=e.pstyle("border-position").value,ee=e.pstyle("border-dash-pattern").pfValue,I=e.pstyle("border-dash-offset").pfValue,_=e.pstyle("border-opacity").value*m,X=e.pstyle("outline-width").pfValue,z=e.pstyle("outline-color").value,ne=e.pstyle("outline-style").value,le=e.pstyle("outline-opacity").value*m,de=e.pstyle("outline-offset").value,ye=e.pstyle("corner-radius").value;ye!=="auto"&&(ye=e.pstyle("corner-radius").pfValue);var je=function(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D;s.eleFillStyle(t,e,Ie)},xe=function(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_;s.colorStrokeStyle(t,F[0],F[1],F[2],Ie)},ie=function(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:le;s.colorStrokeStyle(t,z[0],z[1],z[2],Ie)},ue=function(Ie,Ce,Y,U){var Q=s.nodePathCache=s.nodePathCache||[],Z=XE(Y==="polygon"?Y+","+U.join(","):Y,""+Ce,""+Ie,""+ye),J=Q[Z],ce,re=!1;return J!=null?(ce=J,re=!0,h.pathCache=ce):(ce=new Path2D,Q[Z]=h.pathCache=ce),{path:ce,cacheHit:re}},pe=e.pstyle("shape").strValue,Te=e.pstyle("shape-polygon-points").pfValue;if(y){t.translate(v.x,v.y);var Le=ue(u,d,pe,Te);x=Le.path,S=Le.cacheHit}var Ye=function(){if(!S){var Ie=v;y&&(Ie={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(x||t,Ie.x,Ie.y,u,d,ye,h)}y?t.fill(x):t.fill()},dt=function(){for(var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m,Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Y=c.backgrounding,U=0,Q=0;Q<M.length;Q++){var Z=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Q);if(Ce&&Z==="over"||!Ce&&Z==="inside"){U++;continue}N[Q]&&M[Q].complete&&!M[Q].error&&(U++,s.drawInscribedImage(t,M[Q],e,Q,Ie))}c.backgrounding=U!==R,Y!==c.backgrounding&&e.updateStyle(!1)},nt=function(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m;s.hasPie(e)&&(s.drawPie(t,e,Ce),Ie&&(y||s.nodeShapes[s.getNodeShape(e)].draw(t,v.x,v.y,u,d,ye,h)))},$e=function(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m;s.hasStripe(e)&&(t.save(),y?t.clip(h.pathCache):(s.nodeShapes[s.getNodeShape(e)].draw(t,v.x,v.y,u,d,ye,h),t.clip()),s.drawStripe(t,e,Ce),t.restore(),Ie&&(y||s.nodeShapes[s.getNodeShape(e)].draw(t,v.x,v.y,u,d,ye,h)))},Ge=function(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m,Ce=(q>0?q:-q)*Ie,Y=q>0?0:255;q!==0&&(s.colorFillStyle(t,Y,Y,Y,Ce),y?t.fill(x):t.fill())},Pe=function(){if(L>0){if(t.lineWidth=L,t.lineCap=V,t.lineJoin=H,t.setLineDash)switch($){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(ee),t.lineDashOffset=I;break;case"solid":case"double":t.setLineDash([]);break}if(K!=="center"){if(t.save(),t.lineWidth*=2,K==="inside")y?t.clip(x):t.clip();else{var Ie=new Path2D;Ie.rect(-u/2-L,-d/2-L,u+2*L,d+2*L),Ie.addPath(x),t.clip(Ie,"evenodd")}y?t.stroke(x):t.stroke(),t.restore()}else y?t.stroke(x):t.stroke();if($==="double"){t.lineWidth=L/3;var Ce=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",y?t.stroke(x):t.stroke(),t.globalCompositeOperation=Ce}t.setLineDash&&t.setLineDash([])}},Xe=function(){if(X>0){if(t.lineWidth=X,t.lineCap="butt",t.setLineDash)switch(ne){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var Ie=v;y&&(Ie={x:0,y:0});var Ce=s.getNodeShape(e),Y=L;K==="inside"&&(Y=0),K==="outside"&&(Y*=2);var U=(u+Y+(X+de))/u,Q=(d+Y+(X+de))/d,Z=u*U,J=d*Q,ce=s.nodeShapes[Ce].points,re;if(y){var me=ue(Z,J,Ce,ce);re=me.path}if(Ce==="ellipse")s.drawEllipsePath(re||t,Ie.x,Ie.y,Z,J);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(Ce)){var oe=0,Ee=0,De=0;Ce==="round-diamond"?oe=(Y+de+X)*1.4:Ce==="round-heptagon"?(oe=(Y+de+X)*1.075,De=-(Y/2+de+X)/35):Ce==="round-hexagon"?oe=(Y+de+X)*1.12:Ce==="round-pentagon"?(oe=(Y+de+X)*1.13,De=-(Y/2+de+X)/15):Ce==="round-tag"?(oe=(Y+de+X)*1.12,Ee=(Y/2+X+de)*.07):Ce==="round-triangle"&&(oe=(Y+de+X)*(Math.PI/2),De=-(Y+de/2+X)/Math.PI),oe!==0&&(U=(u+oe)/u,Z=u*U,["round-hexagon","round-tag"].includes(Ce)||(Q=(d+oe)/d,J=d*Q)),ye=ye==="auto"?aC(Z,J):ye;for(var Oe=Z/2,Se=J/2,Me=ye+(Y+X+de)/2,Be=new Array(ce.length/2),He=new Array(ce.length/2),Ke=0;Ke<ce.length/2;Ke++)Be[Ke]={x:Ie.x+Ee+Oe*ce[Ke*2],y:Ie.y+De+Se*ce[Ke*2+1]};var et,it,ot,ct,vt=Be.length;for(it=Be[vt-1],et=0;et<vt;et++)ot=Be[et%vt],ct=Be[(et+1)%vt],He[et]=uy(it,ot,ct,Me),it=ot,ot=ct;s.drawRoundPolygonPath(re||t,Ie.x+Ee,Ie.y+De,u*U,d*Q,ce,He)}else if(["roundrectangle","round-rectangle"].includes(Ce))ye=ye==="auto"?Di(Z,J):ye,s.drawRoundRectanglePath(re||t,Ie.x,Ie.y,Z,J,ye+(Y+X+de)/2);else if(["cutrectangle","cut-rectangle"].includes(Ce))ye=ye==="auto"?Wg():ye,s.drawCutRectanglePath(re||t,Ie.x,Ie.y,Z,J,null,ye+(Y+X+de)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(Ce))ye=ye==="auto"?Di(Z,J):ye,s.drawBottomRoundRectanglePath(re||t,Ie.x,Ie.y,Z,J,ye+(Y+X+de)/2);else if(Ce==="barrel")s.drawBarrelPath(re||t,Ie.x,Ie.y,Z,J);else if(Ce.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(Ce)){var At=(Y+X+de)/u;ce=Gd(Yd(ce,At)),s.drawPolygonPath(re||t,Ie.x,Ie.y,u,d,ce)}else{var lt=(Y+X+de)/u;ce=Gd(Yd(ce,-lt)),s.drawPolygonPath(re||t,Ie.x,Ie.y,u,d,ce)}if(y?t.stroke(re):t.stroke(),ne==="double"){t.lineWidth=Y/3;var Et=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",y?t.stroke(re):t.stroke(),t.globalCompositeOperation=Et}t.setLineDash&&t.setLineDash([])}},We=function(){i&&s.drawNodeOverlay(t,e,v,u,d)},at=function(){i&&s.drawNodeUnderlay(t,e,v,u,d)},Ue=function(){s.drawElementText(t,e,null,r)},ft=e.pstyle("ghost").value==="yes";if(ft){var he=e.pstyle("ghost-offset-x").pfValue,Ae=e.pstyle("ghost-offset-y").pfValue,_e=e.pstyle("ghost-opacity").value,Ve=_e*m;t.translate(he,Ae),ie(),Xe(),je(_e*D),Ye(),dt(Ve,!0),xe(_e*_),Pe(),nt(q!==0||L!==0),$e(q!==0||L!==0),dt(Ve,!1),Ge(Ve),t.translate(-he,-Ae)}y&&t.translate(-v.x,-v.y),at(),y&&t.translate(v.x,v.y),ie(),Xe(),je(),Ye(),dt(m,!0),xe(),Pe(),nt(q!==0||L!==0),$e(q!==0||L!==0),dt(m,!1),Ge(),y&&t.translate(-v.x,-v.y),Ue(),We(),n&&t.translate(E.x1,E.y1)}};var cT=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(n,r,i,l,s){var u=this;if(r.visible()){var d=r.pstyle("".concat(e,"-padding")).pfValue,c=r.pstyle("".concat(e,"-opacity")).value,h=r.pstyle("".concat(e,"-color")).value,v=r.pstyle("".concat(e,"-shape")).value,m=r.pstyle("".concat(e,"-corner-radius")).value;if(c>0){if(i=i||r.position(),l==null||s==null){var y=r.padding();l=r.width()+2*y,s=r.height()+2*y}u.colorFillStyle(n,h[0],h[1],h[2],c),u.nodeShapes[v].draw(n,i.x,i.y,l+d*2,s+d*2,m),n.fill()}}}};Ii.drawNodeOverlay=cT("overlay");Ii.drawNodeUnderlay=cT("underlay");Ii.hasPie=function(t){return t=t[0],t._private.hasPie};Ii.hasStripe=function(t){return t=t[0],t._private.hasStripe};Ii.drawPie=function(t,e,n,r){e=e[0],r=r||e.position();var i=e.cy().style(),l=e.pstyle("pie-size"),s=e.pstyle("pie-hole"),u=e.pstyle("pie-start-angle").pfValue,d=r.x,c=r.y,h=e.width(),v=e.height(),m=Math.min(h,v)/2,y,x=0,S=this.usePaths();if(S&&(d=0,c=0),l.units==="%"?m=m*l.pfValue:l.pfValue!==void 0&&(m=l.pfValue/2),s.units==="%"?y=m*s.pfValue:s.pfValue!==void 0&&(y=s.pfValue/2),!(y>=m))for(var w=1;w<=i.pieBackgroundN;w++){var E=e.pstyle("pie-"+w+"-background-size").value,T=e.pstyle("pie-"+w+"-background-color").value,k=e.pstyle("pie-"+w+"-background-opacity").value*n,N=E/100;N+x>1&&(N=1-x);var M=1.5*Math.PI+2*Math.PI*x;M+=u;var R=2*Math.PI*N,A=M+R;E===0||x>=1||x+N>1||(y===0?(t.beginPath(),t.moveTo(d,c),t.arc(d,c,m,M,A),t.closePath()):(t.beginPath(),t.arc(d,c,m,M,A),t.arc(d,c,y,A,M,!0),t.closePath()),this.colorFillStyle(t,T[0],T[1],T[2],k),t.fill(),x+=N)}};Ii.drawStripe=function(t,e,n,r){e=e[0],r=r||e.position();var i=e.cy().style(),l=r.x,s=r.y,u=e.width(),d=e.height(),c=0,h=this.usePaths();t.save();var v=e.pstyle("stripe-direction").value,m=e.pstyle("stripe-size");switch(v){case"vertical":break;case"righward":t.rotate(-Math.PI/2);break}var y=u,x=d;m.units==="%"?(y=y*m.pfValue,x=x*m.pfValue):m.pfValue!==void 0&&(y=m.pfValue,x=m.pfValue),h&&(l=0,s=0),s-=y/2,l-=x/2;for(var S=1;S<=i.stripeBackgroundN;S++){var w=e.pstyle("stripe-"+S+"-background-size").value,E=e.pstyle("stripe-"+S+"-background-color").value,T=e.pstyle("stripe-"+S+"-background-opacity").value*n,k=w/100;k+c>1&&(k=1-c),!(w===0||c>=1||c+k>1)&&(t.beginPath(),t.rect(l,s+x*c,y,x*k),t.closePath(),this.colorFillStyle(t,E[0],E[1],E[2],T),t.fill(),c+=k)}t.restore()};var tr={},rO=100;tr.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),n=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/n};tr.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],n=!0,r,i=0;i<e.length;i++)if(r=e[i],r.context===t){n=!1;break}return n&&(r={context:t},e.push(r)),r};tr.createGradientStyleFor=function(t,e,n,r,i){var l,s=this.usePaths(),u=n.pstyle(e+"-gradient-stop-colors").value,d=n.pstyle(e+"-gradient-stop-positions").pfValue;if(r==="radial-gradient")if(n.isEdge()){var c=n.sourceEndpoint(),h=n.targetEndpoint(),v=n.midpoint(),m=ml(c,v),y=ml(h,v);l=t.createRadialGradient(v.x,v.y,0,v.x,v.y,Math.max(m,y))}else{var x=s?{x:0,y:0}:n.position(),S=n.paddedWidth(),w=n.paddedHeight();l=t.createRadialGradient(x.x,x.y,0,x.x,x.y,Math.max(S,w))}else if(n.isEdge()){var E=n.sourceEndpoint(),T=n.targetEndpoint();l=t.createLinearGradient(E.x,E.y,T.x,T.y)}else{var k=s?{x:0,y:0}:n.position(),N=n.paddedWidth(),M=n.paddedHeight(),R=N/2,A=M/2,O=n.pstyle("background-gradient-direction").value;switch(O){case"to-bottom":l=t.createLinearGradient(k.x,k.y-A,k.x,k.y+A);break;case"to-top":l=t.createLinearGradient(k.x,k.y+A,k.x,k.y-A);break;case"to-left":l=t.createLinearGradient(k.x+R,k.y,k.x-R,k.y);break;case"to-right":l=t.createLinearGradient(k.x-R,k.y,k.x+R,k.y);break;case"to-bottom-right":case"to-right-bottom":l=t.createLinearGradient(k.x-R,k.y-A,k.x+R,k.y+A);break;case"to-top-right":case"to-right-top":l=t.createLinearGradient(k.x-R,k.y+A,k.x+R,k.y-A);break;case"to-bottom-left":case"to-left-bottom":l=t.createLinearGradient(k.x+R,k.y-A,k.x-R,k.y+A);break;case"to-top-left":case"to-left-top":l=t.createLinearGradient(k.x+R,k.y+A,k.x-R,k.y-A);break}}if(!l)return null;for(var B=d.length===u.length,P=u.length,q=0;q<P;q++)l.addColorStop(B?d[q]:q/(P-1),"rgba("+u[q][0]+","+u[q][1]+","+u[q][2]+","+i+")");return l};tr.gradientFillStyle=function(t,e,n,r){var i=this.createGradientStyleFor(t,"background",e,n,r);if(!i)return null;t.fillStyle=i};tr.colorFillStyle=function(t,e,n,r,i){t.fillStyle="rgba("+e+","+n+","+r+","+i+")"};tr.eleFillStyle=function(t,e,n){var r=e.pstyle("background-fill").value;if(r==="linear-gradient"||r==="radial-gradient")this.gradientFillStyle(t,e,r,n);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],n)}};tr.gradientStrokeStyle=function(t,e,n,r){var i=this.createGradientStyleFor(t,"line",e,n,r);if(!i)return null;t.strokeStyle=i};tr.colorStrokeStyle=function(t,e,n,r,i){t.strokeStyle="rgba("+e+","+n+","+r+","+i+")"};tr.eleStrokeStyle=function(t,e,n){var r=e.pstyle("line-fill").value;if(r==="linear-gradient"||r==="radial-gradient")this.gradientStrokeStyle(t,e,r,n);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],n)}};tr.matchCanvasSize=function(t){var e=this,n=e.data,r=e.findContainerClientCoords(),i=r[2],l=r[3],s=e.getPixelRatio(),u=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=u);var d=i*s,c=l*s,h;if(!(d===e.canvasWidth&&c===e.canvasHeight)){e.fontCaches=null;var v=n.canvasContainer;v.style.width=i+"px",v.style.height=l+"px";for(var m=0;m<e.CANVAS_LAYERS;m++)h=n.canvases[m],h.width=d,h.height=c,h.style.width=i+"px",h.style.height=l+"px";for(var m=0;m<e.BUFFER_COUNT;m++)h=n.bufferCanvases[m],h.width=d,h.height=c,h.style.width=i+"px",h.style.height=l+"px";e.textureMult=1,s<=1&&(h=n.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,h.width=d*e.textureMult,h.height=c*e.textureMult),e.canvasWidth=d,e.canvasHeight=c,e.pixelRatio=s}};tr.renderTo=function(t,e,n,r){this.render({forcedContext:t,forcedZoom:e,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})};tr.clearCanvas=function(){var t=this,e=t.data;function n(r){r.clearRect(0,0,t.canvasWidth,t.canvasHeight)}n(e.contexts[t.NODE]),n(e.contexts[t.DRAG])};tr.render=function(t){var e=this;t=t||WE();var n=e.cy,r=t.forcedContext,i=t.drawAllLayers,l=t.drawOnlyNodeLayer,s=t.forcedZoom,u=t.forcedPan,d=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,c=e.data,h=c.canvasNeedsRedraw,v=e.textureOnViewport&&!r&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),m=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,y=e.motionBlurPxRatio,x=n.hasCompoundNodes(),S=e.hoverData.draggingEles,w=!!(e.hoverData.selecting||e.touchData.selecting);m=m&&!r&&e.motionBlurEnabled&&!w;var E=m;r||(e.prevPxRatio!==d&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=d),!r&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),m&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(E=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!v&&(h[e.NODE]=!0,h[e.SELECT_BOX]=!0);var T=n.style(),k=n.zoom(),N=s!==void 0?s:k,M=n.pan(),R={x:M.x,y:M.y},A={zoom:k,pan:{x:M.x,y:M.y}},O=e.prevViewport,B=O===void 0||A.zoom!==O.zoom||A.pan.x!==O.pan.x||A.pan.y!==O.pan.y;!B&&!(S&&!x)&&(e.motionBlurPxRatio=1),u&&(R=u),N*=d,R.x*=d,R.y*=d;var P=e.getCachedZSortedEles();function q(xe,ie,ue,pe,Te){var Le=xe.globalCompositeOperation;xe.globalCompositeOperation="destination-out",e.colorFillStyle(xe,255,255,255,e.motionBlurTransparency),xe.fillRect(ie,ue,pe,Te),xe.globalCompositeOperation=Le}function L(xe,ie){var ue,pe,Te,Le;!e.clearingMotionBlur&&(xe===c.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||xe===c.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(ue={x:M.x*y,y:M.y*y},pe=k*y,Te=e.canvasWidth*y,Le=e.canvasHeight*y):(ue=R,pe=N,Te=e.canvasWidth,Le=e.canvasHeight),xe.setTransform(1,0,0,1,0,0),ie==="motionBlur"?q(xe,0,0,Te,Le):!r&&(ie===void 0||ie)&&xe.clearRect(0,0,Te,Le),i||(xe.translate(ue.x,ue.y),xe.scale(pe,pe)),u&&xe.translate(u.x,u.y),s&&xe.scale(s,s)}if(v||(e.textureDrawLastFrame=!1),v){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=n.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var D=e.data.bufferContexts[e.TEXTURE_BUFFER];D.setTransform(1,0,0,1,0,0),D.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:D,drawOnlyNodeLayer:!0,forcedPxRatio:d*e.textureMult});var A=e.textureCache.viewport={zoom:n.zoom(),pan:n.pan(),width:e.canvasWidth,height:e.canvasHeight};A.mpan={x:(0-A.pan.x)/A.zoom,y:(0-A.pan.y)/A.zoom}}h[e.DRAG]=!1,h[e.NODE]=!1;var F=c.contexts[e.NODE],$=e.textureCache.texture,A=e.textureCache.viewport;F.setTransform(1,0,0,1,0,0),m?q(F,0,0,A.width,A.height):F.clearRect(0,0,A.width,A.height);var H=T.core("outside-texture-bg-color").value,V=T.core("outside-texture-bg-opacity").value;e.colorFillStyle(F,H[0],H[1],H[2],V),F.fillRect(0,0,A.width,A.height);var k=n.zoom();L(F,!1),F.clearRect(A.mpan.x,A.mpan.y,A.width/A.zoom/d,A.height/A.zoom/d),F.drawImage($,A.mpan.x,A.mpan.y,A.width/A.zoom/d,A.height/A.zoom/d)}else e.textureOnViewport&&!r&&(e.textureCache=null);var K=n.extent(),ee=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),I=e.hideEdgesOnViewport&&ee,_=[];if(_[e.NODE]=!h[e.NODE]&&m&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,_[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),_[e.DRAG]=!h[e.DRAG]&&m&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,_[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),h[e.NODE]||i||l||_[e.NODE]){var X=m&&!_[e.NODE]&&y!==1,F=r||(X?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:c.contexts[e.NODE]),z=m&&!X?"motionBlur":void 0;L(F,z),I?e.drawCachedNodes(F,P.nondrag,d,K):e.drawLayeredElements(F,P.nondrag,d,K),e.debug&&e.drawDebugPoints(F,P.nondrag),!i&&!m&&(h[e.NODE]=!1)}if(!l&&(h[e.DRAG]||i||_[e.DRAG])){var X=m&&!_[e.DRAG]&&y!==1,F=r||(X?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:c.contexts[e.DRAG]);L(F,m&&!X?"motionBlur":void 0),I?e.drawCachedNodes(F,P.drag,d,K):e.drawCachedElements(F,P.drag,d,K),e.debug&&e.drawDebugPoints(F,P.drag),!i&&!m&&(h[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,L),m&&y!==1){var ne=c.contexts[e.NODE],le=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],de=c.contexts[e.DRAG],ye=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],je=function(ie,ue,pe){ie.setTransform(1,0,0,1,0,0),pe||!E?ie.clearRect(0,0,e.canvasWidth,e.canvasHeight):q(ie,0,0,e.canvasWidth,e.canvasHeight);var Te=y;ie.drawImage(ue,0,0,e.canvasWidth*Te,e.canvasHeight*Te,0,0,e.canvasWidth,e.canvasHeight)};(h[e.NODE]||_[e.NODE])&&(je(ne,le,_[e.NODE]),h[e.NODE]=!1),(h[e.DRAG]||_[e.DRAG])&&(je(de,ye,_[e.DRAG]),h[e.DRAG]=!1)}e.prevViewport=A,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),m&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!v,e.mbFrames=0,h[e.NODE]=!0,h[e.DRAG]=!0,e.redraw()},rO)),r||n.emit("render")};var Po;tr.drawSelectionRectangle=function(t,e){var n=this,r=n.cy,i=n.data,l=r.style(),s=t.drawOnlyNodeLayer,u=t.drawAllLayers,d=i.canvasNeedsRedraw,c=t.forcedContext;if(n.showFps||!s&&d[n.SELECT_BOX]&&!u){var h=c||i.contexts[n.SELECT_BOX];if(e(h),n.selection[4]==1&&(n.hoverData.selecting||n.touchData.selecting)){var v=n.cy.zoom(),m=l.core("selection-box-border-width").value/v;h.lineWidth=m,h.fillStyle="rgba("+l.core("selection-box-color").value[0]+","+l.core("selection-box-color").value[1]+","+l.core("selection-box-color").value[2]+","+l.core("selection-box-opacity").value+")",h.fillRect(n.selection[0],n.selection[1],n.selection[2]-n.selection[0],n.selection[3]-n.selection[1]),m>0&&(h.strokeStyle="rgba("+l.core("selection-box-border-color").value[0]+","+l.core("selection-box-border-color").value[1]+","+l.core("selection-box-border-color").value[2]+","+l.core("selection-box-opacity").value+")",h.strokeRect(n.selection[0],n.selection[1],n.selection[2]-n.selection[0],n.selection[3]-n.selection[1]))}if(i.bgActivePosistion&&!n.hoverData.selecting){var v=n.cy.zoom(),y=i.bgActivePosistion;h.fillStyle="rgba("+l.core("active-bg-color").value[0]+","+l.core("active-bg-color").value[1]+","+l.core("active-bg-color").value[2]+","+l.core("active-bg-opacity").value+")",h.beginPath(),h.arc(y.x,y.y,l.core("active-bg-size").pfValue/v,0,2*Math.PI),h.fill()}var x=n.lastRedrawTime;if(n.showFps&&x){x=Math.round(x);var S=Math.round(1e3/x),w="1 frame = "+x+" ms = "+S+" fps";if(h.setTransform(1,0,0,1,0,0),h.fillStyle="rgba(255, 0, 0, 0.75)",h.strokeStyle="rgba(255, 0, 0, 0.75)",h.font="30px Arial",!Po){var E=h.measureText(w);Po=E.actualBoundingBoxAscent}h.fillText(w,0,Po);var T=60;h.strokeRect(0,Po+10,250,20),h.fillRect(0,Po+10,250*Math.min(S/T,1),20)}u||(d[n.SELECT_BOX]=!1)}};function J2(t,e,n){var r=t.createShader(e);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(r));return r}function aO(t,e,n){var r=J2(t,t.VERTEX_SHADER,e),i=J2(t,t.FRAGMENT_SHADER,n),l=t.createProgram();if(t.attachShader(l,r),t.attachShader(l,i),t.linkProgram(l),!t.getProgramParameter(l,t.LINK_STATUS))throw new Error("Could not initialize shaders");return l}function iO(t,e,n){n===void 0&&(n=e);var r=t.makeOffscreenCanvas(e,n),i=r.context=r.getContext("2d");return r.clear=function(){return i.clearRect(0,0,r.width,r.height)},r.clear(),r}function fy(t){var e=t.pixelRatio,n=t.cy.zoom(),r=t.cy.pan();return{zoom:n*e,pan:{x:r.x*e,y:r.y*e}}}function lO(t){var e=t.pixelRatio,n=t.cy.zoom();return n*e}function sO(t,e,n,r,i){var l=r*n+e.x,s=i*n+e.y;return s=Math.round(t.canvasHeight-s),[l,s]}function oO(t){return t.pstyle("background-fill").value!=="solid"||t.pstyle("background-image").strValue!=="none"?!1:t.pstyle("border-width").value===0||t.pstyle("border-opacity").value===0?!0:t.pstyle("border-style").value==="solid"}function uO(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function sl(t,e,n){var r=t[0]/255,i=t[1]/255,l=t[2]/255,s=e,u=n||new Array(4);return u[0]=r*s,u[1]=i*s,u[2]=l*s,u[3]=s,u}function cs(t,e){var n=e||new Array(4);return n[0]=(t>>0&255)/255,n[1]=(t>>8&255)/255,n[2]=(t>>16&255)/255,n[3]=(t>>24&255)/255,n}function cO(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function dO(t,e){var n=t.createTexture();return n.buffer=function(r){t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},n.deleteTexture=function(){t.deleteTexture(n)},n}function dT(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function fT(t,e,n){switch(e){case t.FLOAT:return new Float32Array(n);case t.INT:return new Int32Array(n)}}function fO(t,e,n,r,i,l){switch(e){case t.FLOAT:return new Float32Array(n.buffer,l*r,i);case t.INT:return new Int32Array(n.buffer,l*r,i)}}function hO(t,e,n,r){var i=dT(t,e),l=Tn(i,2),s=l[0],u=l[1],d=fT(t,u,r),c=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,d,t.STATIC_DRAW),u===t.FLOAT?t.vertexAttribPointer(n,s,u,!1,0,0):u===t.INT&&t.vertexAttribIPointer(n,s,u,0,0),t.enableVertexAttribArray(n),t.bindBuffer(t.ARRAY_BUFFER,null),c}function ia(t,e,n,r){var i=dT(t,n),l=Tn(i,3),s=l[0],u=l[1],d=l[2],c=fT(t,u,e*s),h=s*d,v=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,v),t.bufferData(t.ARRAY_BUFFER,e*h,t.DYNAMIC_DRAW),t.enableVertexAttribArray(r),u===t.FLOAT?t.vertexAttribPointer(r,s,u,!1,h,0):u===t.INT&&t.vertexAttribIPointer(r,s,u,h,0),t.vertexAttribDivisor(r,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var m=new Array(e),y=0;y<e;y++)m[y]=fO(t,u,c,h,s,y);return v.dataArray=c,v.stride=h,v.size=s,v.getView=function(x){return m[x]},v.setPoint=function(x,S,w){var E=m[x];E[0]=S,E[1]=w},v.bufferSubData=function(x){t.bindBuffer(t.ARRAY_BUFFER,v),x?t.bufferSubData(t.ARRAY_BUFFER,0,c,0,x*s):t.bufferSubData(t.ARRAY_BUFFER,0,c)},v}function vO(t,e,n){for(var r=9,i=new Float32Array(e*r),l=new Array(e),s=0;s<e;s++){var u=s*r*4;l[s]=new Float32Array(i.buffer,u,r)}var d=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,d),t.bufferData(t.ARRAY_BUFFER,i.byteLength,t.DYNAMIC_DRAW);for(var c=0;c<3;c++){var h=n+c;t.enableVertexAttribArray(h),t.vertexAttribPointer(h,3,t.FLOAT,!1,36,c*12),t.vertexAttribDivisor(h,1)}return t.bindBuffer(t.ARRAY_BUFFER,null),d.getMatrixView=function(v){return l[v]},d.setData=function(v,m){l[m].set(v,0)},d.bufferSubData=function(){t.bindBuffer(t.ARRAY_BUFFER,d),t.bufferSubData(t.ARRAY_BUFFER,0,i)},d}function pO(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(r,i){t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r,i,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var eS=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function wm(){var t=new eS(9);return eS!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function tS(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function mO(t,e,n){var r=e[0],i=e[1],l=e[2],s=e[3],u=e[4],d=e[5],c=e[6],h=e[7],v=e[8],m=n[0],y=n[1],x=n[2],S=n[3],w=n[4],E=n[5],T=n[6],k=n[7],N=n[8];return t[0]=m*r+y*s+x*c,t[1]=m*i+y*u+x*h,t[2]=m*l+y*d+x*v,t[3]=S*r+w*s+E*c,t[4]=S*i+w*u+E*h,t[5]=S*l+w*d+E*v,t[6]=T*r+k*s+N*c,t[7]=T*i+k*u+N*h,t[8]=T*l+k*d+N*v,t}function Bd(t,e,n){var r=e[0],i=e[1],l=e[2],s=e[3],u=e[4],d=e[5],c=e[6],h=e[7],v=e[8],m=n[0],y=n[1];return t[0]=r,t[1]=i,t[2]=l,t[3]=s,t[4]=u,t[5]=d,t[6]=m*r+y*s+c,t[7]=m*i+y*u+h,t[8]=m*l+y*d+v,t}function nS(t,e,n){var r=e[0],i=e[1],l=e[2],s=e[3],u=e[4],d=e[5],c=e[6],h=e[7],v=e[8],m=Math.sin(n),y=Math.cos(n);return t[0]=y*r+m*s,t[1]=y*i+m*u,t[2]=y*l+m*d,t[3]=y*s-m*r,t[4]=y*u-m*i,t[5]=y*d-m*l,t[6]=c,t[7]=h,t[8]=v,t}function hg(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function gO(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var yO=(function(){function t(e,n,r,i){zi(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=n,this.texRows=r,this.texHeight=Math.floor(n/r),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=i(e,n,n),this.scratch=i(e,n,this.texHeight,"scratch")}return _i(t,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(n){var r=n.w,i=n.h,l=this.texHeight,s=this.texSize,u=l/i,d=r*u,c=i*u;return d>s&&(u=s/r,d=r*u,c=i*u),{scale:u,texW:d,texH:c}}},{key:"draw",value:function(n,r,i){var l=this;if(this.locked)throw new Error("can't draw, atlas is locked");var s=this.texSize,u=this.texRows,d=this.texHeight,c=this.getScale(r),h=c.scale,v=c.texW,m=c.texH,y=function(k,N){if(i&&N){var M=N.context,R=k.x,A=k.row,O=R,B=d*A;M.save(),M.translate(O,B),M.scale(h,h),i(M,r),M.restore()}},x=[null,null],S=function(){y(l.freePointer,l.canvas),x[0]={x:l.freePointer.x,y:l.freePointer.row*d,w:v,h:m},x[1]={x:l.freePointer.x+v,y:l.freePointer.row*d,w:0,h:m},l.freePointer.x+=v,l.freePointer.x==s&&(l.freePointer.x=0,l.freePointer.row++)},w=function(){var k=l.scratch,N=l.canvas;k.clear(),y({x:0,row:0},k);var M=s-l.freePointer.x,R=v-M,A=d;{var O=l.freePointer.x,B=l.freePointer.row*d,P=M;N.context.drawImage(k,0,0,P,A,O,B,P,A),x[0]={x:O,y:B,w:P,h:m}}{var q=M,L=(l.freePointer.row+1)*d,D=R;N&&N.context.drawImage(k,q,0,D,A,0,L,D,A),x[1]={x:0,y:L,w:D,h:m}}l.freePointer.x=R,l.freePointer.row++},E=function(){l.freePointer.x=0,l.freePointer.row++};if(this.freePointer.x+v<=s)S();else{if(this.freePointer.row>=u-1)return!1;this.freePointer.x===s?(E(),S()):this.enableWrapping?w():(E(),S())}return this.keyToLocation.set(n,x),this.needsBuffer=!0,x}},{key:"getOffsets",value:function(n){return this.keyToLocation.get(n)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(n){if(this.locked)return!1;var r=this.texSize,i=this.texRows,l=this.getScale(n),s=l.texW;return this.freePointer.x+s>r?this.freePointer.row<i-1:!0}},{key:"bufferIfNeeded",value:function(n){this.texture||(this.texture=dO(n,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])})(),xO=(function(){function t(e,n,r,i){zi(this,t),this.r=e,this.texSize=n,this.texRows=r,this.createTextureCanvas=i,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return _i(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var n=this.r,r=this.texSize,i=this.texRows,l=this.createTextureCanvas;return new yO(n,r,i,l)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var n=this.r,r=this.texSize,i=this.texRows,l=this.createTextureCanvas,s=Math.floor(r/i);this.scratch=l(n,r,s,"scratch")}return this.scratch}},{key:"draw",value:function(n,r,i){var l=this.styleKeyToAtlas.get(n);return l||(l=this.atlases[this.atlases.length-1],(!l||!l.canFit(r))&&(l&&l.lock(),l=this._createAtlas(),this.atlases.push(l)),l.draw(n,r,i),this.styleKeyToAtlas.set(n,l)),l}},{key:"getAtlas",value:function(n){return this.styleKeyToAtlas.get(n)}},{key:"hasAtlas",value:function(n){return this.styleKeyToAtlas.has(n)}},{key:"markKeyForGC",value:function(n){this.markedKeys.add(n)}},{key:"gc",value:function(){var n=this,r=this.markedKeys;if(r.size===0){console.log("nothing to garbage collect");return}var i=[],l=new Map,s=null,u=vr(this.atlases),d;try{var c=function(){var v=d.value,m=v.getKeys(),y=bO(r,m);if(y.size===0)return i.push(v),m.forEach(function(M){return l.set(M,v)}),1;s||(s=n._createAtlas(),i.push(s));var x=vr(m),S;try{for(x.s();!(S=x.n()).done;){var w=S.value;if(!y.has(w)){var E=v.getOffsets(w),T=Tn(E,2),k=T[0],N=T[1];s.canFit({w:k.w+N.w,h:k.h})||(s.lock(),s=n._createAtlas(),i.push(s)),v.canvas&&(n._copyTextureToNewAtlas(w,v,s),l.set(w,s))}}}catch(M){x.e(M)}finally{x.f()}v.dispose()};for(u.s();!(d=u.n()).done;)c()}catch(h){u.e(h)}finally{u.f()}this.atlases=i,this.styleKeyToAtlas=l,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(n,r,i){var l=r.getOffsets(n),s=Tn(l,2),u=s[0],d=s[1];if(d.w===0)i.draw(n,u,function(m){m.drawImage(r.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h)});else{var c=this._getScratchCanvas();c.clear(),c.context.drawImage(r.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h),c.context.drawImage(r.canvas,d.x,d.y,d.w,d.h,u.w,0,d.w,d.h);var h=u.w+d.w,v=u.h;i.draw(n,{w:h,h:v},function(m){m.drawImage(c,0,0,h,v,0,0,h,v)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])})();function bO(t,e){return t.intersection?t.intersection(e):new Set(Fd(t).filter(function(n){return e.has(n)}))}var wO=(function(){function t(e,n){zi(this,t),this.r=e,this.globalOptions=n,this.atlasSize=n.webglTexSize,this.maxAtlasesPerBatch=n.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return _i(t,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(n,r){var i=this.globalOptions,l=i.webglTexSize,s=i.createTextureCanvas,u=r.texRows,d=this._cacheScratchCanvas(s),c=new xO(this.r,l,u,d);this.collections.set(n,c)}},{key:"addRenderType",value:function(n,r){var i=r.collection;if(!this.collections.has(i))throw new Error("invalid atlas collection name '".concat(i,"'"));var l=this.collections.get(i),s=st({type:n,atlasCollection:l},r);this.renderTypes.set(n,s)}},{key:"getRenderTypeOpts",value:function(n){return this.renderTypes.get(n)}},{key:"getAtlasCollection",value:function(n){return this.collections.get(n)}},{key:"_cacheScratchCanvas",value:function(n){var r=-1,i=-1,l=null;return function(s,u,d,c){return c?((!l||u!=r||d!=i)&&(r=u,i=d,l=n(s,u,d)),l):n(s,u,d)}}},{key:"_key",value:function(n,r){return"".concat(n,"-").concat(r)}},{key:"invalidate",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.forceRedraw,s=l===void 0?!1:l,u=i.filterEle,d=u===void 0?function(){return!0}:u,c=i.filterType,h=c===void 0?function(){return!0}:c,v=!1,m=!1,y=vr(n),x;try{for(y.s();!(x=y.n()).done;){var S=x.value;if(d(S)){var w=vr(this.renderTypes.values()),E;try{var T=function(){var N=E.value,M=N.type;if(h(M)){var R=r.collections.get(N.collection),A=N.getKey(S),O=Array.isArray(A)?A:[A];if(s)O.forEach(function(L){return R.markKeyForGC(L)}),m=!0;else{var B=N.getID?N.getID(S):S.id(),P=r._key(M,B),q=r.typeAndIdToKey.get(P);q!==void 0&&!uO(O,q)&&(v=!0,r.typeAndIdToKey.delete(P),q.forEach(function(L){return R.markKeyForGC(L)}))}}};for(w.s();!(E=w.n()).done;)T()}catch(k){w.e(k)}finally{w.f()}}}}catch(k){y.e(k)}finally{y.f()}return m&&(this.gc(),v=!1),v}},{key:"gc",value:function(){var n=vr(this.collections.values()),r;try{for(n.s();!(r=n.n()).done;){var i=r.value;i.gc()}}catch(l){n.e(l)}finally{n.f()}}},{key:"getOrCreateAtlas",value:function(n,r,i,l){var s=this.renderTypes.get(r),u=this.collections.get(s.collection),d=!1,c=u.draw(l,i,function(m){s.drawClipped?(m.save(),m.beginPath(),m.rect(0,0,i.w,i.h),m.clip(),s.drawElement(m,n,i,!0,!0),m.restore()):s.drawElement(m,n,i,!0,!0),d=!0});if(d){var h=s.getID?s.getID(n):n.id(),v=this._key(r,h);this.typeAndIdToKey.has(v)?this.typeAndIdToKey.get(v).push(l):this.typeAndIdToKey.set(v,[l])}return c}},{key:"getAtlasInfo",value:function(n,r){var i=this,l=this.renderTypes.get(r),s=l.getKey(n),u=Array.isArray(s)?s:[s];return u.map(function(d){var c=l.getBoundingBox(n,d),h=i.getOrCreateAtlas(n,r,c,d),v=h.getOffsets(d),m=Tn(v,2),y=m[0],x=m[1];return{atlas:h,tex:y,tex1:y,tex2:x,bb:c}})}},{key:"getDebugInfo",value:function(){var n=[],r=vr(this.collections),i;try{for(r.s();!(i=r.n()).done;){var l=Tn(i.value,2),s=l[0],u=l[1],d=u.getCounts(),c=d.keyCount,h=d.atlasCount;n.push({type:s,keyCount:c,atlasCount:h})}}catch(v){r.e(v)}finally{r.f()}return n}}])})(),SO=(function(){function t(e){zi(this,t),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return _i(t,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(n,r){return r})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(n){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(n):!0}},{key:"getAtlasIndexForBatch",value:function(n){var r=this.batchAtlases.indexOf(n);if(r<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(n),r=this.batchAtlases.length-1}return r}}])})(),EO=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,CO=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,TO=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,kO=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,Wo={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Jd={IGNORE:1,USE_BB:2},Sm=0,rS=1,aS=2,Em=3,ds=4,vd=5,Io=6,qo=7,NO=(function(){function t(e,n,r){zi(this,t),this.r=e,this.gl=n,this.maxInstances=r.webglBatchSize,this.atlasSize=r.webglTexSize,this.bgColor=r.bgColor,this.debug=r.webglDebug,this.batchDebugInfo=[],r.enableWrapping=!0,r.createTextureCanvas=iO,this.atlasManager=new wO(e,r),this.batchManager=new SO(r),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(Wo.SCREEN),this.pickingProgram=this._createShaderProgram(Wo.PICKING),this.vao=this._createVAO()}return _i(t,[{key:"addAtlasCollection",value:function(n,r){this.atlasManager.addAtlasCollection(n,r)}},{key:"addTextureAtlasRenderType",value:function(n,r){this.atlasManager.addRenderType(n,r)}},{key:"addSimpleShapeRenderType",value:function(n,r){this.simpleShapeOptions.set(n,r)}},{key:"invalidate",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.type,l=this.atlasManager;return i?l.invalidate(n,{filterType:function(u){return u===i},forceRedraw:!0}):l.invalidate(n)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(n){var r=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(Sm,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(ds," || aVertType == ").concat(qo,` 
             || aVertType == `).concat(vd," || aVertType == ").concat(Io,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(rS,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(aS,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(Em,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),l=this.batchManager.getIndexArray(),s=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(l.map(function(c){return"uniform sampler2D uTexture".concat(c,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(EO,`
      `).concat(CO,`
      `).concat(TO,`
      `).concat(kO,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(Sm,`) {
          // look up the texel from the texture unit
          `).concat(l.map(function(c){return"if(vAtlasId == ".concat(c,") outColor = texture(uTexture").concat(c,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(Em,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(ds,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(ds," || vVertType == ").concat(qo,` 
          || vVertType == `).concat(vd," || vVertType == ").concat(Io,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(ds,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(qo,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(qo,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(n.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),u=aO(r,i,s);u.aPosition=r.getAttribLocation(u,"aPosition"),u.aIndex=r.getAttribLocation(u,"aIndex"),u.aVertType=r.getAttribLocation(u,"aVertType"),u.aTransform=r.getAttribLocation(u,"aTransform"),u.aAtlasId=r.getAttribLocation(u,"aAtlasId"),u.aTex=r.getAttribLocation(u,"aTex"),u.aPointAPointB=r.getAttribLocation(u,"aPointAPointB"),u.aPointCPointD=r.getAttribLocation(u,"aPointCPointD"),u.aLineWidth=r.getAttribLocation(u,"aLineWidth"),u.aColor=r.getAttribLocation(u,"aColor"),u.aCornerRadius=r.getAttribLocation(u,"aCornerRadius"),u.aBorderColor=r.getAttribLocation(u,"aBorderColor"),u.uPanZoomMatrix=r.getUniformLocation(u,"uPanZoomMatrix"),u.uAtlasSize=r.getUniformLocation(u,"uAtlasSize"),u.uBGColor=r.getUniformLocation(u,"uBGColor"),u.uZoom=r.getUniformLocation(u,"uZoom"),u.uTextures=[];for(var d=0;d<this.batchManager.getMaxAtlasesPerBatch();d++)u.uTextures.push(r.getUniformLocation(u,"uTexture".concat(d)));return u}},{key:"_createVAO",value:function(){var n=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=n.length/2;var r=this.maxInstances,i=this.gl,l=this.program,s=i.createVertexArray();return i.bindVertexArray(s),hO(i,"vec2",l.aPosition,n),this.transformBuffer=vO(i,r,l.aTransform),this.indexBuffer=ia(i,r,"vec4",l.aIndex),this.vertTypeBuffer=ia(i,r,"int",l.aVertType),this.atlasIdBuffer=ia(i,r,"int",l.aAtlasId),this.texBuffer=ia(i,r,"vec4",l.aTex),this.pointAPointBBuffer=ia(i,r,"vec4",l.aPointAPointB),this.pointCPointDBuffer=ia(i,r,"vec4",l.aPointCPointD),this.lineWidthBuffer=ia(i,r,"vec2",l.aLineWidth),this.colorBuffer=ia(i,r,"vec4",l.aColor),this.cornerRadiusBuffer=ia(i,r,"vec4",l.aCornerRadius),this.borderColorBuffer=ia(i,r,"vec4",l.aBorderColor),i.bindVertexArray(null),s}},{key:"buffers",get:function(){var n=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(r){return Ci(r,"Buffer")}).map(function(r){return n[r]})),this._buffers}},{key:"startFrame",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wo.SCREEN;this.panZoomMatrix=n,this.renderTarget=r,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(n,r){return n.visible()?r&&r.isVisible?r.isVisible(n):!0:!1}},{key:"drawTexture",value:function(n,r,i){var l=this.atlasManager,s=this.batchManager,u=l.getRenderTypeOpts(i);if(this._isVisible(n,u)&&!(n.isEdge()&&!this._isValidEdge(n))){if(this.renderTarget.picking&&u.getTexPickingMode){var d=u.getTexPickingMode(n);if(d===Jd.IGNORE)return;if(d==Jd.USE_BB){this.drawPickingRectangle(n,r,i);return}}var c=l.getAtlasInfo(n,i),h=vr(c),v;try{for(h.s();!(v=h.n()).done;){var m=v.value,y=m.atlas,x=m.tex1,S=m.tex2;s.canAddToCurrentBatch(y)||this.endBatch();for(var w=s.getAtlasIndexForBatch(y),E=0,T=[[x,!0],[S,!1]];E<T.length;E++){var k=Tn(T[E],2),N=k[0],M=k[1];if(N.w!=0){var R=this.instanceCount;this.vertTypeBuffer.getView(R)[0]=Sm;var A=this.indexBuffer.getView(R);cs(r,A);var O=this.atlasIdBuffer.getView(R);O[0]=w;var B=this.texBuffer.getView(R);B[0]=N.x,B[1]=N.y,B[2]=N.w,B[3]=N.h;var P=this.transformBuffer.getMatrixView(R);this.setTransformMatrix(n,P,u,m,M),this.instanceCount++,M||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(q){h.e(q)}finally{h.f()}}}},{key:"setTransformMatrix",value:function(n,r,i,l){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=0;if(i.shapeProps&&i.shapeProps.padding&&(u=n.pstyle(i.shapeProps.padding).pfValue),l){var d=l.bb,c=l.tex1,h=l.tex2,v=c.w/(c.w+h.w);s||(v=1-v);var m=this._getAdjustedBB(d,u,s,v);this._applyTransformMatrix(r,m,i,n)}else{var y=i.getBoundingBox(n),x=this._getAdjustedBB(y,u,!0,1);this._applyTransformMatrix(r,x,i,n)}}},{key:"_applyTransformMatrix",value:function(n,r,i,l){var s,u;tS(n);var d=i.getRotation?i.getRotation(l):0;if(d!==0){var c=i.getRotationPoint(l),h=c.x,v=c.y;Bd(n,n,[h,v]),nS(n,n,d);var m=i.getRotationOffset(l);s=m.x+(r.xOffset||0),u=m.y+(r.yOffset||0)}else s=r.x1,u=r.y1;Bd(n,n,[s,u]),hg(n,n,[r.w,r.h])}},{key:"_getAdjustedBB",value:function(n,r,i,l){var s=n.x1,u=n.y1,d=n.w,c=n.h,h=n.yOffset;r&&(s-=r,u-=r,d+=2*r,c+=2*r);var v=0,m=d*l;return i&&l<1?d=m:!i&&l<1&&(v=d-m,s+=v,d=m),{x1:s,y1:u,w:d,h:c,xOffset:v,yOffset:h}}},{key:"drawPickingRectangle",value:function(n,r,i){var l=this.atlasManager.getRenderTypeOpts(i),s=this.instanceCount;this.vertTypeBuffer.getView(s)[0]=ds;var u=this.indexBuffer.getView(s);cs(r,u);var d=this.colorBuffer.getView(s);sl([0,0,0],1,d);var c=this.transformBuffer.getMatrixView(s);this.setTransformMatrix(n,c,l),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(n,r,i){var l=this.simpleShapeOptions.get(i);if(this._isVisible(n,l)){var s=l.shapeProps,u=this._getVertTypeForShape(n,s.shape);if(u===void 0||l.isSimple&&!l.isSimple(n)){this.drawTexture(n,r,i);return}var d=this.instanceCount;if(this.vertTypeBuffer.getView(d)[0]=u,u===vd||u===Io){var c=l.getBoundingBox(n),h=this._getCornerRadius(n,s.radius,c),v=this.cornerRadiusBuffer.getView(d);v[0]=h,v[1]=h,v[2]=h,v[3]=h,u===Io&&(v[0]=0,v[2]=0)}var m=this.indexBuffer.getView(d);cs(r,m);var y=n.pstyle(s.color).value,x=n.pstyle(s.opacity).value,S=this.colorBuffer.getView(d);sl(y,x,S);var w=this.lineWidthBuffer.getView(d);if(w[0]=0,w[1]=0,s.border){var E=n.pstyle("border-width").value;if(E>0){var T=n.pstyle("border-color").value,k=n.pstyle("border-opacity").value,N=this.borderColorBuffer.getView(d);sl(T,k,N);var M=n.pstyle("border-position").value;if(M==="inside")w[0]=0,w[1]=-E;else if(M==="outside")w[0]=E,w[1]=0;else{var R=E/2;w[0]=R,w[1]=-R}}}var A=this.transformBuffer.getMatrixView(d);this.setTransformMatrix(n,A,l),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(n,r){var i=n.pstyle(r).value;switch(i){case"rectangle":return ds;case"ellipse":return qo;case"roundrectangle":case"round-rectangle":return vd;case"bottom-round-rectangle":return Io;default:return}}},{key:"_getCornerRadius",value:function(n,r,i){var l=i.w,s=i.h;if(n.pstyle(r).value==="auto")return Di(l,s);var u=n.pstyle(r).pfValue,d=l/2,c=s/2;return Math.min(u,c,d)}},{key:"drawEdgeArrow",value:function(n,r,i){if(n.visible()){var l=n._private.rscratch,s,u,d;if(i==="source"?(s=l.arrowStartX,u=l.arrowStartY,d=l.srcArrowAngle):(s=l.arrowEndX,u=l.arrowEndY,d=l.tgtArrowAngle),!(isNaN(s)||s==null||isNaN(u)||u==null||isNaN(d)||d==null)){var c=n.pstyle(i+"-arrow-shape").value;if(c!=="none"){var h=n.pstyle(i+"-arrow-color").value,v=n.pstyle("opacity").value,m=n.pstyle("line-opacity").value,y=v*m,x=n.pstyle("width").pfValue,S=n.pstyle("arrow-scale").value,w=this.r.getArrowWidth(x,S),E=this.instanceCount,T=this.transformBuffer.getMatrixView(E);tS(T),Bd(T,T,[s,u]),hg(T,T,[w,w]),nS(T,T,d),this.vertTypeBuffer.getView(E)[0]=Em;var k=this.indexBuffer.getView(E);cs(r,k);var N=this.colorBuffer.getView(E);sl(h,y,N),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(n,r){if(n.visible()){var i=this._getEdgePoints(n);if(i){var l=n.pstyle("opacity").value,s=n.pstyle("line-opacity").value,u=n.pstyle("width").pfValue,d=n.pstyle("line-color").value,c=l*s;if(i.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),i.length==4){var h=this.instanceCount;this.vertTypeBuffer.getView(h)[0]=rS;var v=this.indexBuffer.getView(h);cs(r,v);var m=this.colorBuffer.getView(h);sl(d,c,m);var y=this.lineWidthBuffer.getView(h);y[0]=u;var x=this.pointAPointBBuffer.getView(h);x[0]=i[0],x[1]=i[1],x[2]=i[2],x[3]=i[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var S=0;S<i.length-2;S+=2){var w=this.instanceCount;this.vertTypeBuffer.getView(w)[0]=aS;var E=this.indexBuffer.getView(w);cs(r,E);var T=this.colorBuffer.getView(w);sl(d,c,T);var k=this.lineWidthBuffer.getView(w);k[0]=u;var N=i[S-2],M=i[S-1],R=i[S],A=i[S+1],O=i[S+2],B=i[S+3],P=i[S+4],q=i[S+5];S==0&&(N=2*R-O+.001,M=2*A-B+.001),S==i.length-4&&(P=2*O-R+.001,q=2*B-A+.001);var L=this.pointAPointBBuffer.getView(w);L[0]=N,L[1]=M,L[2]=R,L[3]=A;var D=this.pointCPointDBuffer.getView(w);D[0]=O,D[1]=B,D[2]=P,D[3]=q,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(n){var r=n._private.rscratch;return!(r.badLine||r.allpts==null||isNaN(r.allpts[0]))}},{key:"_getEdgePoints",value:function(n){var r=n._private.rscratch;if(this._isValidEdge(n)){var i=r.allpts;if(i.length==4)return i;var l=this._getNumSegments(n);return this._getCurveSegmentPoints(i,l)}}},{key:"_getNumSegments",value:function(n){var r=15;return Math.min(Math.max(r,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(n,r){if(n.length==4)return n;for(var i=Array((r+1)*2),l=0;l<=r;l++)if(l==0)i[0]=n[0],i[1]=n[1];else if(l==r)i[l*2]=n[n.length-2],i[l*2+1]=n[n.length-1];else{var s=l/r;this._setCurvePoint(n,s,i,l*2)}return i}},{key:"_setCurvePoint",value:function(n,r,i,l){if(n.length<=2)i[l]=n[0],i[l+1]=n[1];else{for(var s=Array(n.length-2),u=0;u<s.length;u+=2){var d=(1-r)*n[u]+r*n[u+2],c=(1-r)*n[u+1]+r*n[u+3];s[u]=d,s[u+1]=c}return this._setCurvePoint(s,r,i,l)}}},{key:"endBatch",value:function(){var n=this.gl,r=this.vao,i=this.vertexCount,l=this.instanceCount;if(l!==0){var s=this.renderTarget.picking?this.pickingProgram:this.program;n.useProgram(s),n.bindVertexArray(r);var u=vr(this.buffers),d;try{for(u.s();!(d=u.n()).done;){var c=d.value;c.bufferSubData(l)}}catch(x){u.e(x)}finally{u.f()}for(var h=this.batchManager.getAtlases(),v=0;v<h.length;v++)h[v].bufferIfNeeded(n);for(var m=0;m<h.length;m++)n.activeTexture(n.TEXTURE0+m),n.bindTexture(n.TEXTURE_2D,h[m].texture),n.uniform1i(s.uTextures[m],m);n.uniform1f(s.uZoom,lO(this.r)),n.uniformMatrix3fv(s.uPanZoomMatrix,!1,this.panZoomMatrix),n.uniform1i(s.uAtlasSize,this.batchManager.getAtlasSize());var y=sl(this.bgColor,1);n.uniform4fv(s.uBGColor,y),n.drawArraysInstanced(n.TRIANGLES,0,i,l),n.bindVertexArray(null),n.bindTexture(n.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:l,atlasCount:h.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var n=this.atlasManager.getDebugInfo(),r=n.reduce(function(s,u){return s+u.atlasCount},0),i=this.batchDebugInfo,l=i.reduce(function(s,u){return s+u.count},0);return{atlasInfo:n,totalAtlases:r,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:i.length,batchInfo:i,totalInstances:l}}}])})(),hT={};hT.initWebgl=function(t,e){var n=this,r=n.data.contexts[n.WEBGL];t.bgColor=AO(n),t.webglTexSize=Math.min(t.webglTexSize,r.getParameter(r.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS)),n.webglDebug=t.webglDebug,n.webglDebugShowAtlases=t.webglDebugShowAtlases,n.pickingFrameBuffer=pO(r),n.pickingFrameBuffer.needsDraw=!0,n.drawing=new NO(n,r,t);var i=function(v){return function(m){return n.getTextAngle(m,v)}},l=function(v){return function(m){var y=m.pstyle(v);return y&&y.value}},s=function(v){return function(m){return m.pstyle("".concat(v,"-opacity")).value>0}},u=function(v){var m=v.pstyle("text-events").strValue==="yes";return m?Jd.USE_BB:Jd.IGNORE},d=function(v){var m=v.position(),y=m.x,x=m.y,S=v.outerWidth(),w=v.outerHeight();return{w:S,h:w,x1:y-S/2,y1:x-w/2}};n.drawing.addAtlasCollection("node",{texRows:t.webglTexRowsNodes}),n.drawing.addAtlasCollection("label",{texRows:t.webglTexRows}),n.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),n.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:d,isSimple:oO,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),n.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:d,isVisible:s("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),n.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:d,isVisible:s("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),n.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:u,getKey:Cm(e.getLabelKey,null),getBoundingBox:Tm(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:i(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:l("label")}),n.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:u,getKey:Cm(e.getSourceLabelKey,"source"),getBoundingBox:Tm(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:i("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:l("source-label")}),n.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:u,getKey:Cm(e.getTargetLabelKey,"target"),getBoundingBox:Tm(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:i("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:l("target-label")});var c=ku(function(){console.log("garbage collect flag set"),n.data.gc=!0},1e4);n.onUpdateEleCalcs(function(h,v){var m=!1;v&&v.length>0&&(m|=n.drawing.invalidate(v)),m&&c()}),RO(n)};function AO(t){var e=t.cy.container(),n=e&&e.style&&e.style.backgroundColor||"white";return FE(n)}function vT(t,e){var n=t._private.rscratch;return fr(n,"labelWrapCachedLines",e)||[]}var Cm=function(e,n){return function(r){var i=e(r),l=vT(r,n);return l.length>1?l.map(function(s,u){return"".concat(i,"_").concat(u)}):i}},Tm=function(e,n){return function(r,i){var l=e(r);if(typeof i=="string"){var s=i.indexOf("_");if(s>0){var u=Number(i.substring(s+1)),d=vT(r,n),c=l.h/d.length,h=c*u,v=l.y1+h;return{x1:l.x1,w:l.w,y1:v,h:c,yOffset:h}}}return l}};function RO(t){{var e=t.render;t.render=function(l){l=l||{};var s=t.cy;t.webgl&&(s.zoom()>lT?(jO(t),e.call(t,l)):(DO(t),mT(t,l,Wo.SCREEN)))}}{var n=t.matchCanvasSize;t.matchCanvasSize=function(l){n.call(t,l),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(l,s,u,d){return _O(t,l,s)};{var r=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){r.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var i=t.notify;t.notify=function(l,s){i.call(t,l,s),l==="viewport"||l==="bounds"?t.pickingFrameBuffer.needsDraw=!0:l==="background"&&t.drawing.invalidate(s,{type:"node-body"})}}}function jO(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function DO(t){var e=function(r){r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.canvasWidth,t.canvasHeight),r.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function MO(t){var e=t.canvasWidth,n=t.canvasHeight,r=fy(t),i=r.pan,l=r.zoom,s=wm();Bd(s,s,[i.x,i.y]),hg(s,s,[l,l]);var u=wm();gO(u,e,n);var d=wm();return mO(d,u,s),d}function pT(t,e){var n=t.canvasWidth,r=t.canvasHeight,i=fy(t),l=i.pan,s=i.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,n,r),e.translate(l.x,l.y),e.scale(s,s)}function BO(t,e){t.drawSelectionRectangle(e,function(n){return pT(t,n)})}function OO(t){var e=t.data.contexts[t.NODE];e.save(),pT(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function LO(t){var e=function(i,l,s){for(var u=i.atlasManager.getAtlasCollection(l),d=t.data.contexts[t.NODE],c=u.atlases,h=0;h<c.length;h++){var v=c[h],m=v.canvas;if(m){var y=m.width,x=m.height,S=y*h,w=m.height*s,E=.4;d.save(),d.scale(E,E),d.drawImage(m,S,w),d.strokeStyle="black",d.rect(S,w,y,x),d.stroke(),d.restore()}}},n=0;e(t.drawing,"node",n++),e(t.drawing,"label",n++)}function zO(t,e,n,r,i){var l,s,u,d,c=fy(t),h=c.pan,v=c.zoom;{var m=sO(t,h,v,e,n),y=Tn(m,2),x=y[0],S=y[1],w=6;l=x-w/2,s=S-w/2,u=w,d=w}if(u===0||d===0)return[];var E=t.data.contexts[t.WEBGL];E.bindFramebuffer(E.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(E.viewport(0,0,E.canvas.width,E.canvas.height),mT(t,null,Wo.PICKING),t.pickingFrameBuffer.needsDraw=!1);var T=u*d,k=new Uint8Array(T*4);E.readPixels(l,s,u,d,E.RGBA,E.UNSIGNED_BYTE,k),E.bindFramebuffer(E.FRAMEBUFFER,null);for(var N=new Set,M=0;M<T;M++){var R=k.slice(M*4,M*4+4),A=cO(R)-1;A>=0&&N.add(A)}return N}function _O(t,e,n){var r=zO(t,e,n),i=t.getCachedZSortedEles(),l,s,u=vr(r),d;try{for(u.s();!(d=u.n()).done;){var c=d.value,h=i[c];if(!l&&h.isNode()&&(l=h),!s&&h.isEdge()&&(s=h),l&&s)break}}catch(v){u.e(v)}finally{u.f()}return[l,s].filter(Boolean)}function km(t,e,n){var r=t.drawing;e+=1,n.isNode()?(r.drawNode(n,e,"node-underlay"),r.drawNode(n,e,"node-body"),r.drawTexture(n,e,"label"),r.drawNode(n,e,"node-overlay")):(r.drawEdgeLine(n,e),r.drawEdgeArrow(n,e,"source"),r.drawEdgeArrow(n,e,"target"),r.drawTexture(n,e,"label"),r.drawTexture(n,e,"edge-source-label"),r.drawTexture(n,e,"edge-target-label"))}function mT(t,e,n){var r;t.webglDebug&&(r=performance.now());var i=t.drawing,l=0;if(n.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&BO(t,e),t.data.canvasNeedsRedraw[t.NODE]||n.picking){var s=t.data.contexts[t.WEBGL];n.screen?(s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA)):s.disable(s.BLEND),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.viewport(0,0,s.canvas.width,s.canvas.height);var u=MO(t),d=t.getCachedZSortedEles();if(l=d.length,i.startFrame(u,n),n.screen){for(var c=0;c<d.nondrag.length;c++)km(t,c,d.nondrag[c]);for(var h=0;h<d.drag.length;h++)km(t,h,d.drag[h])}else if(n.picking)for(var v=0;v<d.length;v++)km(t,v,d[v]);i.endFrame(),n.screen&&t.webglDebugShowAtlases&&(OO(t),LO(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var m=performance.now(),y=!1,x=Math.ceil(m-r),S=i.getDebugInfo(),w=["".concat(l," elements"),"".concat(S.totalInstances," instances"),"".concat(S.batchCount," batches"),"".concat(S.totalAtlases," atlases"),"".concat(S.wrappedCount," wrapped textures"),"".concat(S.simpleCount," simple shapes")].join(", ");if(y)console.log("WebGL (".concat(n.name,") - time ").concat(x,"ms, ").concat(w));else{console.log("WebGL (".concat(n.name,") - frame time ").concat(x,"ms")),console.log("Totals:"),console.log("  ".concat(w)),console.log("Texture Atlases Used:");var E=S.atlasInfo,T=vr(E),k;try{for(T.s();!(k=T.n()).done;){var N=k.value;console.log("  ".concat(N.type,": ").concat(N.keyCount," keys, ").concat(N.atlasCount," atlases"))}}catch(M){T.e(M)}finally{T.f()}console.log("")}}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,i.gc())}var qi={};qi.drawPolygonPath=function(t,e,n,r,i,l){var s=r/2,u=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*l[0],n+u*l[1]);for(var d=1;d<l.length/2;d++)t.lineTo(e+s*l[d*2],n+u*l[d*2+1]);t.closePath()};qi.drawRoundPolygonPath=function(t,e,n,r,i,l,s){s.forEach(function(u){return ZC(t,u)}),t.closePath()};qi.drawRoundRectanglePath=function(t,e,n,r,i,l){var s=r/2,u=i/2,d=l==="auto"?Di(r,i):Math.min(l,u,s);t.beginPath&&t.beginPath(),t.moveTo(e,n-u),t.arcTo(e+s,n-u,e+s,n,d),t.arcTo(e+s,n+u,e,n+u,d),t.arcTo(e-s,n+u,e-s,n,d),t.arcTo(e-s,n-u,e,n-u,d),t.lineTo(e,n-u),t.closePath()};qi.drawBottomRoundRectanglePath=function(t,e,n,r,i,l){var s=r/2,u=i/2,d=l==="auto"?Di(r,i):l;t.beginPath&&t.beginPath(),t.moveTo(e,n-u),t.lineTo(e+s,n-u),t.lineTo(e+s,n),t.arcTo(e+s,n+u,e,n+u,d),t.arcTo(e-s,n+u,e-s,n,d),t.lineTo(e-s,n-u),t.lineTo(e,n-u),t.closePath()};qi.drawCutRectanglePath=function(t,e,n,r,i,l,s){var u=r/2,d=i/2,c=s==="auto"?Wg():s;t.beginPath&&t.beginPath(),t.moveTo(e-u+c,n-d),t.lineTo(e+u-c,n-d),t.lineTo(e+u,n-d+c),t.lineTo(e+u,n+d-c),t.lineTo(e+u-c,n+d),t.lineTo(e-u+c,n+d),t.lineTo(e-u,n+d-c),t.lineTo(e-u,n-d+c),t.closePath()};qi.drawBarrelPath=function(t,e,n,r,i){var l=r/2,s=i/2,u=e-l,d=e+l,c=n-s,h=n+s,v=Jm(r,i),m=v.widthOffset,y=v.heightOffset,x=v.ctrlPtOffsetPct*m;t.beginPath&&t.beginPath(),t.moveTo(u,c+y),t.lineTo(u,h-y),t.quadraticCurveTo(u+x,h,u+m,h),t.lineTo(d-m,h),t.quadraticCurveTo(d-x,h,d,h-y),t.lineTo(d,c+y),t.quadraticCurveTo(d-x,c,d-m,c),t.lineTo(u+m,c),t.quadraticCurveTo(u+x,c,u,c+y),t.closePath()};var iS=Math.sin(0),lS=Math.cos(0),vg={},pg={},gT=Math.PI/40;for(var fs=0*Math.PI;fs<2*Math.PI;fs+=gT)vg[fs]=Math.sin(fs),pg[fs]=Math.cos(fs);qi.drawEllipsePath=function(t,e,n,r,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,n,r/2,i/2,0,0,2*Math.PI);else for(var l,s,u=r/2,d=i/2,c=0*Math.PI;c<2*Math.PI;c+=gT)l=e-u*vg[c]*iS+u*pg[c]*lS,s=n+d*pg[c]*iS+d*vg[c]*lS,c===0?t.moveTo(l,s):t.lineTo(l,s);t.closePath()};var Mu={};Mu.createBuffer=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,[n,n.getContext("2d")]};Mu.bufferCanvasImage=function(t){var e=this.cy,n=e.mutableElements(),r=n.boundingBox(),i=this.findContainerClientCoords(),l=t.full?Math.ceil(r.w):i[2],s=t.full?Math.ceil(r.h):i[3],u=Fe(t.maxWidth)||Fe(t.maxHeight),d=this.getPixelRatio(),c=1;if(t.scale!==void 0)l*=t.scale,s*=t.scale,c=t.scale;else if(u){var h=1/0,v=1/0;Fe(t.maxWidth)&&(h=c*t.maxWidth/l),Fe(t.maxHeight)&&(v=c*t.maxHeight/s),c=Math.min(h,v),l*=c,s*=c}u||(l*=d,s*=d,c*=d);var m=document.createElement("canvas");m.width=l,m.height=s,m.style.width=l+"px",m.style.height=s+"px";var y=m.getContext("2d");if(l>0&&s>0){y.clearRect(0,0,l,s),y.globalCompositeOperation="source-over";var x=this.getCachedZSortedEles();if(t.full)y.translate(-r.x1*c,-r.y1*c),y.scale(c,c),this.drawElements(y,x),y.scale(1/c,1/c),y.translate(r.x1*c,r.y1*c);else{var S=e.pan(),w={x:S.x*c,y:S.y*c};c*=e.zoom(),y.translate(w.x,w.y),y.scale(c,c),this.drawElements(y,x),y.scale(1/c,1/c),y.translate(-w.x,-w.y)}t.bg&&(y.globalCompositeOperation="destination-over",y.fillStyle=t.bg,y.rect(0,0,l,s),y.fill())}return m};function PO(t,e){for(var n=atob(t),r=new ArrayBuffer(n.length),i=new Uint8Array(r),l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return new Blob([r],{type:e})}function sS(t){var e=t.indexOf(",");return t.substr(e+1)}function yT(t,e,n){var r=function(){return e.toDataURL(n,t.quality)};switch(t.output){case"blob-promise":return new Ms(function(i,l){try{e.toBlob(function(s){s!=null?i(s):l(new Error("`canvas.toBlob()` sent a null value in its callback"))},n,t.quality)}catch(s){l(s)}});case"blob":return PO(sS(r()),n);case"base64":return sS(r());case"base64uri":default:return r()}}Mu.png=function(t){return yT(t,this.bufferCanvasImage(t),"image/png")};Mu.jpg=function(t){return yT(t,this.bufferCanvasImage(t),"image/jpeg")};var xT={};xT.nodeShapeImpl=function(t,e,n,r,i,l,s,u){switch(t){case"ellipse":return this.drawEllipsePath(e,n,r,i,l);case"polygon":return this.drawPolygonPath(e,n,r,i,l,s);case"round-polygon":return this.drawRoundPolygonPath(e,n,r,i,l,s,u);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,n,r,i,l,u);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,n,r,i,l,s,u);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,n,r,i,l,u);case"barrel":return this.drawBarrelPath(e,n,r,i,l)}};var IO=bT,St=bT.prototype;St.CANVAS_LAYERS=3;St.SELECT_BOX=0;St.DRAG=1;St.NODE=2;St.WEBGL=3;St.CANVAS_TYPES=["2d","2d","2d","webgl2"];St.BUFFER_COUNT=3;St.TEXTURE_BUFFER=0;St.MOTIONBLUR_BUFFER_NODE=1;St.MOTIONBLUR_BUFFER_DRAG=2;function bT(t){var e=this,n=e.cy.window(),r=n.document;t.webgl&&(St.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(St.CANVAS_LAYERS),contexts:new Array(St.CANVAS_LAYERS),canvasNeedsRedraw:new Array(St.CANVAS_LAYERS),bufferCanvases:new Array(St.BUFFER_COUNT),bufferContexts:new Array(St.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",l="rgba(0,0,0,0)";e.data.canvasContainer=r.createElement("div");var s=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=l,s.position="relative",s.zIndex="0",s.overflow="hidden";var u=t.cy.container();u.appendChild(e.data.canvasContainer),u.style[i]=l;var d={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};B5()&&(d["-ms-touch-action"]="none",d["touch-action"]="none");for(var c=0;c<St.CANVAS_LAYERS;c++){var h=e.data.canvases[c]=r.createElement("canvas"),v=St.CANVAS_TYPES[c];e.data.contexts[c]=h.getContext(v),e.data.contexts[c]||un("Could not create canvas of type "+v),Object.keys(d).forEach(function(xe){h.style[xe]=d[xe]}),h.style.position="absolute",h.setAttribute("data-id","layer"+c),h.style.zIndex=String(St.CANVAS_LAYERS-c),e.data.canvasContainer.appendChild(h),e.data.canvasNeedsRedraw[c]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[St.NODE].setAttribute("data-id","layer"+St.NODE+"-node"),e.data.canvases[St.SELECT_BOX].setAttribute("data-id","layer"+St.SELECT_BOX+"-selectbox"),e.data.canvases[St.DRAG].setAttribute("data-id","layer"+St.DRAG+"-drag"),e.data.canvases[St.WEBGL]&&e.data.canvases[St.WEBGL].setAttribute("data-id","layer"+St.WEBGL+"-webgl");for(var c=0;c<St.BUFFER_COUNT;c++)e.data.bufferCanvases[c]=r.createElement("canvas"),e.data.bufferContexts[c]=e.data.bufferCanvases[c].getContext("2d"),e.data.bufferCanvases[c].style.position="absolute",e.data.bufferCanvases[c].setAttribute("data-id","buffer"+c),e.data.bufferCanvases[c].style.zIndex=String(-c-1),e.data.bufferCanvases[c].style.visibility="hidden";e.pathsEnabled=!0;var m=er(),y=function(ie){return{x:(ie.x1+ie.x2)/2,y:(ie.y1+ie.y2)/2}},x=function(ie){return{x:-ie.w/2,y:-ie.h/2}},S=function(ie){var ue=ie[0]._private,pe=ue.oldBackgroundTimestamp===ue.backgroundTimestamp;return!pe},w=function(ie){return ie[0]._private.nodeKey},E=function(ie){return ie[0]._private.labelStyleKey},T=function(ie){return ie[0]._private.sourceLabelStyleKey},k=function(ie){return ie[0]._private.targetLabelStyleKey},N=function(ie,ue,pe,Te,Le){return e.drawElement(ie,ue,pe,!1,!1,Le)},M=function(ie,ue,pe,Te,Le){return e.drawElementText(ie,ue,pe,Te,"main",Le)},R=function(ie,ue,pe,Te,Le){return e.drawElementText(ie,ue,pe,Te,"source",Le)},A=function(ie,ue,pe,Te,Le){return e.drawElementText(ie,ue,pe,Te,"target",Le)},O=function(ie){return ie.boundingBox(),ie[0]._private.bodyBounds},B=function(ie){return ie.boundingBox(),ie[0]._private.labelBounds.main||m},P=function(ie){return ie.boundingBox(),ie[0]._private.labelBounds.source||m},q=function(ie){return ie.boundingBox(),ie[0]._private.labelBounds.target||m},L=function(ie,ue){return ue},D=function(ie){return y(O(ie))},F=function(ie,ue,pe){var Te=ie?ie+"-":"";return{x:ue.x+pe.pstyle(Te+"text-margin-x").pfValue,y:ue.y+pe.pstyle(Te+"text-margin-y").pfValue}},$=function(ie,ue,pe){var Te=ie[0]._private.rscratch;return{x:Te[ue],y:Te[pe]}},H=function(ie){return F("",$(ie,"labelX","labelY"),ie)},V=function(ie){return F("source",$(ie,"sourceLabelX","sourceLabelY"),ie)},K=function(ie){return F("target",$(ie,"targetLabelX","targetLabelY"),ie)},ee=function(ie){return x(O(ie))},I=function(ie){return x(P(ie))},_=function(ie){return x(q(ie))},X=function(ie){var ue=B(ie),pe=x(B(ie));if(ie.isNode()){switch(ie.pstyle("text-halign").value){case"left":pe.x=-ue.w-(ue.leftPad||0);break;case"right":pe.x=-(ue.rightPad||0);break}switch(ie.pstyle("text-valign").value){case"top":pe.y=-ue.h-(ue.topPad||0);break;case"bottom":pe.y=-(ue.botPad||0);break}}return pe},z=e.data.eleTxrCache=new Xo(e,{getKey:w,doesEleInvalidateKey:S,drawElement:N,getBoundingBox:O,getRotationPoint:D,getRotationOffset:ee,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ne=e.data.lblTxrCache=new Xo(e,{getKey:E,drawElement:M,getBoundingBox:B,getRotationPoint:H,getRotationOffset:X,isVisible:L}),le=e.data.slbTxrCache=new Xo(e,{getKey:T,drawElement:R,getBoundingBox:P,getRotationPoint:V,getRotationOffset:I,isVisible:L}),de=e.data.tlbTxrCache=new Xo(e,{getKey:k,drawElement:A,getBoundingBox:q,getRotationPoint:K,getRotationOffset:_,isVisible:L}),ye=e.data.lyrTxrCache=new sT(e);e.onUpdateEleCalcs(function(ie,ue){z.invalidateElements(ue),ne.invalidateElements(ue),le.invalidateElements(ue),de.invalidateElements(ue),ye.invalidateElements(ue);for(var pe=0;pe<ue.length;pe++){var Te=ue[pe]._private;Te.oldBackgroundTimestamp=Te.backgroundTimestamp}});var je=function(ie){for(var ue=0;ue<ie.length;ue++)ye.enqueueElementRefinement(ie[ue].ele)};z.onDequeue(je),ne.onDequeue(je),le.onDequeue(je),de.onDequeue(je),t.webgl&&e.initWebgl(t,{getStyleKey:w,getLabelKey:E,getSourceLabelKey:T,getTargetLabelKey:k,drawElement:N,drawLabel:M,drawSourceLabel:R,drawTargetLabel:A,getElementBox:O,getLabelBox:B,getSourceLabelBox:P,getTargetLabelBox:q,getElementRotationPoint:D,getElementRotationOffset:ee,getLabelRotationPoint:H,getSourceLabelRotationPoint:V,getTargetLabelRotationPoint:K,getLabelRotationOffset:X,getSourceLabelRotationOffset:I,getTargetLabelRotationOffset:_})}St.redrawHint=function(t,e){var n=this;switch(t){case"eles":n.data.canvasNeedsRedraw[St.NODE]=e;break;case"drag":n.data.canvasNeedsRedraw[St.DRAG]=e;break;case"select":n.data.canvasNeedsRedraw[St.SELECT_BOX]=e;break;case"gc":n.data.gc=!0;break}};var qO=typeof Path2D<"u";St.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};St.usePaths=function(){return qO&&this.pathsEnabled};St.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};St.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};St.makeOffscreenCanvas=function(t,e){var n;if((typeof OffscreenCanvas>"u"?"undefined":Rn(OffscreenCanvas))!=="undefined")n=new OffscreenCanvas(t,e);else{var r=this.cy.window(),i=r.document;n=i.createElement("canvas"),n.width=t,n.height=e}return n};[oT,ga,Va,dy,El,Ii,tr,hT,qi,Mu,xT].forEach(function(t){st(St,t)});var FO=[{name:"null",impl:XC},{name:"base",impl:aT},{name:"canvas",impl:IO}],HO=[{type:"layout",extensions:hB},{type:"renderer",extensions:FO}],wT={},ST={};function ET(t,e,n){var r=n,i=function(O){qt("Can not register `"+e+"` for `"+t+"` since `"+O+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(vu.prototype[e])return i(e);vu.prototype[e]=n}else if(t==="collection"){if(Hn.prototype[e])return i(e);Hn.prototype[e]=n}else if(t==="layout"){for(var l=function(O){this.options=O,n.call(this,O),Dt(this._private)||(this._private={}),this._private.cy=O.cy,this._private.listeners=[],this.createEmitter()},s=l.prototype=Object.create(n.prototype),u=[],d=0;d<u.length;d++){var c=u[d];s[c]=s[c]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var h=n.prototype.stop;s.stop=function(){var A=this.options;if(A&&A.animate){var O=this.animations;if(O)for(var B=0;B<O.length;B++)O[B].stop()}return h?h.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var v=function(O){return O._private.cy},m={addEventFields:function(O,B){B.layout=O,B.cy=v(O),B.target=O},bubble:function(){return!0},parent:function(O){return v(O)}};st(s,{createEmitter:function(){return this._private.emitter=new yf(m,this),this},emitter:function(){return this._private.emitter},on:function(O,B){return this.emitter().on(O,B),this},one:function(O,B){return this.emitter().one(O,B),this},once:function(O,B){return this.emitter().one(O,B),this},removeListener:function(O,B){return this.emitter().removeListener(O,B),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(O,B){return this.emitter().emit(O,B),this}}),It.eventAliasesOn(s),r=l}else if(t==="renderer"&&e!=="null"&&e!=="base"){var y=CT("renderer","base"),x=y.prototype,S=n,w=n.prototype,E=function(){y.apply(this,arguments),S.apply(this,arguments)},T=E.prototype;for(var k in x){var N=x[k],M=w[k]!=null;if(M)return i(k);T[k]=N}for(var R in w)T[R]=w[R];x.clientFunctions.forEach(function(A){T[A]=T[A]||function(){un("Renderer does not implement `renderer."+A+"()` on its prototype")}}),r=E}else if(t==="__proto__"||t==="constructor"||t==="prototype")return un(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return HE({map:wT,keys:[t,e],value:r})}function CT(t,e){return UE({map:wT,keys:[t,e]})}function UO(t,e,n,r,i){return HE({map:ST,keys:[t,e,n,r],value:i})}function VO(t,e,n,r){return UE({map:ST,keys:[t,e,n,r]})}var mg=function(){if(arguments.length===2)return CT.apply(null,arguments);if(arguments.length===3)return ET.apply(null,arguments);if(arguments.length===4)return VO.apply(null,arguments);if(arguments.length===5)return UO.apply(null,arguments);un("Invalid extension access syntax")};vu.prototype.extension=mg;HO.forEach(function(t){t.extensions.forEach(function(e){ET(t.type,e.name,e.impl)})});var ef=function(){if(!(this instanceof ef))return new ef;this.length=0},xl=ef.prototype;xl.instanceString=function(){return"stylesheet"};xl.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};xl.css=function(t,e){var n=this.length-1;if(tt(t))this[n].properties.push({name:t,value:e});else if(Dt(t))for(var r=t,i=Object.keys(r),l=0;l<i.length;l++){var s=i[l],u=r[s];if(u!=null){var d=On.properties[s]||On.properties[of(s)];if(d!=null){var c=d.name,h=u;this[n].properties.push({name:c,value:h})}}}return this};xl.style=xl.css;xl.generateStyle=function(t){var e=new On(t);return this.appendToStyle(e)};xl.appendToStyle=function(t){for(var e=0;e<this.length;e++){var n=this[e],r=n.selector,i=n.properties;t.selector(r);for(var l=0;l<i.length;l++){var s=i[l];t.css(s.name,s.value)}}return t};var GO="3.33.1",bl=function(e){if(e===void 0&&(e={}),Dt(e))return new vu(e);if(tt(e))return mg.apply(mg,arguments)};bl.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(bl),t.apply(null,e),this};bl.warnings=function(t){return QE(t)};bl.version=GO;bl.stylesheet=bl.Stylesheet=ef;function YO(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const $O=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,XO=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,KO={};function oS(t,e){return(KO.jsx?XO:$O).test(t)}const QO=/[ \t\n\f\r]/g;function ZO(t){return typeof t=="object"?t.type==="text"?uS(t.value):!1:uS(t)}function uS(t){return t.replace(QO,"")===""}class Bu{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Bu.prototype.normal={};Bu.prototype.property={};Bu.prototype.space=void 0;function TT(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Bu(n,r,e)}function gg(t){return t.toLowerCase()}class yr{constructor(e,n){this.attribute=n,this.property=e}}yr.prototype.attribute="";yr.prototype.booleanish=!1;yr.prototype.boolean=!1;yr.prototype.commaOrSpaceSeparated=!1;yr.prototype.commaSeparated=!1;yr.prototype.defined=!1;yr.prototype.mustUseProperty=!1;yr.prototype.number=!1;yr.prototype.overloadedBoolean=!1;yr.prototype.property="";yr.prototype.spaceSeparated=!1;yr.prototype.space=void 0;let WO=0;const wt=Cl(),En=Cl(),yg=Cl(),ze=Cl(),Jt=Cl(),Es=Cl(),Ar=Cl();function Cl(){return 2**++WO}const xg=Object.freeze(Object.defineProperty({__proto__:null,boolean:wt,booleanish:En,commaOrSpaceSeparated:Ar,commaSeparated:Es,number:ze,overloadedBoolean:yg,spaceSeparated:Jt},Symbol.toStringTag,{value:"Module"})),Nm=Object.keys(xg);class hy extends yr{constructor(e,n,r,i){let l=-1;if(super(e,n),cS(this,"space",i),typeof r=="number")for(;++l<Nm.length;){const s=Nm[l];cS(this,Nm[l],(r&xg[s])===xg[s])}}}hy.prototype.defined=!0;function cS(t,e,n){n&&(t[e]=n)}function _s(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const l=new hy(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),e[r]=l,n[gg(r)]=r,n[gg(l.attribute)]=r}return new Bu(e,n,t.space)}const kT=_s({properties:{ariaActiveDescendant:null,ariaAtomic:En,ariaAutoComplete:null,ariaBusy:En,ariaChecked:En,ariaColCount:ze,ariaColIndex:ze,ariaColSpan:ze,ariaControls:Jt,ariaCurrent:null,ariaDescribedBy:Jt,ariaDetails:null,ariaDisabled:En,ariaDropEffect:Jt,ariaErrorMessage:null,ariaExpanded:En,ariaFlowTo:Jt,ariaGrabbed:En,ariaHasPopup:null,ariaHidden:En,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Jt,ariaLevel:ze,ariaLive:null,ariaModal:En,ariaMultiLine:En,ariaMultiSelectable:En,ariaOrientation:null,ariaOwns:Jt,ariaPlaceholder:null,ariaPosInSet:ze,ariaPressed:En,ariaReadOnly:En,ariaRelevant:null,ariaRequired:En,ariaRoleDescription:Jt,ariaRowCount:ze,ariaRowIndex:ze,ariaRowSpan:ze,ariaSelected:En,ariaSetSize:ze,ariaSort:null,ariaValueMax:ze,ariaValueMin:ze,ariaValueNow:ze,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function NT(t,e){return e in t?t[e]:e}function AT(t,e){return NT(t,e.toLowerCase())}const JO=_s({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Es,acceptCharset:Jt,accessKey:Jt,action:null,allow:null,allowFullScreen:wt,allowPaymentRequest:wt,allowUserMedia:wt,alt:null,as:null,async:wt,autoCapitalize:null,autoComplete:Jt,autoFocus:wt,autoPlay:wt,blocking:Jt,capture:null,charSet:null,checked:wt,cite:null,className:Jt,cols:ze,colSpan:null,content:null,contentEditable:En,controls:wt,controlsList:Jt,coords:ze|Es,crossOrigin:null,data:null,dateTime:null,decoding:null,default:wt,defer:wt,dir:null,dirName:null,disabled:wt,download:yg,draggable:En,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:wt,formTarget:null,headers:Jt,height:ze,hidden:yg,high:ze,href:null,hrefLang:null,htmlFor:Jt,httpEquiv:Jt,id:null,imageSizes:null,imageSrcSet:null,inert:wt,inputMode:null,integrity:null,is:null,isMap:wt,itemId:null,itemProp:Jt,itemRef:Jt,itemScope:wt,itemType:Jt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:wt,low:ze,manifest:null,max:null,maxLength:ze,media:null,method:null,min:null,minLength:ze,multiple:wt,muted:wt,name:null,nonce:null,noModule:wt,noValidate:wt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:wt,optimum:ze,pattern:null,ping:Jt,placeholder:null,playsInline:wt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:wt,referrerPolicy:null,rel:Jt,required:wt,reversed:wt,rows:ze,rowSpan:ze,sandbox:Jt,scope:null,scoped:wt,seamless:wt,selected:wt,shadowRootClonable:wt,shadowRootDelegatesFocus:wt,shadowRootMode:null,shape:null,size:ze,sizes:null,slot:null,span:ze,spellCheck:En,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ze,step:null,style:null,tabIndex:ze,target:null,title:null,translate:null,type:null,typeMustMatch:wt,useMap:null,value:En,width:ze,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Jt,axis:null,background:null,bgColor:null,border:ze,borderColor:null,bottomMargin:ze,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:wt,declare:wt,event:null,face:null,frame:null,frameBorder:null,hSpace:ze,leftMargin:ze,link:null,longDesc:null,lowSrc:null,marginHeight:ze,marginWidth:ze,noResize:wt,noHref:wt,noShade:wt,noWrap:wt,object:null,profile:null,prompt:null,rev:null,rightMargin:ze,rules:null,scheme:null,scrolling:En,standby:null,summary:null,text:null,topMargin:ze,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ze,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:wt,disableRemotePlayback:wt,prefix:null,property:null,results:ze,security:null,unselectable:null},space:"html",transform:AT}),eL=_s({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ar,accentHeight:ze,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ze,amplitude:ze,arabicForm:null,ascent:ze,attributeName:null,attributeType:null,azimuth:ze,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ze,by:null,calcMode:null,capHeight:ze,className:Jt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ze,diffuseConstant:ze,direction:null,display:null,dur:null,divisor:ze,dominantBaseline:null,download:wt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ze,enableBackground:null,end:null,event:null,exponent:ze,externalResourcesRequired:null,fill:null,fillOpacity:ze,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Es,g2:Es,glyphName:Es,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ze,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ze,horizOriginX:ze,horizOriginY:ze,id:null,ideographic:ze,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ze,k:ze,k1:ze,k2:ze,k3:ze,k4:ze,kernelMatrix:Ar,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ze,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ze,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ze,overlineThickness:ze,paintOrder:null,panose1:null,path:null,pathLength:ze,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Jt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ze,pointsAtY:ze,pointsAtZ:ze,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ar,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ar,rev:Ar,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ar,requiredFeatures:Ar,requiredFonts:Ar,requiredFormats:Ar,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ze,specularExponent:ze,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ze,strikethroughThickness:ze,string:null,stroke:null,strokeDashArray:Ar,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ze,strokeOpacity:ze,strokeWidth:null,style:null,surfaceScale:ze,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ar,tabIndex:ze,tableValues:null,target:null,targetX:ze,targetY:ze,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ar,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ze,underlineThickness:ze,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ze,values:null,vAlphabetic:ze,vMathematical:ze,vectorEffect:null,vHanging:ze,vIdeographic:ze,version:null,vertAdvY:ze,vertOriginX:ze,vertOriginY:ze,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ze,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:NT}),RT=_s({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),jT=_s({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:AT}),DT=_s({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),tL={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},nL=/[A-Z]/g,dS=/-[a-z]/g,rL=/^data[-\w.:]+$/i;function aL(t,e){const n=gg(e);let r=e,i=yr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&rL.test(e)){if(e.charAt(4)==="-"){const l=e.slice(5).replace(dS,lL);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=e.slice(4);if(!dS.test(l)){let s=l.replace(nL,iL);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=hy}return new i(r,e)}function iL(t){return"-"+t.toLowerCase()}function lL(t){return t.charAt(1).toUpperCase()}const sL=TT([kT,JO,RT,jT,DT],"html"),vy=TT([kT,eL,RT,jT,DT],"svg");function oL(t){return t.join(" ").trim()}var hs={},Am,fS;function uL(){if(fS)return Am;fS=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,u=/^\s+|\s+$/g,d=`
`,c="/",h="*",v="",m="comment",y="declaration";Am=function(S,w){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];w=w||{};var E=1,T=1;function k(D){var F=D.match(e);F&&(E+=F.length);var $=D.lastIndexOf(d);T=~$?D.length-$:T+D.length}function N(){var D={line:E,column:T};return function(F){return F.position=new M(D),O(),F}}function M(D){this.start=D,this.end={line:E,column:T},this.source=w.source}M.prototype.content=S;function R(D){var F=new Error(w.source+":"+E+":"+T+": "+D);if(F.reason=D,F.filename=w.source,F.line=E,F.column=T,F.source=S,!w.silent)throw F}function A(D){var F=D.exec(S);if(F){var $=F[0];return k($),S=S.slice($.length),F}}function O(){A(n)}function B(D){var F;for(D=D||[];F=P();)F!==!1&&D.push(F);return D}function P(){var D=N();if(!(c!=S.charAt(0)||h!=S.charAt(1))){for(var F=2;v!=S.charAt(F)&&(h!=S.charAt(F)||c!=S.charAt(F+1));)++F;if(F+=2,v===S.charAt(F-1))return R("End of comment missing");var $=S.slice(2,F-2);return T+=2,k($),S=S.slice(F),T+=2,D({type:m,comment:$})}}function q(){var D=N(),F=A(r);if(F){if(P(),!A(i))return R("property missing ':'");var $=A(l),H=D({type:y,property:x(F[0].replace(t,v)),value:$?x($[0].replace(t,v)):v});return A(s),H}}function L(){var D=[];B(D);for(var F;F=q();)F!==!1&&(D.push(F),B(D));return D}return O(),L()};function x(S){return S?S.replace(u,v):v}return Am}var hS;function cL(){if(hS)return hs;hS=1;var t=hs&&hs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hs,"__esModule",{value:!0}),hs.default=n;const e=t(uL());function n(r,i){let l=null;if(!r||typeof r!="string")return l;const s=(0,e.default)(r),u=typeof i=="function";return s.forEach(d=>{if(d.type!=="declaration")return;const{property:c,value:h}=d;u?i(c,h,d):h&&(l=l||{},l[c]=h)}),l}return hs}var Fo={},vS;function dL(){if(vS)return Fo;vS=1,Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,l=function(c){return!c||n.test(c)||t.test(c)},s=function(c,h){return h.toUpperCase()},u=function(c,h){return"".concat(h,"-")},d=function(c,h){return h===void 0&&(h={}),l(c)?c:(c=c.toLowerCase(),h.reactCompat?c=c.replace(i,u):c=c.replace(r,u),c.replace(e,s))};return Fo.camelCase=d,Fo}var Ho,pS;function fL(){if(pS)return Ho;pS=1;var t=Ho&&Ho.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(cL()),n=dL();function r(i,l){var s={};return!i||typeof i!="string"||(0,e.default)(i,function(u,d){u&&d&&(s[(0,n.camelCase)(u,l)]=d)}),s}return r.default=r,Ho=r,Ho}var hL=fL();const vL=vE(hL),MT=BT("end"),py=BT("start");function BT(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function pL(t){const e=py(t),n=MT(t);if(e&&n)return{start:e,end:n}}function Jo(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?mS(t.position):"start"in t||"end"in t?mS(t):"line"in t||"column"in t?bg(t):""}function bg(t){return gS(t&&t.line)+":"+gS(t&&t.column)}function mS(t){return bg(t&&t.start)+"-"+bg(t&&t.end)}function gS(t){return t&&typeof t=="number"?t:1}class Zn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",l={},s=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof e=="string"?i=e:!l.cause&&e&&(s=!0,i=e.message,l.cause=e),!l.ruleId&&!l.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?l.ruleId=r:(l.source=r.slice(0,d),l.ruleId=r.slice(d+1))}if(!l.place&&l.ancestors&&l.ancestors){const d=l.ancestors[l.ancestors.length-1];d&&(l.place=d.position)}const u=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=Jo(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=s&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Zn.prototype.file="";Zn.prototype.name="";Zn.prototype.reason="";Zn.prototype.message="";Zn.prototype.stack="";Zn.prototype.column=void 0;Zn.prototype.line=void 0;Zn.prototype.ancestors=void 0;Zn.prototype.cause=void 0;Zn.prototype.fatal=void 0;Zn.prototype.place=void 0;Zn.prototype.ruleId=void 0;Zn.prototype.source=void 0;const my={}.hasOwnProperty,mL=new Map,gL=/[A-Z]/g,yL=new Set(["table","tbody","thead","tfoot","tr"]),xL=new Set(["td","th"]),OT="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function bL(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=AL(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=NL(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?vy:sL,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},l=LT(i,t,void 0);return l&&typeof l!="string"?l:i.create(t,i.Fragment,{children:l||void 0},void 0)}function LT(t,e,n){if(e.type==="element")return wL(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return SL(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return CL(t,e,n);if(e.type==="mdxjsEsm")return EL(t,e);if(e.type==="root")return TL(t,e,n);if(e.type==="text")return kL(t,e)}function wL(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=vy,t.schema=i),t.ancestors.push(e);const l=_T(t,e.tagName,!1),s=RL(t,e);let u=yy(t,e);return yL.has(e.tagName)&&(u=u.filter(function(d){return typeof d=="string"?!ZO(d):!0})),zT(t,s,l,e),gy(s,u),t.ancestors.pop(),t.schema=r,t.create(e,l,s,n)}function SL(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}mu(t,e.position)}function EL(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);mu(t,e.position)}function CL(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=vy,t.schema=i),t.ancestors.push(e);const l=e.name===null?t.Fragment:_T(t,e.name,!0),s=jL(t,e),u=yy(t,e);return zT(t,s,l,e),gy(s,u),t.ancestors.pop(),t.schema=r,t.create(e,l,s,n)}function TL(t,e,n){const r={};return gy(r,yy(t,e)),t.create(e,t.Fragment,r,n)}function kL(t,e){return e.value}function zT(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function gy(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function NL(t,e,n){return r;function r(i,l,s,u){const c=Array.isArray(s.children)?n:e;return u?c(l,s,u):c(l,s)}}function AL(t,e){return n;function n(r,i,l,s){const u=Array.isArray(l.children),d=py(r);return e(i,l,s,u,{columnNumber:d?d.column-1:void 0,fileName:t,lineNumber:d?d.line:void 0},void 0)}}function RL(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&my.call(e.properties,i)){const l=DL(t,i,e.properties[i]);if(l){const[s,u]=l;t.tableCellAlignToStyle&&s==="align"&&typeof u=="string"&&xL.has(e.tagName)?r=u:n[s]=u}}if(r){const l=n.style||(n.style={});l[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function jL(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const l=r.data.estree.body[0];l.type;const s=l.expression;s.type;const u=s.properties[0];u.type,Object.assign(n,t.evaluater.evaluateExpression(u.argument))}else mu(t,e.position);else{const i=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const u=r.value.data.estree.body[0];u.type,l=t.evaluater.evaluateExpression(u.expression)}else mu(t,e.position);else l=r.value===null?!0:r.value;n[i]=l}return n}function yy(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:mL;for(;++r<e.children.length;){const l=e.children[r];let s;if(t.passKeys){const d=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(d){const c=i.get(d)||0;s=d+"-"+c,i.set(d,c+1)}}const u=LT(t,l,s);u!==void 0&&n.push(u)}return n}function DL(t,e,n){const r=aL(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?YO(n):oL(n)),r.property==="style"){let i=typeof n=="object"?n:ML(t,String(n));return t.stylePropertyNameCase==="css"&&(i=BL(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?tL[r.property]||r.property:r.attribute,n]}}function ML(t,e){try{return vL(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Zn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=OT+"#cannot-parse-style-attribute",i}}function _T(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let l=-1,s;for(;++l<i.length;){const u=oS(i[l])?{type:"Identifier",name:i[l]}:{type:"Literal",value:i[l]};s=s?{type:"MemberExpression",object:s,property:u,computed:!!(l&&u.type==="Literal"),optional:!1}:u}r=s}else r=oS(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return my.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);mu(t)}function mu(t,e){const n=new Zn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=OT+"#cannot-handle-mdx-estrees-without-createevaluater",n}function BL(t){const e={};let n;for(n in t)my.call(t,n)&&(e[OL(n)]=t[n]);return e}function OL(t){let e=t.replace(gL,LL);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function LL(t){return"-"+t.toLowerCase()}const Rm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},zL={};function _L(t,e){const n=zL,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return PT(t,r,i)}function PT(t,e,n){if(PL(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return yS(t.children,e,n)}return Array.isArray(t)?yS(t,e,n):""}function yS(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=PT(t[i],e,n);return r.join("")}function PL(t){return!!(t&&typeof t=="object")}const xS=document.createElement("i");function xy(t){const e="&"+t+";";xS.innerHTML=e;const n=xS.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function va(t,e,n,r){const i=t.length;let l=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);l<r.length;)s=r.slice(l,l+1e4),s.unshift(e,0),t.splice(...s),l+=1e4,e+=1e4}function Ur(t,e){return t.length>0?(va(t,t.length,0,e),t):e}const bS={}.hasOwnProperty;function IL(t){const e={};let n=-1;for(;++n<t.length;)qL(e,t[n]);return e}function qL(t,e){let n;for(n in e){const i=(bS.call(t,n)?t[n]:void 0)||(t[n]={}),l=e[n];let s;if(l)for(s in l){bS.call(i,s)||(i[s]=[]);const u=l[s];FL(i[s],Array.isArray(u)?u:u?[u]:[])}}}function FL(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);va(t,0,0,r)}function IT(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Cs(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ca=Fi(/[A-Za-z]/),Rr=Fi(/[\dA-Za-z]/),HL=Fi(/[#-'*+\--9=?A-Z^-~]/);function wg(t){return t!==null&&(t<32||t===127)}const Sg=Fi(/\d/),UL=Fi(/[\dA-Fa-f]/),VL=Fi(/[!-/:-@[-`{-~]/);function ht(t){return t!==null&&t<-2}function pr(t){return t!==null&&(t<0||t===32)}function Pt(t){return t===-2||t===-1||t===32}const GL=Fi(new RegExp("\\p{P}|\\p{S}","u")),YL=Fi(/\s/);function Fi(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Ps(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const l=t.charCodeAt(n);let s="";if(l===37&&Rr(t.charCodeAt(n+1))&&Rr(t.charCodeAt(n+2)))i=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(s=String.fromCharCode(l));else if(l>55295&&l<57344){const u=t.charCodeAt(n+1);l<56320&&u>56319&&u<57344?(s=String.fromCharCode(l,u),i=1):s=""}else s=String.fromCharCode(l);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function en(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let l=0;return s;function s(d){return Pt(d)?(t.enter(n),u(d)):e(d)}function u(d){return Pt(d)&&l++<i?(t.consume(d),u):(t.exit(n),e(d))}}const $L={tokenize:XL};function XL(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),en(t,e,"linePrefix")}function i(u){return t.enter("paragraph"),l(u)}function l(u){const d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,s(u)}function s(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return ht(u)?(t.consume(u),t.exit("chunkText"),l):(t.consume(u),s)}}const KL={tokenize:QL},wS={tokenize:ZL};function QL(t){const e=this,n=[];let r=0,i,l,s;return u;function u(k){if(r<n.length){const N=n[r];return e.containerState=N[1],t.attempt(N[0].continuation,d,c)(k)}return c(k)}function d(k){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&T();const N=e.events.length;let M=N,R;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){R=e.events[M][1].end;break}E(r);let A=N;for(;A<e.events.length;)e.events[A][1].end={...R},A++;return va(e.events,M+1,0,e.events.slice(N)),e.events.length=A,c(k)}return u(k)}function c(k){if(r===n.length){if(!i)return m(k);if(i.currentConstruct&&i.currentConstruct.concrete)return x(k);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(wS,h,v)(k)}function h(k){return i&&T(),E(r),m(k)}function v(k){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,x(k)}function m(k){return e.containerState={},t.attempt(wS,y,x)(k)}function y(k){return r++,n.push([e.currentConstruct,e.containerState]),m(k)}function x(k){if(k===null){i&&T(),E(0),t.consume(k);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:l}),S(k)}function S(k){if(k===null){w(t.exit("chunkFlow"),!0),E(0),t.consume(k);return}return ht(k)?(t.consume(k),w(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(k),S)}function w(k,N){const M=e.sliceStream(k);if(N&&M.push(null),k.previous=l,l&&(l.next=k),l=k,i.defineSkip(k.start),i.write(M),e.parser.lazy[k.start.line]){let R=i.events.length;for(;R--;)if(i.events[R][1].start.offset<s&&(!i.events[R][1].end||i.events[R][1].end.offset>s))return;const A=e.events.length;let O=A,B,P;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){if(B){P=e.events[O][1].end;break}B=!0}for(E(r),R=A;R<e.events.length;)e.events[R][1].end={...P},R++;va(e.events,O+1,0,e.events.slice(A)),e.events.length=R}}function E(k){let N=n.length;for(;N-- >k;){const M=n[N];e.containerState=M[1],M[0].exit.call(e,t)}n.length=k}function T(){i.write([null]),l=void 0,i=void 0,e.containerState._closeFlow=void 0}}function ZL(t,e,n){return en(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function SS(t){if(t===null||pr(t)||YL(t))return 1;if(GL(t))return 2}function by(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const l=t[i].resolveAll;l&&!r.includes(l)&&(e=l(e,n),r.push(l))}return e}const Eg={name:"attention",resolveAll:WL,tokenize:JL};function WL(t,e){let n=-1,r,i,l,s,u,d,c,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const v={...t[r][1].end},m={...t[n][1].start};ES(v,-d),ES(m,d),s={type:d>1?"strongSequence":"emphasisSequence",start:v,end:{...t[r][1].end}},u={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:m},l={type:d>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:d>1?"strong":"emphasis",start:{...s.start},end:{...u.end}},t[r][1].end={...s.start},t[n][1].start={...u.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Ur(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Ur(c,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",l,e]]),c=Ur(c,by(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Ur(c,[["exit",l,e],["enter",u,e],["exit",u,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,c=Ur(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,va(t,r-1,n-r+3,c),n=r+c.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function JL(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=SS(r);let l;return s;function s(d){return l=d,t.enter("attentionSequence"),u(d)}function u(d){if(d===l)return t.consume(d),u;const c=t.exit("attentionSequence"),h=SS(d),v=!h||h===2&&i||n.includes(d),m=!i||i===2&&h||n.includes(r);return c._open=!!(l===42?v:v&&(i||!m)),c._close=!!(l===42?m:m&&(h||!v)),e(d)}}function ES(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const ez={name:"autolink",tokenize:tz};function tz(t,e,n){let r=0;return i;function i(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),l}function l(y){return ca(y)?(t.consume(y),s):y===64?n(y):c(y)}function s(y){return y===43||y===45||y===46||Rr(y)?(r=1,u(y)):c(y)}function u(y){return y===58?(t.consume(y),r=0,d):(y===43||y===45||y===46||Rr(y))&&r++<32?(t.consume(y),u):(r=0,c(y))}function d(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||wg(y)?n(y):(t.consume(y),d)}function c(y){return y===64?(t.consume(y),h):HL(y)?(t.consume(y),c):n(y)}function h(y){return Rr(y)?v(y):n(y)}function v(y){return y===46?(t.consume(y),r=0,h):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):m(y)}function m(y){if((y===45||Rr(y))&&r++<63){const x=y===45?m:v;return t.consume(y),x}return n(y)}}const kf={partial:!0,tokenize:nz};function nz(t,e,n){return r;function r(l){return Pt(l)?en(t,i,"linePrefix")(l):i(l)}function i(l){return l===null||ht(l)?e(l):n(l)}}const qT={continuation:{tokenize:az},exit:iz,name:"blockQuote",tokenize:rz};function rz(t,e,n){const r=this;return i;function i(s){if(s===62){const u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),l}return n(s)}function l(s){return Pt(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function az(t,e,n){const r=this;return i;function i(s){return Pt(s)?en(t,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):l(s)}function l(s){return t.attempt(qT,e,n)(s)}}function iz(t){t.exit("blockQuote")}const FT={name:"characterEscape",tokenize:lz};function lz(t,e,n){return r;function r(l){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(l),t.exit("escapeMarker"),i}function i(l){return VL(l)?(t.enter("characterEscapeValue"),t.consume(l),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(l)}}const HT={name:"characterReference",tokenize:sz};function sz(t,e,n){const r=this;let i=0,l,s;return u;function u(v){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),d}function d(v){return v===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(v),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),l=31,s=Rr,h(v))}function c(v){return v===88||v===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(v),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),l=6,s=UL,h):(t.enter("characterReferenceValue"),l=7,s=Sg,h(v))}function h(v){if(v===59&&i){const m=t.exit("characterReferenceValue");return s===Rr&&!xy(r.sliceSerialize(m))?n(v):(t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(v)&&i++<l?(t.consume(v),h):n(v)}}const CS={partial:!0,tokenize:uz},TS={concrete:!0,name:"codeFenced",tokenize:oz};function oz(t,e,n){const r=this,i={partial:!0,tokenize:M};let l=0,s=0,u;return d;function d(R){return c(R)}function c(R){const A=r.events[r.events.length-1];return l=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,u=R,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(R)}function h(R){return R===u?(s++,t.consume(R),h):s<3?n(R):(t.exit("codeFencedFenceSequence"),Pt(R)?en(t,v,"whitespace")(R):v(R))}function v(R){return R===null||ht(R)?(t.exit("codeFencedFence"),r.interrupt?e(R):t.check(CS,S,N)(R)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(R))}function m(R){return R===null||ht(R)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),v(R)):Pt(R)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),en(t,y,"whitespace")(R)):R===96&&R===u?n(R):(t.consume(R),m)}function y(R){return R===null||ht(R)?v(R):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(R))}function x(R){return R===null||ht(R)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),v(R)):R===96&&R===u?n(R):(t.consume(R),x)}function S(R){return t.attempt(i,N,w)(R)}function w(R){return t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),E}function E(R){return l>0&&Pt(R)?en(t,T,"linePrefix",l+1)(R):T(R)}function T(R){return R===null||ht(R)?t.check(CS,S,N)(R):(t.enter("codeFlowValue"),k(R))}function k(R){return R===null||ht(R)?(t.exit("codeFlowValue"),T(R)):(t.consume(R),k)}function N(R){return t.exit("codeFenced"),e(R)}function M(R,A,O){let B=0;return P;function P($){return R.enter("lineEnding"),R.consume($),R.exit("lineEnding"),q}function q($){return R.enter("codeFencedFence"),Pt($)?en(R,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):L($)}function L($){return $===u?(R.enter("codeFencedFenceSequence"),D($)):O($)}function D($){return $===u?(B++,R.consume($),D):B>=s?(R.exit("codeFencedFenceSequence"),Pt($)?en(R,F,"whitespace")($):F($)):O($)}function F($){return $===null||ht($)?(R.exit("codeFencedFence"),A($)):O($)}}}function uz(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),l)}function l(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const jm={name:"codeIndented",tokenize:dz},cz={partial:!0,tokenize:fz};function dz(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),en(t,l,"linePrefix",5)(c)}function l(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?d(c):ht(c)?t.attempt(cz,s,d)(c):(t.enter("codeFlowValue"),u(c))}function u(c){return c===null||ht(c)?(t.exit("codeFlowValue"),s(c)):(t.consume(c),u)}function d(c){return t.exit("codeIndented"),e(c)}}function fz(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):ht(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):en(t,l,"linePrefix",5)(s)}function l(s){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(s):ht(s)?i(s):n(s)}}const hz={name:"codeText",previous:pz,resolve:vz,tokenize:mz};function vz(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function pz(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function mz(t,e,n){let r=0,i,l;return s;function s(v){return t.enter("codeText"),t.enter("codeTextSequence"),u(v)}function u(v){return v===96?(t.consume(v),r++,u):(t.exit("codeTextSequence"),d(v))}function d(v){return v===null?n(v):v===32?(t.enter("space"),t.consume(v),t.exit("space"),d):v===96?(l=t.enter("codeTextSequence"),i=0,h(v)):ht(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),d):(t.enter("codeTextData"),c(v))}function c(v){return v===null||v===32||v===96||ht(v)?(t.exit("codeTextData"),d(v)):(t.consume(v),c)}function h(v){return v===96?(t.consume(v),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(v)):(l.type="codeTextData",c(v))}}class gz{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const l=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Uo(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Uo(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Uo(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Uo(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Uo(this.left,n.reverse())}}}function Uo(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function UT(t){const e={};let n=-1,r,i,l,s,u,d,c;const h=new gz(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,l=0,l<d.length&&d[l][1].type==="lineEndingBlank"&&(l+=2),l<d.length&&d[l][1].type==="content"))for(;++l<d.length&&d[l][1].type!=="content";)d[l][1].type==="chunkText"&&(d[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,yz(h,n)),n=e[n],c=!0);else if(r[1]._container){for(l=n,i=void 0;l--;)if(s=h.get(l),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=l);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},u=h.slice(i,n),u.unshift(r),h.splice(i,n-i+1,u))}}return va(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!c}function yz(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const l=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const u=s.events,d=[],c={};let h,v,m=-1,y=n,x=0,S=0;const w=[S];for(;y;){for(;t.get(++i)[1]!==y;);l.push(i),y._tokenizer||(h=r.sliceStream(y),y.next||h.push(null),v&&s.defineSkip(y.start),y._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),y._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),v=y,y=y.next}for(y=n;++m<u.length;)u[m][0]==="exit"&&u[m-1][0]==="enter"&&u[m][1].type===u[m-1][1].type&&u[m][1].start.line!==u[m][1].end.line&&(S=m+1,w.push(S),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(s.events=[],y?(y._tokenizer=void 0,y.previous=void 0):w.pop(),m=w.length;m--;){const E=u.slice(w[m],w[m+1]),T=l.pop();d.push([T,T+E.length-1]),t.splice(T,2,E)}for(d.reverse(),m=-1;++m<d.length;)c[x+d[m][0]]=x+d[m][1],x+=d[m][1]-d[m][0]-1;return c}const xz={resolve:wz,tokenize:Sz},bz={partial:!0,tokenize:Ez};function wz(t){return UT(t),t}function Sz(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?l(u):ht(u)?t.check(bz,s,l)(u):(t.consume(u),i)}function l(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function s(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Ez(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),en(t,l,"linePrefix")}function l(s){if(s===null||ht(s))return n(s);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function VT(t,e,n,r,i,l,s,u,d){const c=d||Number.POSITIVE_INFINITY;let h=0;return v;function v(E){return E===60?(t.enter(r),t.enter(i),t.enter(l),t.consume(E),t.exit(l),m):E===null||E===32||E===41||wg(E)?n(E):(t.enter(r),t.enter(s),t.enter(u),t.enter("chunkString",{contentType:"string"}),S(E))}function m(E){return E===62?(t.enter(l),t.consume(E),t.exit(l),t.exit(i),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===62?(t.exit("chunkString"),t.exit(u),m(E)):E===null||E===60||ht(E)?n(E):(t.consume(E),E===92?x:y)}function x(E){return E===60||E===62||E===92?(t.consume(E),y):y(E)}function S(E){return!h&&(E===null||E===41||pr(E))?(t.exit("chunkString"),t.exit(u),t.exit(s),t.exit(r),e(E)):h<c&&E===40?(t.consume(E),h++,S):E===41?(t.consume(E),h--,S):E===null||E===32||E===40||wg(E)?n(E):(t.consume(E),E===92?w:S)}function w(E){return E===40||E===41||E===92?(t.consume(E),S):S(E)}}function GT(t,e,n,r,i,l){const s=this;let u=0,d;return c;function c(y){return t.enter(r),t.enter(i),t.consume(y),t.exit(i),t.enter(l),h}function h(y){return u>999||y===null||y===91||y===93&&!d||y===94&&!u&&"_hiddenFootnoteSupport"in s.parser.constructs?n(y):y===93?(t.exit(l),t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):ht(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),v(y))}function v(y){return y===null||y===91||y===93||ht(y)||u++>999?(t.exit("chunkString"),h(y)):(t.consume(y),d||(d=!Pt(y)),y===92?m:v)}function m(y){return y===91||y===92||y===93?(t.consume(y),u++,v):v(y)}}function YT(t,e,n,r,i,l){let s;return u;function u(m){return m===34||m===39||m===40?(t.enter(r),t.enter(i),t.consume(m),t.exit(i),s=m===40?41:m,d):n(m)}function d(m){return m===s?(t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):(t.enter(l),c(m))}function c(m){return m===s?(t.exit(l),d(s)):m===null?n(m):ht(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),en(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===s||m===null||ht(m)?(t.exit("chunkString"),c(m)):(t.consume(m),m===92?v:h)}function v(m){return m===s||m===92?(t.consume(m),h):h(m)}}function eu(t,e){let n;return r;function r(i){return ht(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Pt(i)?en(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Cz={name:"definition",tokenize:kz},Tz={partial:!0,tokenize:Nz};function kz(t,e,n){const r=this;let i;return l;function l(y){return t.enter("definition"),s(y)}function s(y){return GT.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function u(y){return i=Cs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),d):n(y)}function d(y){return pr(y)?eu(t,c)(y):c(y)}function c(y){return VT(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return t.attempt(Tz,v,v)(y)}function v(y){return Pt(y)?en(t,m,"whitespace")(y):m(y)}function m(y){return y===null||ht(y)?(t.exit("definition"),r.parser.defined.push(i),e(y)):n(y)}}function Nz(t,e,n){return r;function r(u){return pr(u)?eu(t,i)(u):n(u)}function i(u){return YT(t,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function l(u){return Pt(u)?en(t,s,"whitespace")(u):s(u)}function s(u){return u===null||ht(u)?e(u):n(u)}}const Az={name:"hardBreakEscape",tokenize:Rz};function Rz(t,e,n){return r;function r(l){return t.enter("hardBreakEscape"),t.consume(l),i}function i(l){return ht(l)?(t.exit("hardBreakEscape"),e(l)):n(l)}}const jz={name:"headingAtx",resolve:Dz,tokenize:Mz};function Dz(t,e){let n=t.length-2,r=3,i,l;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},l={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},va(t,r,n-r+1,[["enter",i,e],["enter",l,e],["exit",l,e],["exit",i,e]])),t}function Mz(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),l(h)}function l(h){return t.enter("atxHeadingSequence"),s(h)}function s(h){return h===35&&r++<6?(t.consume(h),s):h===null||pr(h)?(t.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(t.enter("atxHeadingSequence"),d(h)):h===null||ht(h)?(t.exit("atxHeading"),e(h)):Pt(h)?en(t,u,"whitespace")(h):(t.enter("atxHeadingText"),c(h))}function d(h){return h===35?(t.consume(h),d):(t.exit("atxHeadingSequence"),u(h))}function c(h){return h===null||h===35||pr(h)?(t.exit("atxHeadingText"),u(h)):(t.consume(h),c)}}const Bz=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],kS=["pre","script","style","textarea"],Oz={concrete:!0,name:"htmlFlow",resolveTo:_z,tokenize:Pz},Lz={partial:!0,tokenize:qz},zz={partial:!0,tokenize:Iz};function _z(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Pz(t,e,n){const r=this;let i,l,s,u,d;return c;function c(z){return h(z)}function h(z){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(z),v}function v(z){return z===33?(t.consume(z),m):z===47?(t.consume(z),l=!0,S):z===63?(t.consume(z),i=3,r.interrupt?e:I):ca(z)?(t.consume(z),s=String.fromCharCode(z),w):n(z)}function m(z){return z===45?(t.consume(z),i=2,y):z===91?(t.consume(z),i=5,u=0,x):ca(z)?(t.consume(z),i=4,r.interrupt?e:I):n(z)}function y(z){return z===45?(t.consume(z),r.interrupt?e:I):n(z)}function x(z){const ne="CDATA[";return z===ne.charCodeAt(u++)?(t.consume(z),u===ne.length?r.interrupt?e:L:x):n(z)}function S(z){return ca(z)?(t.consume(z),s=String.fromCharCode(z),w):n(z)}function w(z){if(z===null||z===47||z===62||pr(z)){const ne=z===47,le=s.toLowerCase();return!ne&&!l&&kS.includes(le)?(i=1,r.interrupt?e(z):L(z)):Bz.includes(s.toLowerCase())?(i=6,ne?(t.consume(z),E):r.interrupt?e(z):L(z)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(z):l?T(z):k(z))}return z===45||Rr(z)?(t.consume(z),s+=String.fromCharCode(z),w):n(z)}function E(z){return z===62?(t.consume(z),r.interrupt?e:L):n(z)}function T(z){return Pt(z)?(t.consume(z),T):P(z)}function k(z){return z===47?(t.consume(z),P):z===58||z===95||ca(z)?(t.consume(z),N):Pt(z)?(t.consume(z),k):P(z)}function N(z){return z===45||z===46||z===58||z===95||Rr(z)?(t.consume(z),N):M(z)}function M(z){return z===61?(t.consume(z),R):Pt(z)?(t.consume(z),M):k(z)}function R(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(t.consume(z),d=z,A):Pt(z)?(t.consume(z),R):O(z)}function A(z){return z===d?(t.consume(z),d=null,B):z===null||ht(z)?n(z):(t.consume(z),A)}function O(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||pr(z)?M(z):(t.consume(z),O)}function B(z){return z===47||z===62||Pt(z)?k(z):n(z)}function P(z){return z===62?(t.consume(z),q):n(z)}function q(z){return z===null||ht(z)?L(z):Pt(z)?(t.consume(z),q):n(z)}function L(z){return z===45&&i===2?(t.consume(z),H):z===60&&i===1?(t.consume(z),V):z===62&&i===4?(t.consume(z),_):z===63&&i===3?(t.consume(z),I):z===93&&i===5?(t.consume(z),ee):ht(z)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Lz,X,D)(z)):z===null||ht(z)?(t.exit("htmlFlowData"),D(z)):(t.consume(z),L)}function D(z){return t.check(zz,F,X)(z)}function F(z){return t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),$}function $(z){return z===null||ht(z)?D(z):(t.enter("htmlFlowData"),L(z))}function H(z){return z===45?(t.consume(z),I):L(z)}function V(z){return z===47?(t.consume(z),s="",K):L(z)}function K(z){if(z===62){const ne=s.toLowerCase();return kS.includes(ne)?(t.consume(z),_):L(z)}return ca(z)&&s.length<8?(t.consume(z),s+=String.fromCharCode(z),K):L(z)}function ee(z){return z===93?(t.consume(z),I):L(z)}function I(z){return z===62?(t.consume(z),_):z===45&&i===2?(t.consume(z),I):L(z)}function _(z){return z===null||ht(z)?(t.exit("htmlFlowData"),X(z)):(t.consume(z),_)}function X(z){return t.exit("htmlFlow"),e(z)}}function Iz(t,e,n){const r=this;return i;function i(s){return ht(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),l):n(s)}function l(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function qz(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(kf,e,n)}}const Fz={name:"htmlText",tokenize:Hz};function Hz(t,e,n){const r=this;let i,l,s;return u;function u(I){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(I),d}function d(I){return I===33?(t.consume(I),c):I===47?(t.consume(I),M):I===63?(t.consume(I),k):ca(I)?(t.consume(I),O):n(I)}function c(I){return I===45?(t.consume(I),h):I===91?(t.consume(I),l=0,x):ca(I)?(t.consume(I),T):n(I)}function h(I){return I===45?(t.consume(I),y):n(I)}function v(I){return I===null?n(I):I===45?(t.consume(I),m):ht(I)?(s=v,V(I)):(t.consume(I),v)}function m(I){return I===45?(t.consume(I),y):v(I)}function y(I){return I===62?H(I):I===45?m(I):v(I)}function x(I){const _="CDATA[";return I===_.charCodeAt(l++)?(t.consume(I),l===_.length?S:x):n(I)}function S(I){return I===null?n(I):I===93?(t.consume(I),w):ht(I)?(s=S,V(I)):(t.consume(I),S)}function w(I){return I===93?(t.consume(I),E):S(I)}function E(I){return I===62?H(I):I===93?(t.consume(I),E):S(I)}function T(I){return I===null||I===62?H(I):ht(I)?(s=T,V(I)):(t.consume(I),T)}function k(I){return I===null?n(I):I===63?(t.consume(I),N):ht(I)?(s=k,V(I)):(t.consume(I),k)}function N(I){return I===62?H(I):k(I)}function M(I){return ca(I)?(t.consume(I),R):n(I)}function R(I){return I===45||Rr(I)?(t.consume(I),R):A(I)}function A(I){return ht(I)?(s=A,V(I)):Pt(I)?(t.consume(I),A):H(I)}function O(I){return I===45||Rr(I)?(t.consume(I),O):I===47||I===62||pr(I)?B(I):n(I)}function B(I){return I===47?(t.consume(I),H):I===58||I===95||ca(I)?(t.consume(I),P):ht(I)?(s=B,V(I)):Pt(I)?(t.consume(I),B):H(I)}function P(I){return I===45||I===46||I===58||I===95||Rr(I)?(t.consume(I),P):q(I)}function q(I){return I===61?(t.consume(I),L):ht(I)?(s=q,V(I)):Pt(I)?(t.consume(I),q):B(I)}function L(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(t.consume(I),i=I,D):ht(I)?(s=L,V(I)):Pt(I)?(t.consume(I),L):(t.consume(I),F)}function D(I){return I===i?(t.consume(I),i=void 0,$):I===null?n(I):ht(I)?(s=D,V(I)):(t.consume(I),D)}function F(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===47||I===62||pr(I)?B(I):(t.consume(I),F)}function $(I){return I===47||I===62||pr(I)?B(I):n(I)}function H(I){return I===62?(t.consume(I),t.exit("htmlTextData"),t.exit("htmlText"),e):n(I)}function V(I){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),K}function K(I){return Pt(I)?en(t,ee,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):ee(I)}function ee(I){return t.enter("htmlTextData"),s(I)}}const wy={name:"labelEnd",resolveAll:Yz,resolveTo:$z,tokenize:Xz},Uz={tokenize:Kz},Vz={tokenize:Qz},Gz={tokenize:Zz};function Yz(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&va(t,0,t.length,n),t}function $z(t,e){let n=t.length,r=0,i,l,s,u;for(;n--;)if(i=t[n][1],l){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(l=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const d={type:t[l][1].type==="labelLink"?"link":"image",start:{...t[l][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[l][1].start},end:{...t[s][1].end}},h={type:"labelText",start:{...t[l+r+2][1].end},end:{...t[s-2][1].start}};return u=[["enter",d,e],["enter",c,e]],u=Ur(u,t.slice(l+1,l+r+3)),u=Ur(u,[["enter",h,e]]),u=Ur(u,by(e.parser.constructs.insideSpan.null,t.slice(l+r+4,s-3),e)),u=Ur(u,[["exit",h,e],t[s-2],t[s-1],["exit",c,e]]),u=Ur(u,t.slice(s+1)),u=Ur(u,[["exit",d,e]]),va(t,l,t.length,u),t}function Xz(t,e,n){const r=this;let i=r.events.length,l,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){l=r.events[i][1];break}return u;function u(m){return l?l._inactive?v(m):(s=r.parser.defined.includes(Cs(r.sliceSerialize({start:l.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),d):n(m)}function d(m){return m===40?t.attempt(Uz,h,s?h:v)(m):m===91?t.attempt(Vz,h,s?c:v)(m):s?h(m):v(m)}function c(m){return t.attempt(Gz,h,v)(m)}function h(m){return e(m)}function v(m){return l._balanced=!0,n(m)}}function Kz(t,e,n){return r;function r(v){return t.enter("resource"),t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),i}function i(v){return pr(v)?eu(t,l)(v):l(v)}function l(v){return v===41?h(v):VT(t,s,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function s(v){return pr(v)?eu(t,d)(v):h(v)}function u(v){return n(v)}function d(v){return v===34||v===39||v===40?YT(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):h(v)}function c(v){return pr(v)?eu(t,h)(v):h(v)}function h(v){return v===41?(t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),t.exit("resource"),e):n(v)}}function Qz(t,e,n){const r=this;return i;function i(u){return GT.call(r,t,l,s,"reference","referenceMarker","referenceString")(u)}function l(u){return r.parser.defined.includes(Cs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function s(u){return n(u)}}function Zz(t,e,n){return r;function r(l){return t.enter("reference"),t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),i}function i(l){return l===93?(t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),t.exit("reference"),e):n(l)}}const Wz={name:"labelStartImage",resolveAll:wy.resolveAll,tokenize:Jz};function Jz(t,e,n){const r=this;return i;function i(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),l}function l(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),s):n(u)}function s(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const e_={name:"labelStartLink",resolveAll:wy.resolveAll,tokenize:t_};function t_(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),l}function l(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const Dm={name:"lineEnding",tokenize:n_};function n_(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),en(t,e,"linePrefix")}}const Od={name:"thematicBreak",tokenize:r_};function r_(t,e,n){let r=0,i;return l;function l(c){return t.enter("thematicBreak"),s(c)}function s(c){return i=c,u(c)}function u(c){return c===i?(t.enter("thematicBreakSequence"),d(c)):r>=3&&(c===null||ht(c))?(t.exit("thematicBreak"),e(c)):n(c)}function d(c){return c===i?(t.consume(c),r++,d):(t.exit("thematicBreakSequence"),Pt(c)?en(t,u,"whitespace")(c):u(c))}}const dr={continuation:{tokenize:s_},exit:u_,name:"list",tokenize:l_},a_={partial:!0,tokenize:c_},i_={partial:!0,tokenize:o_};function l_(t,e,n){const r=this,i=r.events[r.events.length-1];let l=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return u;function u(y){const x=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:Sg(y)){if(r.containerState.type||(r.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(Od,n,c)(y):c(y);if(!r.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(y)}return n(y)}function d(y){return Sg(y)&&++s<10?(t.consume(y),d):(!r.interrupt||s<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),c(y)):n(y)}function c(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,t.check(kf,r.interrupt?n:h,t.attempt(a_,m,v))}function h(y){return r.containerState.initialBlankLine=!0,l++,m(y)}function v(y){return Pt(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),m):n(y)}function m(y){return r.containerState.size=l+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function s_(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(kf,i,l);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,en(t,e,"listItemIndent",r.containerState.size+1)(u)}function l(u){return r.containerState.furtherBlankLines||!Pt(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(i_,e,s)(u))}function s(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,en(t,t.attempt(dr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function o_(t,e,n){const r=this;return en(t,i,"listItemIndent",r.containerState.size+1);function i(l){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(l):n(l)}}function u_(t){t.exit(this.containerState.type)}function c_(t,e,n){const r=this;return en(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(l){const s=r.events[r.events.length-1];return!Pt(l)&&s&&s[1].type==="listItemPrefixWhitespace"?e(l):n(l)}}const NS={name:"setextUnderline",resolveTo:d_,tokenize:f_};function d_(t,e){let n=t.length,r,i,l;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!l&&t[n][1].type==="definition"&&(l=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",l?(t.splice(i,0,["enter",s,e]),t.splice(l+1,0,["exit",t[r][1],e]),t[r][1].end={...t[l][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function f_(t,e,n){const r=this;let i;return l;function l(c){let h=r.events.length,v;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){v=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||v)?(t.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return t.enter("setextHeadingLineSequence"),u(c)}function u(c){return c===i?(t.consume(c),u):(t.exit("setextHeadingLineSequence"),Pt(c)?en(t,d,"lineSuffix")(c):d(c))}function d(c){return c===null||ht(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const h_={tokenize:v_};function v_(t){const e=this,n=t.attempt(kf,r,t.attempt(this.parser.constructs.flowInitial,i,en(t,t.attempt(this.parser.constructs.flow,i,t.attempt(xz,i)),"linePrefix")));return n;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEndingBlank"),t.consume(l),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const p_={resolveAll:XT()},m_=$T("string"),g_=$T("text");function $T(t){return{resolveAll:XT(t==="text"?y_:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],l=n.attempt(i,s,u);return s;function s(h){return c(h)?l(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),d}function d(h){return c(h)?(n.exit("data"),l(h)):(n.consume(h),d)}function c(h){if(h===null)return!0;const v=i[h];let m=-1;if(v)for(;++m<v.length;){const y=v[m];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function XT(t){return e;function e(n,r){let i=-1,l;for(;++i<=n.length;)l===void 0?n[i]&&n[i][1].type==="data"&&(l=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==l+2&&(n[l][1].end=n[i-1][1].end,n.splice(l+2,i-l-2),i=l+2),l=void 0);return t?t(n,r):n}}function y_(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let l=i.length,s=-1,u=0,d;for(;l--;){const c=i[l];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)u++,s--;if(s)break;s=-1}else if(c===-2)d=!0,u++;else if(c!==-1){l++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(u=0),u){const c={type:n===t.length||d||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?s:r.start._bufferIndex+s,_index:r.start._index+l,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const x_={42:dr,43:dr,45:dr,48:dr,49:dr,50:dr,51:dr,52:dr,53:dr,54:dr,55:dr,56:dr,57:dr,62:qT},b_={91:Cz},w_={[-2]:jm,[-1]:jm,32:jm},S_={35:jz,42:Od,45:[NS,Od],60:Oz,61:NS,95:Od,96:TS,126:TS},E_={38:HT,92:FT},C_={[-5]:Dm,[-4]:Dm,[-3]:Dm,33:Wz,38:HT,42:Eg,60:[ez,Fz],91:e_,92:[Az,FT],93:wy,95:Eg,96:hz},T_={null:[Eg,p_]},k_={null:[42,95]},N_={null:[]},A_=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:k_,contentInitial:b_,disable:N_,document:x_,flow:S_,flowInitial:w_,insideSpan:T_,string:E_,text:C_},Symbol.toStringTag,{value:"Module"}));function R_(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},l=[];let s=[],u=[];const d={attempt:A(M),check:A(R),consume:T,enter:k,exit:N,interrupt:A(R,{interrupt:!0})},c={code:null,containerState:{},defineSkip:S,events:[],now:x,parser:t,previous:null,sliceSerialize:m,sliceStream:y,write:v};let h=e.tokenize.call(c,d);return e.resolveAll&&l.push(e),c;function v(q){return s=Ur(s,q),w(),s[s.length-1]!==null?[]:(O(e,0),c.events=by(l,c.events,c),c.events)}function m(q,L){return D_(y(q),L)}function y(q){return j_(s,q)}function x(){const{_bufferIndex:q,_index:L,line:D,column:F,offset:$}=r;return{_bufferIndex:q,_index:L,line:D,column:F,offset:$}}function S(q){i[q.line]=q.column,P()}function w(){let q;for(;r._index<s.length;){const L=s[r._index];if(typeof L=="string")for(q=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===q&&r._bufferIndex<L.length;)E(L.charCodeAt(r._bufferIndex));else E(L)}}function E(q){h=h(q)}function T(q){ht(q)?(r.line++,r.column=1,r.offset+=q===-3?2:1,P()):q!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=q}function k(q,L){const D=L||{};return D.type=q,D.start=x(),c.events.push(["enter",D,c]),u.push(D),D}function N(q){const L=u.pop();return L.end=x(),c.events.push(["exit",L,c]),L}function M(q,L){O(q,L.from)}function R(q,L){L.restore()}function A(q,L){return D;function D(F,$,H){let V,K,ee,I;return Array.isArray(F)?X(F):"tokenize"in F?X([F]):_(F);function _(de){return ye;function ye(je){const xe=je!==null&&de[je],ie=je!==null&&de.null,ue=[...Array.isArray(xe)?xe:xe?[xe]:[],...Array.isArray(ie)?ie:ie?[ie]:[]];return X(ue)(je)}}function X(de){return V=de,K=0,de.length===0?H:z(de[K])}function z(de){return ye;function ye(je){return I=B(),ee=de,de.partial||(c.currentConstruct=de),de.name&&c.parser.constructs.disable.null.includes(de.name)?le():de.tokenize.call(L?Object.assign(Object.create(c),L):c,d,ne,le)(je)}}function ne(de){return q(ee,I),$}function le(de){return I.restore(),++K<V.length?z(V[K]):H}}}function O(q,L){q.resolveAll&&!l.includes(q)&&l.push(q),q.resolve&&va(c.events,L,c.events.length-L,q.resolve(c.events.slice(L),c)),q.resolveTo&&(c.events=q.resolveTo(c.events,c))}function B(){const q=x(),L=c.previous,D=c.currentConstruct,F=c.events.length,$=Array.from(u);return{from:F,restore:H};function H(){r=q,c.previous=L,c.currentConstruct=D,c.events.length=F,u=$,P()}}function P(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function j_(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,l=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,l)];else{if(s=t.slice(n,i),r>-1){const u=s[0];typeof u=="string"?s[0]=u.slice(r):s.shift()}l>0&&s.push(t[i].slice(0,l))}return s}function D_(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const l=t[n];let s;if(typeof l=="string")s=l;else switch(l){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(l)}i=l===-2,r.push(s)}return r.join("")}function M_(t){const r={constructs:IL([A_,...(t||{}).extensions||[]]),content:i($L),defined:[],document:i(KL),flow:i(h_),lazy:{},string:i(m_),text:i(g_)};return r;function i(l){return s;function s(u){return R_(r,l,u)}}}function B_(t){for(;!UT(t););return t}const AS=/[\0\t\n\r]/g;function O_(){let t=1,e="",n=!0,r;return i;function i(l,s,u){const d=[];let c,h,v,m,y;for(l=e+(typeof l=="string"?l.toString():new TextDecoder(s||void 0).decode(l)),v=0,e="",n&&(l.charCodeAt(0)===65279&&v++,n=void 0);v<l.length;){if(AS.lastIndex=v,c=AS.exec(l),m=c&&c.index!==void 0?c.index:l.length,y=l.charCodeAt(m),!c){e=l.slice(v);break}if(y===10&&v===m&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),v<m&&(d.push(l.slice(v,m)),t+=m-v),y){case 0:{d.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,d.push(-2);t++<h;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:r=!0,t=1}v=m+1}return u&&(r&&d.push(-5),e&&d.push(e),d.push(null)),d}}const L_=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function z_(t){return t.replace(L_,__)}function __(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),l=i===120||i===88;return IT(n.slice(l?2:1),l?16:10)}return xy(n)||t}const KT={}.hasOwnProperty;function P_(t,e,n){return typeof e!="string"&&(n=e,e=void 0),I_(n)(B_(M_(n).document().write(O_()(t,e,!0))))}function I_(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Ge),autolinkProtocol:B,autolinkEmail:B,atxHeading:l(Ye),blockQuote:l(ie),characterEscape:B,characterReference:B,codeFenced:l(ue),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:l(ue,s),codeText:l(pe,s),codeTextData:B,data:B,codeFlowValue:B,definition:l(Te),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:l(Le),hardBreakEscape:l(dt),hardBreakTrailing:l(dt),htmlFlow:l(nt,s),htmlFlowData:B,htmlText:l(nt,s),htmlTextData:B,image:l($e),label:s,link:l(Ge),listItem:l(Xe),listItemValue:m,listOrdered:l(Pe,v),listUnordered:l(Pe),paragraph:l(We),reference:z,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:l(Ye),strong:l(at),thematicBreak:l(ft)},exit:{atxHeading:d(),atxHeadingSequence:M,autolink:d(),autolinkEmail:xe,autolinkProtocol:je,blockQuote:d(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:de,characterReference:ye,codeFenced:d(w),codeFencedFence:S,codeFencedFenceInfo:y,codeFencedFenceMeta:x,codeFlowValue:P,codeIndented:d(E),codeText:d($),codeTextData:P,data:P,definition:d(),definitionDestinationString:N,definitionLabelString:T,definitionTitleString:k,emphasis:d(),hardBreakEscape:d(L),hardBreakTrailing:d(L),htmlFlow:d(D),htmlFlowData:P,htmlText:d(F),htmlTextData:P,image:d(V),label:ee,labelText:K,lineEnding:q,link:d(H),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:ne,resourceDestinationString:I,resourceTitleString:_,resource:X,setextHeading:d(O),setextHeadingLineSequence:A,setextHeadingText:R,strong:d(),thematicBreak:d()}};QT(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(he){let Ae={type:"root",children:[]};const _e={stack:[Ae],tokenStack:[],config:e,enter:u,exit:c,buffer:s,resume:h,data:n},Ve=[];let qe=-1;for(;++qe<he.length;)if(he[qe][1].type==="listOrdered"||he[qe][1].type==="listUnordered")if(he[qe][0]==="enter")Ve.push(qe);else{const Ie=Ve.pop();qe=i(he,Ie,qe)}for(qe=-1;++qe<he.length;){const Ie=e[he[qe][0]];KT.call(Ie,he[qe][1].type)&&Ie[he[qe][1].type].call(Object.assign({sliceSerialize:he[qe][2].sliceSerialize},_e),he[qe][1])}if(_e.tokenStack.length>0){const Ie=_e.tokenStack[_e.tokenStack.length-1];(Ie[1]||RS).call(_e,void 0,Ie[0])}for(Ae.position={start:bi(he.length>0?he[0][1].start:{line:1,column:1,offset:0}),end:bi(he.length>0?he[he.length-2][1].end:{line:1,column:1,offset:0})},qe=-1;++qe<e.transforms.length;)Ae=e.transforms[qe](Ae)||Ae;return Ae}function i(he,Ae,_e){let Ve=Ae-1,qe=-1,Ie=!1,Ce,Y,U,Q;for(;++Ve<=_e;){const Z=he[Ve];switch(Z[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Z[0]==="enter"?qe++:qe--,Q=void 0;break}case"lineEndingBlank":{Z[0]==="enter"&&(Ce&&!Q&&!qe&&!U&&(U=Ve),Q=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Q=void 0}if(!qe&&Z[0]==="enter"&&Z[1].type==="listItemPrefix"||qe===-1&&Z[0]==="exit"&&(Z[1].type==="listUnordered"||Z[1].type==="listOrdered")){if(Ce){let J=Ve;for(Y=void 0;J--;){const ce=he[J];if(ce[1].type==="lineEnding"||ce[1].type==="lineEndingBlank"){if(ce[0]==="exit")continue;Y&&(he[Y][1].type="lineEndingBlank",Ie=!0),ce[1].type="lineEnding",Y=J}else if(!(ce[1].type==="linePrefix"||ce[1].type==="blockQuotePrefix"||ce[1].type==="blockQuotePrefixWhitespace"||ce[1].type==="blockQuoteMarker"||ce[1].type==="listItemIndent"))break}U&&(!Y||U<Y)&&(Ce._spread=!0),Ce.end=Object.assign({},Y?he[Y][1].start:Z[1].end),he.splice(Y||Ve,0,["exit",Ce,Z[2]]),Ve++,_e++}if(Z[1].type==="listItemPrefix"){const J={type:"listItem",_spread:!1,start:Object.assign({},Z[1].start),end:void 0};Ce=J,he.splice(Ve,0,["enter",J,Z[2]]),Ve++,_e++,U=void 0,Q=!0}}}return he[Ae][1]._spread=Ie,_e}function l(he,Ae){return _e;function _e(Ve){u.call(this,he(Ve),Ve),Ae&&Ae.call(this,Ve)}}function s(){this.stack.push({type:"fragment",children:[]})}function u(he,Ae,_e){this.stack[this.stack.length-1].children.push(he),this.stack.push(he),this.tokenStack.push([Ae,_e||void 0]),he.position={start:bi(Ae.start),end:void 0}}function d(he){return Ae;function Ae(_e){he&&he.call(this,_e),c.call(this,_e)}}function c(he,Ae){const _e=this.stack.pop(),Ve=this.tokenStack.pop();if(Ve)Ve[0].type!==he.type&&(Ae?Ae.call(this,he,Ve[0]):(Ve[1]||RS).call(this,he,Ve[0]));else throw new Error("Cannot close `"+he.type+"` ("+Jo({start:he.start,end:he.end})+"): its not open");_e.position.end=bi(he.end)}function h(){return _L(this.stack.pop())}function v(){this.data.expectingFirstListItemValue=!0}function m(he){if(this.data.expectingFirstListItemValue){const Ae=this.stack[this.stack.length-2];Ae.start=Number.parseInt(this.sliceSerialize(he),10),this.data.expectingFirstListItemValue=void 0}}function y(){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.lang=he}function x(){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.meta=he}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=he.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=he.replace(/(\r?\n|\r)$/g,"")}function T(he){const Ae=this.resume(),_e=this.stack[this.stack.length-1];_e.label=Ae,_e.identifier=Cs(this.sliceSerialize(he)).toLowerCase()}function k(){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.title=he}function N(){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.url=he}function M(he){const Ae=this.stack[this.stack.length-1];if(!Ae.depth){const _e=this.sliceSerialize(he).length;Ae.depth=_e}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function A(he){const Ae=this.stack[this.stack.length-1];Ae.depth=this.sliceSerialize(he).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function B(he){const _e=this.stack[this.stack.length-1].children;let Ve=_e[_e.length-1];(!Ve||Ve.type!=="text")&&(Ve=Ue(),Ve.position={start:bi(he.start),end:void 0},_e.push(Ve)),this.stack.push(Ve)}function P(he){const Ae=this.stack.pop();Ae.value+=this.sliceSerialize(he),Ae.position.end=bi(he.end)}function q(he){const Ae=this.stack[this.stack.length-1];if(this.data.atHardBreak){const _e=Ae.children[Ae.children.length-1];_e.position.end=bi(he.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ae.type)&&(B.call(this,he),P.call(this,he))}function L(){this.data.atHardBreak=!0}function D(){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=he}function F(){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=he}function $(){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=he}function H(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Ae=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Ae,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function V(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Ae=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Ae,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function K(he){const Ae=this.sliceSerialize(he),_e=this.stack[this.stack.length-2];_e.label=z_(Ae),_e.identifier=Cs(Ae).toLowerCase()}function ee(){const he=this.stack[this.stack.length-1],Ae=this.resume(),_e=this.stack[this.stack.length-1];if(this.data.inReference=!0,_e.type==="link"){const Ve=he.children;_e.children=Ve}else _e.alt=Ae}function I(){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.url=he}function _(){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.title=he}function X(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function ne(he){const Ae=this.resume(),_e=this.stack[this.stack.length-1];_e.label=Ae,_e.identifier=Cs(this.sliceSerialize(he)).toLowerCase(),this.data.referenceType="full"}function le(he){this.data.characterReferenceType=he.type}function de(he){const Ae=this.sliceSerialize(he),_e=this.data.characterReferenceType;let Ve;_e?(Ve=IT(Ae,_e==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ve=xy(Ae);const qe=this.stack[this.stack.length-1];qe.value+=Ve}function ye(he){const Ae=this.stack.pop();Ae.position.end=bi(he.end)}function je(he){P.call(this,he);const Ae=this.stack[this.stack.length-1];Ae.url=this.sliceSerialize(he)}function xe(he){P.call(this,he);const Ae=this.stack[this.stack.length-1];Ae.url="mailto:"+this.sliceSerialize(he)}function ie(){return{type:"blockquote",children:[]}}function ue(){return{type:"code",lang:null,meta:null,value:""}}function pe(){return{type:"inlineCode",value:""}}function Te(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Le(){return{type:"emphasis",children:[]}}function Ye(){return{type:"heading",depth:0,children:[]}}function dt(){return{type:"break"}}function nt(){return{type:"html",value:""}}function $e(){return{type:"image",title:null,url:"",alt:null}}function Ge(){return{type:"link",title:null,url:"",children:[]}}function Pe(he){return{type:"list",ordered:he.type==="listOrdered",start:null,spread:he._spread,children:[]}}function Xe(he){return{type:"listItem",spread:he._spread,checked:null,children:[]}}function We(){return{type:"paragraph",children:[]}}function at(){return{type:"strong",children:[]}}function Ue(){return{type:"text",value:""}}function ft(){return{type:"thematicBreak"}}}function bi(t){return{line:t.line,column:t.column,offset:t.offset}}function QT(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?QT(t,r):q_(t,r)}}function q_(t,e){let n;for(n in e)if(KT.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function RS(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Jo({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Jo({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Jo({start:e.start,end:e.end})+") is still open")}function F_(t){const e=this;e.parser=n;function n(r){return P_(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function H_(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function U_(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function V_(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function G_(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Y_(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $_(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Ps(r.toLowerCase()),l=t.footnoteOrder.indexOf(r);let s,u=t.footnoteCounts.get(r);u===void 0?(u=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=l+1,u+=1,t.footnoteCounts.set(r,u);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,d);const c={type:"element",tagName:"sup",properties:{},children:[d]};return t.patch(e,c),t.applyData(e,c)}function X_(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function K_(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function ZT(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),l=i[0];l&&l.type==="text"?l.value="["+l.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Q_(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return ZT(t,e);const i={src:Ps(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,l),t.applyData(e,l)}function Z_(t,e){const n={src:Ps(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function W_(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function J_(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return ZT(t,e);const i={href:Ps(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,l),t.applyData(e,l)}function e6(t,e){const n={href:Ps(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function t6(t,e,n){const r=t.all(e),i=n?n6(n):WT(e),l={},s=[];if(typeof e.checked=="boolean"){const h=r[0];let v;h&&h.type==="element"&&h.tagName==="p"?v=h:(v={type:"element",tagName:"p",properties:{},children:[]},r.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const h=r[u];(i||u!==0||h.type!=="element"||h.tagName!=="p")&&s.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?s.push(...h.children):s.push(h)}const d=r[r.length-1];d&&(i||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:l,children:s};return t.patch(e,c),t.applyData(e,c)}function n6(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=WT(n[r])}return e}function WT(t){const e=t.spread;return e??t.children.length>1}function r6(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,l),t.applyData(e,l)}function a6(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function i6(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function l6(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function s6(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},u=py(e.children[1]),d=MT(e.children[e.children.length-1]);u&&d&&(s.position={start:u,end:d}),i.push(s)}const l={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,l),t.applyData(e,l)}function o6(t,e,n){const r=n?n.children:void 0,l=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,u=s?s.length:e.children.length;let d=-1;const c=[];for(;++d<u;){const v=e.children[d],m={},y=s?s[d]:void 0;y&&(m.align=y);let x={type:"element",tagName:l,properties:m,children:[]};v&&(x.children=t.all(v),t.patch(v,x),x=t.applyData(v,x)),c.push(x)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,h),t.applyData(e,h)}function u6(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const jS=9,DS=32;function c6(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const l=[];for(;r;)l.push(MS(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return l.push(MS(e.slice(i),i>0,!1)),l.join("")}function MS(t,e,n){let r=0,i=t.length;if(e){let l=t.codePointAt(r);for(;l===jS||l===DS;)r++,l=t.codePointAt(r)}if(n){let l=t.codePointAt(i-1);for(;l===jS||l===DS;)i--,l=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function d6(t,e){const n={type:"text",value:c6(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function f6(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const h6={blockquote:H_,break:U_,code:V_,delete:G_,emphasis:Y_,footnoteReference:$_,heading:X_,html:K_,imageReference:Q_,image:Z_,inlineCode:W_,linkReference:J_,link:e6,listItem:t6,list:r6,paragraph:a6,root:i6,strong:l6,table:s6,tableCell:u6,tableRow:o6,text:d6,thematicBreak:f6,toml:pd,yaml:pd,definition:pd,footnoteDefinition:pd};function pd(){}const JT=-1,Nf=0,tu=1,tf=2,Sy=3,Ey=4,Cy=5,Ty=6,ek=7,tk=8,BS=typeof self=="object"?self:globalThis,v6=(t,e)=>{const n=(i,l)=>(t.set(l,i),i),r=i=>{if(t.has(i))return t.get(i);const[l,s]=e[i];switch(l){case Nf:case JT:return n(s,i);case tu:{const u=n([],i);for(const d of s)u.push(r(d));return u}case tf:{const u=n({},i);for(const[d,c]of s)u[r(d)]=r(c);return u}case Sy:return n(new Date(s),i);case Ey:{const{source:u,flags:d}=s;return n(new RegExp(u,d),i)}case Cy:{const u=n(new Map,i);for(const[d,c]of s)u.set(r(d),r(c));return u}case Ty:{const u=n(new Set,i);for(const d of s)u.add(r(d));return u}case ek:{const{name:u,message:d}=s;return n(new BS[u](d),i)}case tk:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:u}=new Uint8Array(s);return n(new DataView(u),s)}}return n(new BS[l](s),i)};return r},OS=t=>v6(new Map,t)(0),vs="",{toString:p6}={},{keys:m6}=Object,Vo=t=>{const e=typeof t;if(e!=="object"||!t)return[Nf,e];const n=p6.call(t).slice(8,-1);switch(n){case"Array":return[tu,vs];case"Object":return[tf,vs];case"Date":return[Sy,vs];case"RegExp":return[Ey,vs];case"Map":return[Cy,vs];case"Set":return[Ty,vs];case"DataView":return[tu,n]}return n.includes("Array")?[tu,n]:n.includes("Error")?[ek,n]:[tf,n]},md=([t,e])=>t===Nf&&(e==="function"||e==="symbol"),g6=(t,e,n,r)=>{const i=(s,u)=>{const d=r.push(s)-1;return n.set(u,d),d},l=s=>{if(n.has(s))return n.get(s);let[u,d]=Vo(s);switch(u){case Nf:{let h=s;switch(d){case"bigint":u=tk,h=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+d);h=null;break;case"undefined":return i([JT],s)}return i([u,h],s)}case tu:{if(d){let m=s;return d==="DataView"?m=new Uint8Array(s.buffer):d==="ArrayBuffer"&&(m=new Uint8Array(s)),i([d,[...m]],s)}const h=[],v=i([u,h],s);for(const m of s)h.push(l(m));return v}case tf:{if(d)switch(d){case"BigInt":return i([d,s.toString()],s);case"Boolean":case"Number":case"String":return i([d,s.valueOf()],s)}if(e&&"toJSON"in s)return l(s.toJSON());const h=[],v=i([u,h],s);for(const m of m6(s))(t||!md(Vo(s[m])))&&h.push([l(m),l(s[m])]);return v}case Sy:return i([u,s.toISOString()],s);case Ey:{const{source:h,flags:v}=s;return i([u,{source:h,flags:v}],s)}case Cy:{const h=[],v=i([u,h],s);for(const[m,y]of s)(t||!(md(Vo(m))||md(Vo(y))))&&h.push([l(m),l(y)]);return v}case Ty:{const h=[],v=i([u,h],s);for(const m of s)(t||!md(Vo(m)))&&h.push(l(m));return v}}const{message:c}=s;return i([u,{name:d,message:c}],s)};return l},LS=(t,{json:e,lossy:n}={})=>{const r=[];return g6(!(e||n),!!e,new Map,r)(t),r},nf=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?OS(LS(t,e)):structuredClone(t):(t,e)=>OS(LS(t,e));function y6(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function x6(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function b6(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||y6,r=t.options.footnoteBackLabel||x6,i=t.options.footnoteLabel||"Footnotes",l=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let d=-1;for(;++d<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[d]);if(!c)continue;const h=t.all(c),v=String(c.identifier).toUpperCase(),m=Ps(v.toLowerCase());let y=0;const x=[],S=t.footnoteCounts.get(v);for(;S!==void 0&&++y<=S;){x.length>0&&x.push({type:"text",value:" "});let T=typeof n=="string"?n:n(d,y);typeof T=="string"&&(T={type:"text",value:T}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,y),className:["data-footnote-backref"]},children:Array.isArray(T)?T:[T]})}const w=h[h.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const T=w.children[w.children.length-1];T&&T.type==="text"?T.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...x)}else h.push(...x);const E={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(h,!0)};t.patch(c,E),u.push(E)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...nf(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(u,!0)},{type:"text",value:`
`}]}}const nk=(function(t){if(t==null)return C6;if(typeof t=="function")return Af(t);if(typeof t=="object")return Array.isArray(t)?w6(t):S6(t);if(typeof t=="string")return E6(t);throw new Error("Expected function, string, or object as test")});function w6(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=nk(t[n]);return Af(r);function r(...i){let l=-1;for(;++l<e.length;)if(e[l].apply(this,i))return!0;return!1}}function S6(t){const e=t;return Af(n);function n(r){const i=r;let l;for(l in t)if(i[l]!==e[l])return!1;return!0}}function E6(t){return Af(e);function e(n){return n&&n.type===t}}function Af(t){return e;function e(n,r,i){return!!(T6(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function C6(){return!0}function T6(t){return t!==null&&typeof t=="object"&&"type"in t}const rk=[],k6=!0,zS=!1,N6="skip";function A6(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const l=nk(i),s=r?-1:1;u(t,void 0,[])();function u(d,c,h){const v=d&&typeof d=="object"?d:{};if(typeof v.type=="string"){const y=typeof v.tagName=="string"?v.tagName:typeof v.name=="string"?v.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(d.type+(y?"<"+y+">":""))+")"})}return m;function m(){let y=rk,x,S,w;if((!e||l(d,c,h[h.length-1]||void 0))&&(y=R6(n(d,h)),y[0]===zS))return y;if("children"in d&&d.children){const E=d;if(E.children&&y[0]!==N6)for(S=(r?E.children.length:-1)+s,w=h.concat(E);S>-1&&S<E.children.length;){const T=E.children[S];if(x=u(T,S,w)(),x[0]===zS)return x;S=typeof x[1]=="number"?x[1]:S+s}}return y}}}function R6(t){return Array.isArray(t)?t:typeof t=="number"?[k6,t]:t==null?rk:[t]}function ak(t,e,n,r){let i,l,s;typeof e=="function"&&typeof n!="function"?(l=void 0,s=e,i=n):(l=e,s=n,i=r),A6(t,l,u,i);function u(d,c){const h=c[c.length-1],v=h?h.children.indexOf(d):void 0;return s(d,v,h)}}const Cg={}.hasOwnProperty,j6={};function D6(t,e){const n=e||j6,r=new Map,i=new Map,l=new Map,s={...h6,...n.handlers},u={all:c,applyData:B6,definitionById:r,footnoteById:i,footnoteCounts:l,footnoteOrder:[],handlers:s,one:d,options:n,patch:M6,wrap:L6};return ak(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const v=h.type==="definition"?r:i,m=String(h.identifier).toUpperCase();v.has(m)||v.set(m,h)}}),u;function d(h,v){const m=h.type,y=u.handlers[m];if(Cg.call(u.handlers,m)&&y)return y(u,h,v);if(u.options.passThrough&&u.options.passThrough.includes(m)){if("children"in h){const{children:S,...w}=h,E=nf(w);return E.children=u.all(h),E}return nf(h)}return(u.options.unknownHandler||O6)(u,h,v)}function c(h){const v=[];if("children"in h){const m=h.children;let y=-1;for(;++y<m.length;){const x=u.one(m[y],h);if(x){if(y&&m[y-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=_S(x.value)),!Array.isArray(x)&&x.type==="element")){const S=x.children[0];S&&S.type==="text"&&(S.value=_S(S.value))}Array.isArray(x)?v.push(...x):v.push(x)}}}return v}}function M6(t,e){t.position&&(e.position=pL(t))}function B6(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,l=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&l&&Object.assign(n.properties,nf(l)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function O6(t,e){const n=e.data||{},r="value"in e&&!(Cg.call(n,"hProperties")||Cg.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function L6(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function _S(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function PS(t,e){const n=D6(t,e),r=n.one(t,void 0),i=b6(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&l.children.push({type:"text",value:`
`},i),l}function z6(t,e){return t&&"run"in t?async function(n,r){const i=PS(n,{file:r,...e});await t.run(i,r)}:function(n,r){return PS(n,{file:r,...t||e})}}function IS(t){if(t)throw t}var Mm,qS;function _6(){if(qS)return Mm;qS=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},l=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var h=t.call(c,"constructor"),v=c.constructor&&c.constructor.prototype&&t.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!h&&!v)return!1;var m;for(m in c);return typeof m>"u"||t.call(c,m)},s=function(c,h){n&&h.name==="__proto__"?n(c,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):c[h.name]=h.newValue},u=function(c,h){if(h==="__proto__")if(t.call(c,h)){if(r)return r(c,h).value}else return;return c[h]};return Mm=function d(){var c,h,v,m,y,x,S=arguments[0],w=1,E=arguments.length,T=!1;for(typeof S=="boolean"&&(T=S,S=arguments[1]||{},w=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});w<E;++w)if(c=arguments[w],c!=null)for(h in c)v=u(S,h),m=u(c,h),S!==m&&(T&&m&&(l(m)||(y=i(m)))?(y?(y=!1,x=v&&i(v)?v:[]):x=v&&l(v)?v:{},s(S,{name:h,newValue:d(T,x,m)})):typeof m<"u"&&s(S,{name:h,newValue:m}));return S},Mm}var P6=_6();const Bm=vE(P6);function Tg(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function I6(){const t=[],e={run:n,use:r};return e;function n(...i){let l=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);u(null,...i);function u(d,...c){const h=t[++l];let v=-1;if(d){s(d);return}for(;++v<i.length;)(c[v]===null||c[v]===void 0)&&(c[v]=i[v]);i=c,h?q6(h,u)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function q6(t,e){let n;return r;function r(...s){const u=t.length>s.length;let d;u&&s.push(i);try{d=t.apply(this,s)}catch(c){const h=c;if(u&&n)throw h;return i(h)}u||(d&&d.then&&typeof d.then=="function"?d.then(l,i):d instanceof Error?i(d):l(d))}function i(s,...u){n||(n=!0,e(s,...u))}function l(s){i(null,s)}}const ua={basename:F6,dirname:H6,extname:U6,join:V6,sep:"/"};function F6(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Ou(t);let n=0,r=-1,i=t.length,l;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(l){n=i+1;break}}else r<0&&(l=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,u=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(l){n=i+1;break}}else s<0&&(l=!0,s=i+1),u>-1&&(t.codePointAt(i)===e.codePointAt(u--)?u<0&&(r=i):(u=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function H6(t){if(Ou(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function U6(t){Ou(t);let e=t.length,n=-1,r=0,i=-1,l=0,s;for(;e--;){const u=t.codePointAt(e);if(u===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),u===46?i<0?i=e:l!==1&&(l=1):i>-1&&(l=-1)}return i<0||n<0||l===0||l===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function V6(...t){let e=-1,n;for(;++e<t.length;)Ou(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":G6(n)}function G6(t){Ou(t);const e=t.codePointAt(0)===47;let n=Y6(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Y6(t,e){let n="",r=0,i=-1,l=0,s=-1,u,d;for(;++s<=t.length;){if(s<t.length)u=t.codePointAt(s);else{if(u===47)break;u=47}if(u===47){if(!(i===s-1||l===1))if(i!==s-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),i=s,l=0;continue}}else if(n.length>0){n="",r=0,i=s,l=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,l=0}else u===46&&l>-1?l++:l=-1}return n}function Ou(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const $6={cwd:X6};function X6(){return"/"}function kg(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function K6(t){if(typeof t=="string")t=new URL(t);else if(!kg(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Q6(t)}function Q6(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Om=["history","path","basename","stem","extname","dirname"];class ik{constructor(e){let n;e?kg(e)?n={path:e}:typeof e=="string"||Z6(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":$6.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Om.length;){const l=Om[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let i;for(i in n)Om.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ua.basename(this.path):void 0}set basename(e){zm(e,"basename"),Lm(e,"basename"),this.path=ua.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ua.dirname(this.path):void 0}set dirname(e){FS(this.basename,"dirname"),this.path=ua.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ua.extname(this.path):void 0}set extname(e){if(Lm(e,"extname"),FS(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ua.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){kg(e)&&(e=K6(e)),zm(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ua.basename(this.path,this.extname):void 0}set stem(e){zm(e,"stem"),Lm(e,"stem"),this.path=ua.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Zn(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Lm(t,e){if(t&&t.includes(ua.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ua.sep+"`")}function zm(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function FS(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Z6(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const W6=(function(t){const r=this.constructor.prototype,i=r[t],l=function(){return i.apply(l,arguments)};return Object.setPrototypeOf(l,r),l}),J6={}.hasOwnProperty;class ky extends W6{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=I6()}copy(){const e=new ky;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Bm(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Im("data",this.frozen),this.namespace[e]=n,this):J6.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Im("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=gd(e),r=this.parser||this.Parser;return _m("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),_m("process",this.parser||this.Parser),Pm("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(l,s){const u=gd(e),d=r.parse(u);r.run(d,u,function(h,v,m){if(h||!v||!m)return c(h);const y=v,x=r.stringify(y,m);nP(x)?m.value=x:m.result=x,c(h,m)});function c(h,v){h||!v?s(h):l?l(v):n(void 0,v)}}}processSync(e){let n=!1,r;return this.freeze(),_m("processSync",this.parser||this.Parser),Pm("processSync",this.compiler||this.Compiler),this.process(e,i),US("processSync","process",n),r;function i(l,s){n=!0,IS(l),r=s}}run(e,n,r){HS(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(s,u){const d=gd(n);i.run(e,d,c);function c(h,v,m){const y=v||e;h?u(h):s?s(y):r(void 0,y,m)}}}runSync(e,n){let r=!1,i;return this.run(e,n,l),US("runSync","run",r),i;function l(s,u){IS(s),i=u,r=!0}}stringify(e,n){this.freeze();const r=gd(n),i=this.compiler||this.Compiler;return Pm("stringify",i),HS(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Im("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function l(c){if(typeof c=="function")d(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[h,...v]=c;d(h,v)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(c.plugins),c.settings&&(i.settings=Bm(!0,i.settings,c.settings))}function u(c){let h=-1;if(c!=null)if(Array.isArray(c))for(;++h<c.length;){const v=c[h];l(v)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function d(c,h){let v=-1,m=-1;for(;++v<r.length;)if(r[v][0]===c){m=v;break}if(m===-1)r.push([c,...h]);else if(h.length>0){let[y,...x]=h;const S=r[m][1];Tg(S)&&Tg(y)&&(y=Bm(!0,S,y)),r[m]=[c,y,...x]}}}}const eP=new ky().freeze();function _m(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Pm(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Im(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function HS(t){if(!Tg(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function US(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function gd(t){return tP(t)?t:new ik(t)}function tP(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function nP(t){return typeof t=="string"||rP(t)}function rP(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const aP="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",VS=[],GS={allowDangerousHtml:!0},iP=/^(https?|ircs?|mailto|xmpp)$/i,lP=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function rf(t){const e=sP(t),n=oP(t);return uP(e.runSync(e.parse(n),n),t)}function sP(t){const e=t.rehypePlugins||VS,n=t.remarkPlugins||VS,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...GS}:GS;return eP().use(F_).use(n).use(z6,r).use(e)}function oP(t){const e=t.children||"",n=new ik;return typeof e=="string"&&(n.value=e),n}function uP(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,l=e.disallowedElements,s=e.skipHtml,u=e.unwrapDisallowed,d=e.urlTransform||cP;for(const h of lP)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+aP+h.id,void 0);return ak(t,c),bL(t,{Fragment:g.Fragment,components:i,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function c(h,v,m){if(h.type==="raw"&&m&&typeof v=="number")return s?m.children.splice(v,1):m.children[v]={type:"text",value:h.value},v;if(h.type==="element"){let y;for(y in Rm)if(Object.hasOwn(Rm,y)&&Object.hasOwn(h.properties,y)){const x=h.properties[y],S=Rm[y];(S===null||S.includes(h.tagName))&&(h.properties[y]=d(String(x||""),y,h))}}if(h.type==="element"){let y=n?!n.includes(h.tagName):l?l.includes(h.tagName):!1;if(!y&&r&&typeof v=="number"&&(y=!r(h,v,m)),y&&m&&typeof v=="number")return u&&h.children?m.children.splice(v,1,...h.children):m.children.splice(v,1),v}}}function cP(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||iP.test(t.slice(0,e))?t:""}function dP({node:t,onClose:e,onNavigateToNode:n,relationships:r=[]}){const[i,l]=W.useState(!1);if(!t)return null;const s=()=>`Girardi, Romain. (${new Date().getFullYear()}). "${t.label}". In *EleutherIA: Ancient Free Will Database* (Node ID: ${t.id}). https://free-will.app/node/${t.id}. DOI: 10.5281/zenodo.17379490`,u=()=>{navigator.clipboard.writeText(s()),l(!0),setTimeout(()=>l(!1),2e3)},d=c=>({person:"#0284c7",work:"#7dd3fc",concept:"#fbbf24",argument:"#f87171",debate:"#a78bfa",reformulation:"#34d399",quote:"#fb923c"})[c]||"#64748b";return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-40 transition-opacity",onClick:e}),g.jsxs("div",{className:"fixed right-0 top-0 h-screen w-full sm:w-[28rem] bg-academic-paper shadow-2xl overflow-y-auto z-50 transform transition-transform duration-300 ease-in-out",children:[g.jsxs("div",{className:"sticky top-0 text-white p-4 sm:p-6 flex justify-between items-start gap-4 z-10",style:{backgroundColor:d(t.type)},children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"text-xs sm:text-sm opacity-90 uppercase tracking-wide mb-1 sm:mb-2",children:t.type}),g.jsx("h2",{className:"text-xl sm:text-2xl font-serif font-bold leading-tight break-words",children:t.label}),t.greek_term&&g.jsx("div",{className:"text-sm sm:text-base mt-2 sm:mt-3 font-light opacity-95 break-words",children:t.greek_term}),t.latin_term&&g.jsx("div",{className:"text-sm sm:text-base mt-1 font-light italic opacity-90 break-words",children:t.latin_term})]}),g.jsx("button",{onClick:e,className:"text-white hover:bg-white hover:bg-opacity-20 rounded p-1.5 sm:p-2 flex-shrink-0 transition-colors","aria-label":"Close panel",children:g.jsx(Fg,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),g.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[(t.period||t.school||t.dates)&&g.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.period&&g.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs px-3 py-1.5 bg-primary-50 text-primary-700 rounded-full",children:[g.jsx(kj,{className:"w-3.5 h-3.5"}),t.period]}),t.school&&g.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs px-3 py-1.5 bg-primary-50 text-primary-700 rounded-full",children:[g.jsx(iu,{className:"w-3.5 h-3.5"}),t.school]}),t.dates&&g.jsx("span",{className:"text-xs px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full",children:t.dates})]}),g.jsxs("section",{children:[g.jsx("h3",{className:"text-sm font-semibold text-academic-muted uppercase tracking-wide mb-3",children:"Description"}),g.jsx("div",{className:"prose prose-sm max-w-none text-academic-text leading-relaxed",children:g.jsx(rf,{children:t.description||"No description available."})})]}),t.position_on_free_will&&g.jsxs("section",{className:"border-t border-academic-border pt-4 sm:pt-6",children:[g.jsx("h3",{className:"text-sm font-semibold text-academic-muted uppercase tracking-wide mb-3",children:"Position on Free Will"}),g.jsx("div",{className:"prose prose-sm max-w-none text-academic-text",children:g.jsx(rf,{children:t.position_on_free_will})})]}),(t.greek_term||t.latin_term||t.english_term)&&g.jsxs("section",{className:"border-t border-academic-border pt-4 sm:pt-6",children:[g.jsxs("h3",{className:"text-sm font-semibold text-academic-muted uppercase tracking-wide mb-3 flex items-center gap-2",children:[g.jsx(B1,{className:"w-4 h-4"}),"Terminology"]}),g.jsxs("dl",{className:"space-y-3 text-sm",children:[t.greek_term&&g.jsxs("div",{children:[g.jsx("dt",{className:"text-academic-muted font-medium mb-1",children:"Greek"}),g.jsx("dd",{className:"font-serif text-base text-academic-text break-words",children:t.greek_term})]}),t.latin_term&&g.jsxs("div",{children:[g.jsx("dt",{className:"text-academic-muted font-medium mb-1",children:"Latin"}),g.jsx("dd",{className:"font-serif text-base text-academic-text italic break-words",children:t.latin_term})]}),t.english_term&&g.jsxs("div",{children:[g.jsx("dt",{className:"text-academic-muted font-medium mb-1",children:"English"}),g.jsx("dd",{className:"text-academic-text break-words",children:t.english_term})]})]})]}),t.ancient_sources&&t.ancient_sources.length>0&&g.jsx("section",{className:"border-t border-academic-border pt-4 sm:pt-6",children:g.jsxs("details",{className:"group",open:!0,children:[g.jsxs("summary",{className:"text-sm font-semibold text-academic-muted uppercase tracking-wide mb-3 cursor-pointer flex items-center gap-2 hover:text-primary-600 transition-colors",children:[g.jsx(au,{className:"w-4 h-4"}),"Ancient Sources (",t.ancient_sources.length,")",g.jsx("span",{className:"ml-auto text-xs group-open:rotate-180 transition-transform",children:""})]}),g.jsx("ul",{className:"mt-3 space-y-2 text-xs sm:text-sm",children:t.ancient_sources.map((c,h)=>g.jsx("li",{className:"pl-3 sm:pl-4 border-l-2 border-primary-200 text-academic-text py-1 break-words",children:c},h))})]})}),t.modern_scholarship&&t.modern_scholarship.length>0&&g.jsx("section",{className:"border-t border-academic-border pt-4 sm:pt-6",children:g.jsxs("details",{className:"group",open:!0,children:[g.jsxs("summary",{className:"text-sm font-semibold text-academic-muted uppercase tracking-wide mb-3 cursor-pointer flex items-center gap-2 hover:text-primary-600 transition-colors",children:[g.jsx(h5,{className:"w-4 h-4"}),"Modern Scholarship (",t.modern_scholarship.length,")",g.jsx("span",{className:"ml-auto text-xs group-open:rotate-180 transition-transform",children:""})]}),g.jsx("ul",{className:"mt-3 space-y-2 text-xs sm:text-sm",children:t.modern_scholarship.map((c,h)=>g.jsx("li",{className:"pl-3 sm:pl-4 border-l-2 border-primary-200 text-academic-text py-1 break-words",children:c},h))})]})}),r&&r.length>0&&g.jsx("section",{className:"border-t border-academic-border pt-4 sm:pt-6",children:g.jsxs("details",{className:"group",open:!0,children:[g.jsxs("summary",{className:"text-sm font-semibold text-academic-muted uppercase tracking-wide mb-3 cursor-pointer flex items-center gap-2 hover:text-primary-600 transition-colors",children:[g.jsx(Qv,{className:"w-4 h-4"}),"Relationships (",r.length,")",g.jsx("span",{className:"ml-auto text-xs group-open:rotate-180 transition-transform",children:""})]}),g.jsx("div",{className:"mt-3 space-y-2",children:r.map((c,h)=>g.jsx("button",{onClick:()=>n&&n(c.id),className:"w-full text-left p-3 bg-gray-50 hover:bg-primary-50 rounded-lg transition-colors group/rel border border-gray-200 hover:border-primary-300",children:g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx("div",{className:"flex-shrink-0 mt-0.5",children:g.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:d(c.type)}})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.direction==="outgoing"?g.jsx(R1,{className:"w-3.5 h-3.5 text-primary-600 flex-shrink-0"}):g.jsx(R1,{className:"w-3.5 h-3.5 text-primary-600 flex-shrink-0 rotate-180"}),g.jsx("span",{className:"text-xs font-medium text-primary-600 uppercase tracking-wide",children:c.relation})]}),g.jsx("p",{className:"text-sm font-semibold text-gray-900 group-hover/rel:text-primary-700 transition-colors truncate",children:c.label}),g.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:c.type})]}),g.jsx(Id,{className:"w-4 h-4 text-gray-400 group-hover/rel:text-primary-600 transition-colors flex-shrink-0 mt-1"})]})},`${c.id}-${h}`))})]})}),g.jsxs("section",{className:"border-t border-academic-border pt-4 sm:pt-6",children:[g.jsxs("h3",{className:"text-sm font-semibold text-academic-muted uppercase tracking-wide mb-3 flex items-center gap-2",children:[g.jsx(Qv,{className:"w-4 h-4"}),"Actions"]}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsxs("button",{onClick:u,className:"text-xs sm:text-sm px-3 sm:px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[g.jsx(B1,{className:"w-3.5 h-3.5"}),i?"Copied!":"Copy Citation"]}),n&&g.jsxs("button",{onClick:()=>n(t.id),className:"text-xs sm:text-sm px-3 sm:px-4 py-2 bg-primary-50 hover:bg-primary-100 text-primary-700 rounded-lg transition-colors flex items-center gap-2",children:[g.jsx(Qv,{className:"w-3.5 h-3.5"}),"View Connections"]}),g.jsxs("a",{href:"https://doi.org/10.5281/zenodo.17379490",target:"_blank",rel:"noopener noreferrer",className:"text-xs sm:text-sm px-3 sm:px-4 py-2 bg-gray-50 hover:bg-gray-100 text-gray-700 rounded-lg transition-colors flex items-center gap-2",children:[g.jsx(Id,{className:"w-3.5 h-3.5"}),"View Database"]})]})]}),i&&g.jsxs("section",{className:"bg-green-50 border border-green-200 rounded-lg p-3 sm:p-4",children:[g.jsx("h4",{className:"text-xs font-semibold text-green-900 mb-2",children:"Citation Copied!"}),g.jsx("p",{className:"text-xs text-green-800 font-mono break-words leading-relaxed",children:s()})]}),g.jsxs("section",{className:"border-t border-academic-border pt-4 text-xs text-academic-muted space-y-1",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-medium",children:"Node ID:"})," ",g.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-xs break-all",children:t.id})]}),t.category&&g.jsxs("div",{children:[g.jsx("span",{className:"font-medium",children:"Category:"})," ",t.category]})]})]})]})]})}function fP({onFilterChange:t,onLayoutChange:e,stats:n}){const[r,i]=W.useState(!0),[l,s]=W.useState({person:!0,work:!0,concept:!0,argument:!0,debate:!0,reformulation:!0,quote:!0,showLabels:!0,showEdgeLabels:!0}),u=[{key:"person",label:"Persons",color:"#0284c7",icon:""},{key:"work",label:"Works",color:"#7dd3fc",icon:""},{key:"concept",label:"Concepts",color:"#fbbf24",icon:""},{key:"argument",label:"Arguments",color:"#f87171",icon:""},{key:"debate",label:"Debates",color:"#a78bfa",icon:""},{key:"reformulation",label:"Reformulations",color:"#34d399",icon:""},{key:"quote",label:"Quotes",color:"#fb923c",icon:""}],d=[{value:"cose",label:"Force-Directed (Recommended)",description:"Automatic layout based on connections"},{value:"circle",label:"Circular",description:"Nodes arranged in a circle"},{value:"grid",label:"Grid",description:"Organized in rows and columns"},{value:"breadthfirst",label:"Hierarchical",description:"Tree-like structure"},{value:"concentric",label:"Concentric",description:"Rings based on connections"},{value:"random",label:"Random",description:"Randomized positions"}],c=m=>{const y={...l,[m]:!l[m]};s(y),t(y)},h=()=>{const m={...l,person:!0,work:!0,concept:!0,argument:!0,debate:!0,reformulation:!0,quote:!0};s(m),t(m)},v=()=>{const m={...l,person:!1,work:!1,concept:!1,argument:!1,debate:!1,reformulation:!1,quote:!1};s(m),t(m)};return g.jsxs("div",{className:"absolute top-4 left-4 z-10 max-w-[calc(100vw-2rem)] sm:max-w-sm",children:[g.jsxs("button",{onClick:()=>i(!r),className:"bg-white shadow-lg rounded-lg px-3 py-2 hover:bg-gray-50 transition-colors flex items-center gap-2 mb-2 text-sm font-medium","aria-label":r?"Hide controls":"Show controls",children:[r?g.jsx(Fg,{className:"w-4 h-4"}):g.jsx(Ig,{className:"w-4 h-4"}),g.jsx("span",{className:"hidden sm:inline",children:"Graph Controls"})]}),r&&g.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden max-h-[calc(100vh-8rem)] overflow-y-auto",children:[g.jsxs("section",{className:"p-4 border-b border-gray-200",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[g.jsx(Fj,{className:"w-4 h-4"}),"Node Types"]}),g.jsxs("div",{className:"flex gap-2 text-xs",children:[g.jsx("button",{onClick:h,className:"text-primary-600 hover:underline",children:"All"}),g.jsx("span",{className:"text-gray-300",children:"|"}),g.jsx("button",{onClick:v,className:"text-primary-600 hover:underline",children:"None"})]})]}),g.jsx("div",{className:"space-y-1.5",children:u.map(m=>g.jsxs("label",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[g.jsx("span",{className:"text-base flex-shrink-0",children:m.icon}),g.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:m.color}}),g.jsx("span",{className:"text-sm truncate",children:m.label}),n&&n[m.key]!==void 0&&g.jsxs("span",{className:"text-xs text-gray-400 flex-shrink-0",children:["(",n[m.key],")"]})]}),g.jsx("input",{type:"checkbox",checked:l[m.key],onChange:()=>c(m.key),className:"w-4 h-4 text-primary-600 rounded focus:ring-2 focus:ring-primary-500 flex-shrink-0"})]},m.key))})]}),g.jsxs("section",{className:"p-4 border-b border-gray-200",children:[g.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[g.jsx(i5,{className:"w-4 h-4"}),"Layout Algorithm"]}),g.jsx("div",{className:"space-y-2",children:d.map(m=>g.jsxs("button",{onClick:()=>e(m.value),className:"w-full text-left p-2.5 hover:bg-primary-50 rounded transition-colors group",children:[g.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-primary-700",children:m.label}),g.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:m.description})]},m.value))})]}),g.jsxs("section",{className:"p-4",children:[g.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[g.jsx(r5,{className:"w-4 h-4"}),"Display Options"]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-2 hover:bg-gray-50 rounded transition-colors",children:[g.jsx("span",{className:"text-sm",children:"Show Node Labels"}),g.jsx("input",{type:"checkbox",checked:l.showLabels,onChange:()=>c("showLabels"),className:"w-4 h-4 text-primary-600 rounded focus:ring-2 focus:ring-primary-500"})]}),g.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-2 hover:bg-gray-50 rounded transition-colors",children:[g.jsx("span",{className:"text-sm",children:"Show Edge Labels"}),g.jsx("input",{type:"checkbox",checked:l.showEdgeLabels,onChange:()=>c("showEdgeLabels"),className:"w-4 h-4 text-primary-600 rounded focus:ring-2 focus:ring-primary-500"})]})]})]}),g.jsxs("div",{className:"bg-primary-50 p-3 text-xs text-primary-800 border-t border-primary-100",children:[g.jsx("p",{className:"font-medium mb-1",children:" Tips:"}),g.jsxs("ul",{className:"space-y-1 text-primary-700",children:[g.jsx("li",{children:" Click nodes to view details"}),g.jsx("li",{children:" Drag to pan, scroll to zoom"}),g.jsx("li",{children:" Double-click to center on node"}),g.jsxs("li",{children:[" Press ",g.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded text-xs",children:"R"})," to reset view"]})]})]})]})]})}function hP({cyRef:t}){const[e,n]=W.useState(!1),[r,i]=W.useState(null),[l,s]=W.useState(!1),u=y=>{i(y),setTimeout(()=>i(null),3e3)},d=()=>{if(!t.current){alert("Graph not ready. Please wait for it to load.");return}n(!0);try{const y=t.current;if(y.elements().length===0){alert("No graph elements to export."),n(!1);return}const x=y.png({full:!0,scale:2,bg:"#ffffff",maxWidth:4e3,maxHeight:4e3});if(!x||x.length<100){console.error("Invalid PNG data:",x),alert("Failed to generate PNG. Please try again."),n(!1);return}const S=document.createElement("a");S.download=`eleutheriate-graph-${Date.now()}.png`,S.href=x,document.body.appendChild(S),S.click(),document.body.removeChild(S),u("Graph exported as PNG")}catch(y){console.error("Export failed:",y),alert("Failed to export graph. Please try again.")}finally{n(!1)}},c=()=>{if(t.current){n(!0);try{const y=t.current.png({full:!0,scale:3,bg:"#ffffff"}),x=document.createElement("a");x.download=`eleutheriate-graph-highres-${Date.now()}.png`,x.href=y,x.click(),u("Graph exported as high-res PNG (SVG alternative)")}catch(y){console.error("Export failed:",y),alert("Failed to export graph. Please try again.")}finally{n(!1)}}},h=()=>{if(t.current){n(!0);try{const y=t.current.json(),x=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),S=URL.createObjectURL(x),w=document.createElement("a");w.download=`eleutheriate-graph-${Date.now()}.json`,w.href=S,w.click(),URL.revokeObjectURL(S),u("Graph exported as JSON")}catch(y){console.error("Export failed:",y),alert("Failed to export graph. Please try again.")}finally{n(!1)}}},v=()=>{if(t.current){n(!0);try{const y=t.current.nodes(":visible"),x=new Set,S=new Set;y.forEach(N=>{const M=N.data();M.ancient_sources&&Array.isArray(M.ancient_sources)&&M.ancient_sources.forEach(R=>x.add(R)),M.modern_scholarship&&Array.isArray(M.modern_scholarship)&&M.modern_scholarship.forEach(R=>S.add(R))});let w=`# Bibliography - EleutherIA
`;w+=`Generated: ${new Date().toLocaleDateString()}
`,w+=`Nodes included: ${y.length}

`,x.size>0&&(w+=`## Ancient Sources

`,Array.from(x).sort().forEach((N,M)=>{w+=`${M+1}. ${N}
`}),w+=`
`),S.size>0&&(w+=`## Modern Scholarship

`,Array.from(S).sort().forEach((N,M)=>{w+=`${M+1}. ${N}
`})),w+=`
---
`,w+=`Source: Girardi, Romain. (2025). EleutherIA: Ancient Free Will Database.
`,w+=`DOI: 10.5281/zenodo.17379490
`,w+=`https://free-will.app
`;const E=new Blob([w],{type:"text/plain;charset=utf-8"}),T=URL.createObjectURL(E),k=document.createElement("a");k.download=`eleutheriate-bibliography-${Date.now()}.txt`,k.href=T,k.click(),URL.revokeObjectURL(T),u(`Bibliography exported (${x.size+S.size} sources)`)}catch(y){console.error("Export failed:",y),alert("Failed to export bibliography. Please try again.")}finally{n(!1)}}},m=()=>{if(t.current){n(!0);try{const y=t.current.nodes(":visible");let x=`ID,Label,Type,Category,Period,School,Description
`;y.forEach(T=>{const k=T.data(),N=[`"${k.id||""}"`,`"${(k.label||"").replace(/"/g,'""')}"`,`"${k.type||""}"`,`"${k.category||""}"`,`"${k.period||""}"`,`"${k.school||""}"`,`"${(k.description||"").replace(/"/g,'""').substring(0,200)}..."`].join(",");x+=N+`
`});const S=new Blob([x],{type:"text/csv;charset=utf-8"}),w=URL.createObjectURL(S),E=document.createElement("a");E.download=`eleutheriate-nodes-${Date.now()}.csv`,E.href=w,E.click(),URL.revokeObjectURL(w),u(`${y.length} nodes exported as CSV`)}catch(y){console.error("Export failed:",y),alert("Failed to export CSV. Please try again.")}finally{n(!1)}}};return g.jsxs("div",{children:[g.jsxs("button",{onClick:()=>s(!l),className:"bg-white shadow-lg rounded-lg px-3 py-2 hover:bg-gray-50 transition-colors flex items-center gap-2 text-sm font-medium","aria-label":l?"Hide export menu":"Show export menu",children:[l?g.jsx(Fg,{className:"w-4 h-4"}):g.jsx(D1,{className:"w-4 h-4"}),g.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),l&&g.jsxs("div",{className:"absolute top-12 right-0 bg-white shadow-xl rounded-lg overflow-hidden",children:[g.jsx("div",{className:"p-3 border-b border-gray-200",children:g.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[g.jsx(D1,{className:"w-4 h-4"}),"Export Graph"]})}),g.jsxs("div",{className:"p-2 space-y-1",children:[g.jsxs("button",{onClick:d,disabled:e,className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx(M1,{className:"w-4 h-4 text-primary-600"}),g.jsx("span",{children:"Export as PNG"})]}),g.jsxs("button",{onClick:c,disabled:e,className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx(M1,{className:"w-4 h-4 text-primary-600"}),g.jsx("span",{children:"Export as SVG"})]}),g.jsxs("button",{onClick:m,disabled:e,className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx(qd,{className:"w-4 h-4 text-primary-600"}),g.jsx("span",{children:"Export as CSV"})]}),g.jsxs("button",{onClick:h,disabled:e,className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx(qd,{className:"w-4 h-4 text-primary-600"}),g.jsx("span",{children:"Export as JSON"})]}),g.jsxs("button",{onClick:v,disabled:e,className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx(Ej,{className:"w-4 h-4 text-primary-600"}),g.jsx("span",{children:"Export Bibliography"})]})]}),r&&g.jsx("div",{className:"p-2 bg-green-50 border-t border-green-200",children:g.jsxs("p",{className:"text-xs text-green-800 text-center",children:[" ",r]})}),e&&g.jsx("div",{className:"p-2 bg-primary-50 border-t border-primary-200",children:g.jsx("p",{className:"text-xs text-primary-800 text-center animate-pulse",children:"Exporting..."})})]})]})}function vP({data:t,onNodeClick:e,onEdgeClick:n,selectedNodeIds:r,focusNodeId:i}){const l=W.useRef(null),s=W.useRef(null),u=W.useRef(null),[d,c]=W.useState(null),[h,v]=W.useState(!1),[m,y]=W.useState({}),[x,S]=W.useState(!1);W.useEffect(()=>{!t&&s.current&&(s.current.destroy(),s.current=null,c(null),y({}))},[t]),W.useEffect(()=>{if(!l.current||!t)return;const k={};t.elements.nodes.forEach(R=>{const A=R.data.type||"unknown";k[A]=(k[A]||0)+1}),y(k);const N=bl({container:l.current,elements:[...t.elements.nodes.map(R=>({data:R.data,classes:R.classes})),...t.elements.edges.map(R=>({data:R.data,classes:R.classes}))],style:[{selector:"node",style:{"background-color":"#0ea5e9",label:"data(label)","text-valign":"center","text-halign":"center","font-size":"10px","font-family":"Georgia, serif",color:"#1c1917","text-outline-width":2,"text-outline-color":"#fff",width:30,height:30}},{selector:'node[type="person"]',style:{"background-color":"#0284c7"}},{selector:'node[type="work"]',style:{"background-color":"#7dd3fc"}},{selector:'node[type="concept"]',style:{"background-color":"#fbbf24"}},{selector:'node[type="argument"]',style:{"background-color":"#f87171"}},{selector:'node[type="debate"]',style:{"background-color":"#a78bfa"}},{selector:'node[type="reformulation"]',style:{"background-color":"#34d399"}},{selector:'node[type="quote"]',style:{"background-color":"#fb923c"}},{selector:"node:selected",style:{"border-width":3,"border-color":"#0c4a6e","background-color":"#0369a1"}},{selector:"edge",style:{width:2,"line-color":"#d4d4d8","target-arrow-color":"#d4d4d8","target-arrow-shape":"triangle","curve-style":"bezier",label:"data(relation)","font-size":"8px","text-rotation":"autorotate",color:"#78716c","text-background-opacity":1,"text-background-color":"#fff","text-background-padding":"2px"}},{selector:"edge:selected",style:{"line-color":"#0369a1","target-arrow-color":"#0369a1",width:3}}],layout:{name:"cose",idealEdgeLength:100,nodeOverlap:20,refresh:20,fit:!0,padding:30,randomize:!1,componentSpacing:100,nodeRepulsion:4e5,edgeElasticity:100,nestingFactor:5,gravity:80,numIter:1e3,initialTemp:200,coolingFactor:.95,minTemp:1},minZoom:.01,maxZoom:10});s.current=N,N.on("tap","node",R=>{const A=R.target;c(A.data()),e&&e(A.id())}),N.on("tap","edge",R=>{const A=R.target;n&&n(A.id())});let M=0;return N.on("tap","node",R=>{const A=Date.now();A-M<300&&N.animate({center:{eles:R.target},zoom:1.5,duration:300}),M=A}),()=>{N.destroy()}},[t,e,n]),W.useEffect(()=>{const k=s.current;if(k){if(k.$(":selected").unselect(),r&&r.length>0){r.forEach(M=>{const R=k.getElementById(M);R&&!R.empty()&&R.select()});const N=k.getElementById(r[0]);N&&!N.empty()&&c(N.data())}else if(i){const N=k.getElementById(i);N&&!N.empty()&&(N.select(),c(N.data()))}else c(null);if(i){const N=k.getElementById(i);N&&!N.empty()&&k.animate({center:{eles:N},duration:300,zoom:Math.min(Math.max(k.zoom(),1.2),2)})}}},[r,i]);const w=()=>{u.current&&(x?document.exitFullscreen&&document.exitFullscreen():u.current.requestFullscreen&&u.current.requestFullscreen())};W.useEffect(()=>{const k=()=>{S(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",k),()=>document.removeEventListener("fullscreenchange",k)},[]),W.useEffect(()=>{const k=N=>{if(s.current&&!(N.target instanceof HTMLInputElement||N.target instanceof HTMLTextAreaElement))switch(N.key.toLowerCase()){case"r":s.current.fit();break;case"f":if(N.shiftKey)w();else{const R=s.current.$(":selected");R.length>0?s.current.fit(R,50):s.current.fit()}break;case"h":case"?":v(R=>!R);break;case"c":const M=s.current.$(":selected").first();M.length>0&&s.current.center(M);break;case"escape":x?w():(s.current.$(":selected").unselect(),c(null));break;case"+":case"=":s.current.zoom(s.current.zoom()*1.2);break;case"-":case"_":s.current.zoom(s.current.zoom()*.8);break}};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[x]);const E=k=>{s.current&&Object.keys(k).forEach(N=>{if(N==="showLabels")s.current?.style().selector("node").style({"text-opacity":k.showLabels?1:0}).update();else if(N==="showEdgeLabels")s.current?.style().selector("edge").style({"text-opacity":k.showEdgeLabels?1:0}).update();else if(N in k){const M=k[N];s.current?.nodes(`[type="${N}"]`).style({display:M?"element":"none"})}})},T=k=>{if(!s.current)return;const N={name:k,animate:!0,animationDuration:500,fit:!0,padding:30};k==="cose"?(N.idealEdgeLength=100,N.nodeRepulsion=4e5,N.edgeElasticity=100):k==="breadthfirst"?(N.directed=!0,N.spacingFactor=1.5):k==="concentric"&&(N.minNodeSpacing=50),s.current.layout(N).run()};return g.jsxs("div",{ref:u,className:`relative w-full ${x?"h-screen":""}`,style:x?{}:{height:"600px"},children:[g.jsx("div",{ref:l,className:"w-full h-full graph-container bg-gray-50 rounded-lg"}),g.jsx(fP,{onFilterChange:E,onLayoutChange:T,stats:m}),g.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[g.jsx("button",{onClick:w,className:"bg-white shadow-lg rounded-lg p-2 hover:bg-gray-50 transition-colors",title:x?"Exit Fullscreen (Shift+F or ESC)":"Enter Fullscreen (Shift+F)",children:x?g.jsx(e5,{className:"w-5 h-5"}):g.jsx(Qj,{className:"w-5 h-5"})}),g.jsx(hP,{cyRef:s})]}),d&&g.jsx(dP,{node:d,onClose:()=>{c(null),s.current?.$(":selected").unselect()},onNavigateToNode:k=>{const N=s.current?.$(`#${k}`).first();N&&N.length>0&&(s.current?.$(":selected").unselect(),N.select(),s.current?.animate({center:{eles:N},zoom:1.5,duration:300}),c(N.data()))},relationships:s.current&&d?(()=>{const k=s.current,N=d.id,M=[];return k.edges(`[source="${N}"]`).forEach(R=>{const A=k.$(`#${R.data("target")}`).first();A.length>0&&M.push({id:A.id(),label:A.data("label")||A.id(),type:A.data("type")||"unknown",relation:R.data("relation")||"related_to",direction:"outgoing"})}),k.edges(`[target="${N}"]`).forEach(R=>{const A=k.$(`#${R.data("source")}`).first();A.length>0&&M.push({id:A.id(),label:A.data("label")||A.id(),type:A.data("type")||"unknown",relation:R.data("relation")||"related_to",direction:"incoming"})}),M})():[]}),h&&g.jsxs("div",{className:"absolute bottom-4 left-4 bg-white shadow-xl rounded-lg p-4 max-w-xs z-20",children:[g.jsxs("div",{className:"flex justify-between items-start mb-3",children:[g.jsx("h4",{className:"font-semibold text-sm",children:"Keyboard Shortcuts"}),g.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),g.jsxs("dl",{className:"space-y-2 text-xs",children:[g.jsxs("div",{className:"flex justify-between gap-4",children:[g.jsx("dt",{className:"font-mono bg-gray-100 px-2 py-1 rounded flex-shrink-0",children:"R"}),g.jsx("dd",{className:"text-gray-600",children:"Reset view"})]}),g.jsxs("div",{className:"flex justify-between gap-4",children:[g.jsx("dt",{className:"font-mono bg-gray-100 px-2 py-1 rounded flex-shrink-0",children:"F"}),g.jsx("dd",{className:"text-gray-600",children:"Fit to screen"})]}),g.jsxs("div",{className:"flex justify-between gap-4",children:[g.jsx("dt",{className:"font-mono bg-gray-100 px-2 py-1 rounded flex-shrink-0",children:"Shift+F"}),g.jsx("dd",{className:"text-gray-600",children:"Toggle fullscreen"})]}),g.jsxs("div",{className:"flex justify-between gap-4",children:[g.jsx("dt",{className:"font-mono bg-gray-100 px-2 py-1 rounded flex-shrink-0",children:"C"}),g.jsx("dd",{className:"text-gray-600",children:"Center selected"})]}),g.jsxs("div",{className:"flex justify-between gap-4",children:[g.jsx("dt",{className:"font-mono bg-gray-100 px-2 py-1 rounded flex-shrink-0",children:"H / ?"}),g.jsx("dd",{className:"text-gray-600",children:"Toggle this help"})]}),g.jsxs("div",{className:"flex justify-between gap-4",children:[g.jsx("dt",{className:"font-mono bg-gray-100 px-2 py-1 rounded flex-shrink-0",children:"ESC"}),g.jsx("dd",{className:"text-gray-600",children:"Deselect all"})]}),g.jsxs("div",{className:"flex justify-between gap-4",children:[g.jsx("dt",{className:"font-mono bg-gray-100 px-2 py-1 rounded flex-shrink-0",children:"+/-"}),g.jsx("dd",{className:"text-gray-600",children:"Zoom in/out"})]})]}),g.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 text-xs text-gray-500",children:[g.jsx("p",{className:"mb-1",children:g.jsx("strong",{children:"Mouse:"})}),g.jsxs("ul",{className:"space-y-1",children:[g.jsx("li",{children:" Click node to view details"}),g.jsx("li",{children:" Double-click to center"}),g.jsx("li",{children:" Drag to pan, scroll to zoom"})]})]})]}),!h&&g.jsx("button",{onClick:()=>v(!0),className:"absolute bottom-4 left-4 bg-primary-600 hover:bg-primary-700 text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg transition-colors z-20",title:"Show keyboard shortcuts (H)",children:"?"})]})}function lk(t,e){return function(){return t.apply(e,arguments)}}const{toString:pP}=Object.prototype,{getPrototypeOf:Ny}=Object,{iterator:Rf,toStringTag:sk}=Symbol,jf=(t=>e=>{const n=pP.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Wr=t=>(t=t.toLowerCase(),e=>jf(e)===t),Df=t=>e=>typeof e===t,{isArray:Is}=Array,As=Df("undefined");function Lu(t){return t!==null&&!As(t)&&t.constructor!==null&&!As(t.constructor)&&mr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ok=Wr("ArrayBuffer");function mP(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ok(t.buffer),e}const gP=Df("string"),mr=Df("function"),uk=Df("number"),zu=t=>t!==null&&typeof t=="object",yP=t=>t===!0||t===!1,Ld=t=>{if(jf(t)!=="object")return!1;const e=Ny(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(sk in t)&&!(Rf in t)},xP=t=>{if(!zu(t)||Lu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},bP=Wr("Date"),wP=Wr("File"),SP=Wr("Blob"),EP=Wr("FileList"),CP=t=>zu(t)&&mr(t.pipe),TP=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||mr(t.append)&&((e=jf(t))==="formdata"||e==="object"&&mr(t.toString)&&t.toString()==="[object FormData]"))},kP=Wr("URLSearchParams"),[NP,AP,RP,jP]=["ReadableStream","Request","Response","Headers"].map(Wr),DP=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _u(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Is(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Lu(t))return;const l=n?Object.getOwnPropertyNames(t):Object.keys(t),s=l.length;let u;for(r=0;r<s;r++)u=l[r],e.call(null,t[u],u,t)}}function ck(t,e){if(Lu(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const hl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dk=t=>!As(t)&&t!==hl;function Ng(){const{caseless:t,skipUndefined:e}=dk(this)&&this||{},n={},r=(i,l)=>{const s=t&&ck(n,l)||l;Ld(n[s])&&Ld(i)?n[s]=Ng(n[s],i):Ld(i)?n[s]=Ng({},i):Is(i)?n[s]=i.slice():(!e||!As(i))&&(n[s]=i)};for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&_u(arguments[i],r);return n}const MP=(t,e,n,{allOwnKeys:r}={})=>(_u(e,(i,l)=>{n&&mr(i)?t[l]=lk(i,n):t[l]=i},{allOwnKeys:r}),t),BP=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),OP=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},LP=(t,e,n,r)=>{let i,l,s;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),l=i.length;l-- >0;)s=i[l],(!r||r(s,t,e))&&!u[s]&&(e[s]=t[s],u[s]=!0);t=n!==!1&&Ny(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},zP=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},_P=t=>{if(!t)return null;if(Is(t))return t;let e=t.length;if(!uk(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},PP=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ny(Uint8Array)),IP=(t,e)=>{const r=(t&&t[Rf]).call(t);let i;for(;(i=r.next())&&!i.done;){const l=i.value;e.call(t,l[0],l[1])}},qP=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},FP=Wr("HTMLFormElement"),HP=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),YS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),UP=Wr("RegExp"),fk=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};_u(n,(i,l)=>{let s;(s=e(i,l,t))!==!1&&(r[l]=s||i)}),Object.defineProperties(t,r)},VP=t=>{fk(t,(e,n)=>{if(mr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(mr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},GP=(t,e)=>{const n={},r=i=>{i.forEach(l=>{n[l]=!0})};return Is(t)?r(t):r(String(t).split(e)),n},YP=()=>{},$P=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function XP(t){return!!(t&&mr(t.append)&&t[sk]==="FormData"&&t[Rf])}const KP=t=>{const e=new Array(10),n=(r,i)=>{if(zu(r)){if(e.indexOf(r)>=0)return;if(Lu(r))return r;if(!("toJSON"in r)){e[i]=r;const l=Is(r)?[]:{};return _u(r,(s,u)=>{const d=n(s,i+1);!As(d)&&(l[u]=d)}),e[i]=void 0,l}}return r};return n(t,0)},QP=Wr("AsyncFunction"),ZP=t=>t&&(zu(t)||mr(t))&&mr(t.then)&&mr(t.catch),hk=((t,e)=>t?setImmediate:e?((n,r)=>(hl.addEventListener("message",({source:i,data:l})=>{i===hl&&l===n&&r.length&&r.shift()()},!1),i=>{r.push(i),hl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",mr(hl.postMessage)),WP=typeof queueMicrotask<"u"?queueMicrotask.bind(hl):typeof process<"u"&&process.nextTick||hk,JP=t=>t!=null&&mr(t[Rf]),be={isArray:Is,isArrayBuffer:ok,isBuffer:Lu,isFormData:TP,isArrayBufferView:mP,isString:gP,isNumber:uk,isBoolean:yP,isObject:zu,isPlainObject:Ld,isEmptyObject:xP,isReadableStream:NP,isRequest:AP,isResponse:RP,isHeaders:jP,isUndefined:As,isDate:bP,isFile:wP,isBlob:SP,isRegExp:UP,isFunction:mr,isStream:CP,isURLSearchParams:kP,isTypedArray:PP,isFileList:EP,forEach:_u,merge:Ng,extend:MP,trim:DP,stripBOM:BP,inherits:OP,toFlatObject:LP,kindOf:jf,kindOfTest:Wr,endsWith:zP,toArray:_P,forEachEntry:IP,matchAll:qP,isHTMLForm:FP,hasOwnProperty:YS,hasOwnProp:YS,reduceDescriptors:fk,freezeMethods:VP,toObjectSet:GP,toCamelCase:HP,noop:YP,toFiniteNumber:$P,findKey:ck,global:hl,isContextDefined:dk,isSpecCompliantForm:XP,toJSONObject:KP,isAsyncFn:QP,isThenable:ZP,setImmediate:hk,asap:WP,isIterable:JP};function xt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}be.inherits(xt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:be.toJSONObject(this.config),code:this.code,status:this.status}}});const vk=xt.prototype,pk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{pk[t]={value:t}});Object.defineProperties(xt,pk);Object.defineProperty(vk,"isAxiosError",{value:!0});xt.from=(t,e,n,r,i,l)=>{const s=Object.create(vk);be.toFlatObject(t,s,function(h){return h!==Error.prototype},c=>c!=="isAxiosError");const u=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return xt.call(s,u,d,n,r,i),t&&s.cause==null&&Object.defineProperty(s,"cause",{value:t,configurable:!0}),s.name=t&&t.name||"Error",l&&Object.assign(s,l),s};const e8=null;function Ag(t){return be.isPlainObject(t)||be.isArray(t)}function mk(t){return be.endsWith(t,"[]")?t.slice(0,-2):t}function $S(t,e,n){return t?t.concat(e).map(function(i,l){return i=mk(i),!n&&l?"["+i+"]":i}).join(n?".":""):e}function t8(t){return be.isArray(t)&&!t.some(Ag)}const n8=be.toFlatObject(be,{},null,function(e){return/^is[A-Z]/.test(e)});function Mf(t,e,n){if(!be.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=be.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,w){return!be.isUndefined(w[S])});const r=n.metaTokens,i=n.visitor||h,l=n.dots,s=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&be.isSpecCompliantForm(e);if(!be.isFunction(i))throw new TypeError("visitor must be a function");function c(x){if(x===null)return"";if(be.isDate(x))return x.toISOString();if(be.isBoolean(x))return x.toString();if(!d&&be.isBlob(x))throw new xt("Blob is not supported. Use a Buffer instead.");return be.isArrayBuffer(x)||be.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,S,w){let E=x;if(x&&!w&&typeof x=="object"){if(be.endsWith(S,"{}"))S=r?S:S.slice(0,-2),x=JSON.stringify(x);else if(be.isArray(x)&&t8(x)||(be.isFileList(x)||be.endsWith(S,"[]"))&&(E=be.toArray(x)))return S=mk(S),E.forEach(function(k,N){!(be.isUndefined(k)||k===null)&&e.append(s===!0?$S([S],N,l):s===null?S:S+"[]",c(k))}),!1}return Ag(x)?!0:(e.append($S(w,S,l),c(x)),!1)}const v=[],m=Object.assign(n8,{defaultVisitor:h,convertValue:c,isVisitable:Ag});function y(x,S){if(!be.isUndefined(x)){if(v.indexOf(x)!==-1)throw Error("Circular reference detected in "+S.join("."));v.push(x),be.forEach(x,function(E,T){(!(be.isUndefined(E)||E===null)&&i.call(e,E,be.isString(T)?T.trim():T,S,m))===!0&&y(E,S?S.concat(T):[T])}),v.pop()}}if(!be.isObject(t))throw new TypeError("data must be an object");return y(t),e}function XS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ay(t,e){this._pairs=[],t&&Mf(t,this,e)}const gk=Ay.prototype;gk.append=function(e,n){this._pairs.push([e,n])};gk.toString=function(e){const n=e?function(r){return e.call(this,r,XS)}:XS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function r8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function yk(t,e,n){if(!e)return t;const r=n&&n.encode||r8;be.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let l;if(i?l=i(e,n):l=be.isURLSearchParams(e)?e.toString():new Ay(e,n).toString(r),l){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class KS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){be.forEach(this.handlers,function(r){r!==null&&e(r)})}}const xk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},a8=typeof URLSearchParams<"u"?URLSearchParams:Ay,i8=typeof FormData<"u"?FormData:null,l8=typeof Blob<"u"?Blob:null,s8={isBrowser:!0,classes:{URLSearchParams:a8,FormData:i8,Blob:l8},protocols:["http","https","file","blob","url","data"]},Ry=typeof window<"u"&&typeof document<"u",Rg=typeof navigator=="object"&&navigator||void 0,o8=Ry&&(!Rg||["ReactNative","NativeScript","NS"].indexOf(Rg.product)<0),u8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",c8=Ry&&window.location.href||"http://localhost",d8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ry,hasStandardBrowserEnv:o8,hasStandardBrowserWebWorkerEnv:u8,navigator:Rg,origin:c8},Symbol.toStringTag,{value:"Module"})),$n={...d8,...s8};function f8(t,e){return Mf(t,new $n.classes.URLSearchParams,{visitor:function(n,r,i,l){return $n.isNode&&be.isBuffer(n)?(this.append(r,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...e})}function h8(t){return be.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function v8(t){const e={},n=Object.keys(t);let r;const i=n.length;let l;for(r=0;r<i;r++)l=n[r],e[l]=t[l];return e}function bk(t){function e(n,r,i,l){let s=n[l++];if(s==="__proto__")return!0;const u=Number.isFinite(+s),d=l>=n.length;return s=!s&&be.isArray(i)?i.length:s,d?(be.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!u):((!i[s]||!be.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],l)&&be.isArray(i[s])&&(i[s]=v8(i[s])),!u)}if(be.isFormData(t)&&be.isFunction(t.entries)){const n={};return be.forEachEntry(t,(r,i)=>{e(h8(r),i,n,0)}),n}return null}function p8(t,e,n){if(be.isString(t))try{return(e||JSON.parse)(t),be.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Pu={transitional:xk,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,l=be.isObject(e);if(l&&be.isHTMLForm(e)&&(e=new FormData(e)),be.isFormData(e))return i?JSON.stringify(bk(e)):e;if(be.isArrayBuffer(e)||be.isBuffer(e)||be.isStream(e)||be.isFile(e)||be.isBlob(e)||be.isReadableStream(e))return e;if(be.isArrayBufferView(e))return e.buffer;if(be.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return f8(e,this.formSerializer).toString();if((u=be.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Mf(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return l||i?(n.setContentType("application/json",!1),p8(e)):e}],transformResponse:[function(e){const n=this.transitional||Pu.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(be.isResponse(e)||be.isReadableStream(e))return e;if(e&&be.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(u){if(s)throw u.name==="SyntaxError"?xt.from(u,xt.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};be.forEach(["delete","get","head","post","put","patch"],t=>{Pu.headers[t]={}});const m8=be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),g8=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&m8[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},QS=Symbol("internals");function Go(t){return t&&String(t).trim().toLowerCase()}function zd(t){return t===!1||t==null?t:be.isArray(t)?t.map(zd):String(t)}function y8(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const x8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function qm(t,e,n,r,i){if(be.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!be.isString(e)){if(be.isString(r))return e.indexOf(r)!==-1;if(be.isRegExp(r))return r.test(e)}}function b8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function w8(t,e){const n=be.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,l,s){return this[r].call(this,e,i,l,s)},configurable:!0})})}let gr=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function l(u,d,c){const h=Go(d);if(!h)throw new Error("header name must be a non-empty string");const v=be.findKey(i,h);(!v||i[v]===void 0||c===!0||c===void 0&&i[v]!==!1)&&(i[v||d]=zd(u))}const s=(u,d)=>be.forEach(u,(c,h)=>l(c,h,d));if(be.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(be.isString(e)&&(e=e.trim())&&!x8(e))s(g8(e),n);else if(be.isObject(e)&&be.isIterable(e)){let u={},d,c;for(const h of e){if(!be.isArray(h))throw TypeError("Object iterator must return a key-value pair");u[c=h[0]]=(d=u[c])?be.isArray(d)?[...d,h[1]]:[d,h[1]]:h[1]}s(u,n)}else e!=null&&l(n,e,r);return this}get(e,n){if(e=Go(e),e){const r=be.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return y8(i);if(be.isFunction(n))return n.call(this,i,r);if(be.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Go(e),e){const r=be.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||qm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function l(s){if(s=Go(s),s){const u=be.findKey(r,s);u&&(!n||qm(r,r[u],u,n))&&(delete r[u],i=!0)}}return be.isArray(e)?e.forEach(l):l(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const l=n[r];(!e||qm(this,this[l],l,e,!0))&&(delete this[l],i=!0)}return i}normalize(e){const n=this,r={};return be.forEach(this,(i,l)=>{const s=be.findKey(r,l);if(s){n[s]=zd(i),delete n[l];return}const u=e?b8(l):String(l).trim();u!==l&&delete n[l],n[u]=zd(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return be.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&be.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[QS]=this[QS]={accessors:{}}).accessors,i=this.prototype;function l(s){const u=Go(s);r[u]||(w8(i,s),r[u]=!0)}return be.isArray(e)?e.forEach(l):l(e),this}};gr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);be.reduceDescriptors(gr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});be.freezeMethods(gr);function Fm(t,e){const n=this||Pu,r=e||n,i=gr.from(r.headers);let l=r.data;return be.forEach(t,function(u){l=u.call(n,l,i.normalize(),e?e.status:void 0)}),i.normalize(),l}function wk(t){return!!(t&&t.__CANCEL__)}function qs(t,e,n){xt.call(this,t??"canceled",xt.ERR_CANCELED,e,n),this.name="CanceledError"}be.inherits(qs,xt,{__CANCEL__:!0});function Sk(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new xt("Request failed with status code "+n.status,[xt.ERR_BAD_REQUEST,xt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function S8(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function E8(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,l=0,s;return e=e!==void 0?e:1e3,function(d){const c=Date.now(),h=r[l];s||(s=c),n[i]=d,r[i]=c;let v=l,m=0;for(;v!==i;)m+=n[v++],v=v%t;if(i=(i+1)%t,i===l&&(l=(l+1)%t),c-s<e)return;const y=h&&c-h;return y?Math.round(m*1e3/y):void 0}}function C8(t,e){let n=0,r=1e3/e,i,l;const s=(c,h=Date.now())=>{n=h,i=null,l&&(clearTimeout(l),l=null),t(...c)};return[(...c)=>{const h=Date.now(),v=h-n;v>=r?s(c,h):(i=c,l||(l=setTimeout(()=>{l=null,s(i)},r-v)))},()=>i&&s(i)]}const af=(t,e,n=3)=>{let r=0;const i=E8(50,250);return C8(l=>{const s=l.loaded,u=l.lengthComputable?l.total:void 0,d=s-r,c=i(d),h=s<=u;r=s;const v={loaded:s,total:u,progress:u?s/u:void 0,bytes:d,rate:c||void 0,estimated:c&&u&&h?(u-s)/c:void 0,event:l,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(v)},n)},ZS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},WS=t=>(...e)=>be.asap(()=>t(...e)),T8=$n.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,$n.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL($n.origin),$n.navigator&&/(msie|trident)/i.test($n.navigator.userAgent)):()=>!0,k8=$n.hasStandardBrowserEnv?{write(t,e,n,r,i,l){const s=[t+"="+encodeURIComponent(e)];be.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),be.isString(r)&&s.push("path="+r),be.isString(i)&&s.push("domain="+i),l===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function N8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function A8(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Ek(t,e,n){let r=!N8(e);return t&&(r||n==!1)?A8(t,e):e}const JS=t=>t instanceof gr?{...t}:t;function wl(t,e){e=e||{};const n={};function r(c,h,v,m){return be.isPlainObject(c)&&be.isPlainObject(h)?be.merge.call({caseless:m},c,h):be.isPlainObject(h)?be.merge({},h):be.isArray(h)?h.slice():h}function i(c,h,v,m){if(be.isUndefined(h)){if(!be.isUndefined(c))return r(void 0,c,v,m)}else return r(c,h,v,m)}function l(c,h){if(!be.isUndefined(h))return r(void 0,h)}function s(c,h){if(be.isUndefined(h)){if(!be.isUndefined(c))return r(void 0,c)}else return r(void 0,h)}function u(c,h,v){if(v in e)return r(c,h);if(v in t)return r(void 0,c)}const d={url:l,method:l,data:l,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u,headers:(c,h,v)=>i(JS(c),JS(h),v,!0)};return be.forEach(Object.keys({...t,...e}),function(h){const v=d[h]||i,m=v(t[h],e[h],h);be.isUndefined(m)&&v!==u||(n[h]=m)}),n}const Ck=t=>{const e=wl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:l,headers:s,auth:u}=e;if(e.headers=s=gr.from(s),e.url=yk(Ek(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&s.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),be.isFormData(n)){if($n.hasStandardBrowserEnv||$n.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(be.isFunction(n.getHeaders)){const d=n.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([h,v])=>{c.includes(h.toLowerCase())&&s.set(h,v)})}}if($n.hasStandardBrowserEnv&&(r&&be.isFunction(r)&&(r=r(e)),r||r!==!1&&T8(e.url))){const d=i&&l&&k8.read(l);d&&s.set(i,d)}return e},R8=typeof XMLHttpRequest<"u",j8=R8&&function(t){return new Promise(function(n,r){const i=Ck(t);let l=i.data;const s=gr.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:c}=i,h,v,m,y,x;function S(){y&&y(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function E(){if(!w)return;const k=gr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),M={data:!u||u==="text"||u==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:k,config:t,request:w};Sk(function(A){n(A),S()},function(A){r(A),S()},M),w=null}"onloadend"in w?w.onloadend=E:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(E)},w.onabort=function(){w&&(r(new xt("Request aborted",xt.ECONNABORTED,t,w)),w=null)},w.onerror=function(N){const M=N&&N.message?N.message:"Network Error",R=new xt(M,xt.ERR_NETWORK,t,w);R.event=N||null,r(R),w=null},w.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const M=i.transitional||xk;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),r(new xt(N,M.clarifyTimeoutError?xt.ETIMEDOUT:xt.ECONNABORTED,t,w)),w=null},l===void 0&&s.setContentType(null),"setRequestHeader"in w&&be.forEach(s.toJSON(),function(N,M){w.setRequestHeader(M,N)}),be.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),u&&u!=="json"&&(w.responseType=i.responseType),c&&([m,x]=af(c,!0),w.addEventListener("progress",m)),d&&w.upload&&([v,y]=af(d),w.upload.addEventListener("progress",v),w.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(h=k=>{w&&(r(!k||k.type?new qs(null,t,w):k),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const T=S8(i.url);if(T&&$n.protocols.indexOf(T)===-1){r(new xt("Unsupported protocol "+T+":",xt.ERR_BAD_REQUEST,t));return}w.send(l||null)})},D8=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const l=function(c){if(!i){i=!0,u();const h=c instanceof Error?c:this.reason;r.abort(h instanceof xt?h:new qs(h instanceof Error?h.message:h))}};let s=e&&setTimeout(()=>{s=null,l(new xt(`timeout ${e} of ms exceeded`,xt.ETIMEDOUT))},e);const u=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(l):c.removeEventListener("abort",l)}),t=null)};t.forEach(c=>c.addEventListener("abort",l));const{signal:d}=r;return d.unsubscribe=()=>be.asap(u),d}},M8=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},B8=async function*(t,e){for await(const n of O8(t))yield*M8(n,e)},O8=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},eE=(t,e,n,r)=>{const i=B8(t,e);let l=0,s,u=d=>{s||(s=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:c,value:h}=await i.next();if(c){u(),d.close();return}let v=h.byteLength;if(n){let m=l+=v;n(m)}d.enqueue(new Uint8Array(h))}catch(c){throw u(c),c}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},tE=64*1024,{isFunction:yd}=be,L8=(({Request:t,Response:e})=>({Request:t,Response:e}))(be.global),{ReadableStream:nE,TextEncoder:rE}=be.global,aE=(t,...e)=>{try{return!!t(...e)}catch{return!1}},z8=t=>{t=be.merge.call({skipUndefined:!0},L8,t);const{fetch:e,Request:n,Response:r}=t,i=e?yd(e):typeof fetch=="function",l=yd(n),s=yd(r);if(!i)return!1;const u=i&&yd(nE),d=i&&(typeof rE=="function"?(x=>S=>x.encode(S))(new rE):async x=>new Uint8Array(await new n(x).arrayBuffer())),c=l&&u&&aE(()=>{let x=!1;const S=new n($n.origin,{body:new nE,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!S}),h=s&&u&&aE(()=>be.isReadableStream(new r("").body)),v={stream:h&&(x=>x.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!v[x]&&(v[x]=(S,w)=>{let E=S&&S[x];if(E)return E.call(S);throw new xt(`Response type '${x}' is not supported`,xt.ERR_NOT_SUPPORT,w)})});const m=async x=>{if(x==null)return 0;if(be.isBlob(x))return x.size;if(be.isSpecCompliantForm(x))return(await new n($n.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(be.isArrayBufferView(x)||be.isArrayBuffer(x))return x.byteLength;if(be.isURLSearchParams(x)&&(x=x+""),be.isString(x))return(await d(x)).byteLength},y=async(x,S)=>{const w=be.toFiniteNumber(x.getContentLength());return w??m(S)};return async x=>{let{url:S,method:w,data:E,signal:T,cancelToken:k,timeout:N,onDownloadProgress:M,onUploadProgress:R,responseType:A,headers:O,withCredentials:B="same-origin",fetchOptions:P}=Ck(x),q=e||fetch;A=A?(A+"").toLowerCase():"text";let L=D8([T,k&&k.toAbortSignal()],N),D=null;const F=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let $;try{if(R&&c&&w!=="get"&&w!=="head"&&($=await y(O,E))!==0){let _=new n(S,{method:"POST",body:E,duplex:"half"}),X;if(be.isFormData(E)&&(X=_.headers.get("content-type"))&&O.setContentType(X),_.body){const[z,ne]=ZS($,af(WS(R)));E=eE(_.body,tE,z,ne)}}be.isString(B)||(B=B?"include":"omit");const H=l&&"credentials"in n.prototype,V={...P,signal:L,method:w.toUpperCase(),headers:O.normalize().toJSON(),body:E,duplex:"half",credentials:H?B:void 0};D=l&&new n(S,V);let K=await(l?q(D,P):q(S,V));const ee=h&&(A==="stream"||A==="response");if(h&&(M||ee&&F)){const _={};["status","statusText","headers"].forEach(le=>{_[le]=K[le]});const X=be.toFiniteNumber(K.headers.get("content-length")),[z,ne]=M&&ZS(X,af(WS(M),!0))||[];K=new r(eE(K.body,tE,z,()=>{ne&&ne(),F&&F()}),_)}A=A||"text";let I=await v[be.findKey(v,A)||"text"](K,x);return!ee&&F&&F(),await new Promise((_,X)=>{Sk(_,X,{data:I,headers:gr.from(K.headers),status:K.status,statusText:K.statusText,config:x,request:D})})}catch(H){throw F&&F(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new xt("Network Error",xt.ERR_NETWORK,x,D),{cause:H.cause||H}):xt.from(H,H&&H.code,x,D)}}},_8=new Map,Tk=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:i}=e,l=[r,i,n];let s=l.length,u=s,d,c,h=_8;for(;u--;)d=l[u],c=h.get(d),c===void 0&&h.set(d,c=u?new Map:z8(e)),h=c;return c};Tk();const jg={http:e8,xhr:j8,fetch:{get:Tk}};be.forEach(jg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const iE=t=>`- ${t}`,P8=t=>be.isFunction(t)||t===null||t===!1,kk={getAdapter:(t,e)=>{t=be.isArray(t)?t:[t];const{length:n}=t;let r,i;const l={};for(let s=0;s<n;s++){r=t[s];let u;if(i=r,!P8(r)&&(i=jg[(u=String(r)).toLowerCase()],i===void 0))throw new xt(`Unknown adapter '${u}'`);if(i&&(be.isFunction(i)||(i=i.get(e))))break;l[u||"#"+s]=i}if(!i){const s=Object.entries(l).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let u=n?s.length>1?`since :
`+s.map(iE).join(`
`):" "+iE(s[0]):"as no adapter specified";throw new xt("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:jg};function Hm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qs(null,t)}function lE(t){return Hm(t),t.headers=gr.from(t.headers),t.data=Fm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),kk.getAdapter(t.adapter||Pu.adapter,t)(t).then(function(r){return Hm(t),r.data=Fm.call(t,t.transformResponse,r),r.headers=gr.from(r.headers),r},function(r){return wk(r)||(Hm(t),r&&r.response&&(r.response.data=Fm.call(t,t.transformResponse,r.response),r.response.headers=gr.from(r.response.headers))),Promise.reject(r)})}const Nk="1.12.2",Bf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Bf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const sE={};Bf.transitional=function(e,n,r){function i(l,s){return"[Axios v"+Nk+"] Transitional option '"+l+"'"+s+(r?". "+r:"")}return(l,s,u)=>{if(e===!1)throw new xt(i(s," has been removed"+(n?" in "+n:"")),xt.ERR_DEPRECATED);return n&&!sE[s]&&(sE[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,s,u):!0}};Bf.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function I8(t,e,n){if(typeof t!="object")throw new xt("options must be an object",xt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const l=r[i],s=e[l];if(s){const u=t[l],d=u===void 0||s(u,l,t);if(d!==!0)throw new xt("option "+l+" must be "+d,xt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new xt("Unknown option "+l,xt.ERR_BAD_OPTION)}}const _d={assertOptions:I8,validators:Bf},la=_d.validators;let vl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new KS,response:new KS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const l=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=wl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:l}=n;r!==void 0&&_d.assertOptions(r,{silentJSONParsing:la.transitional(la.boolean),forcedJSONParsing:la.transitional(la.boolean),clarifyTimeoutError:la.transitional(la.boolean)},!1),i!=null&&(be.isFunction(i)?n.paramsSerializer={serialize:i}:_d.assertOptions(i,{encode:la.function,serialize:la.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),_d.assertOptions(n,{baseUrl:la.spelling("baseURL"),withXsrfToken:la.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=l&&be.merge(l.common,l[n.method]);l&&be.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),n.headers=gr.concat(s,l);const u=[];let d=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(d=d&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const c=[];this.interceptors.response.forEach(function(S){c.push(S.fulfilled,S.rejected)});let h,v=0,m;if(!d){const x=[lE.bind(this),void 0];for(x.unshift(...u),x.push(...c),m=x.length,h=Promise.resolve(n);v<m;)h=h.then(x[v++],x[v++]);return h}m=u.length;let y=n;for(;v<m;){const x=u[v++],S=u[v++];try{y=x(y)}catch(w){S.call(this,w);break}}try{h=lE.call(this,y)}catch(x){return Promise.reject(x)}for(v=0,m=c.length;v<m;)h=h.then(c[v++],c[v++]);return h}getUri(e){e=wl(this.defaults,e);const n=Ek(e.baseURL,e.url,e.allowAbsoluteUrls);return yk(n,e.params,e.paramsSerializer)}};be.forEach(["delete","get","head","options"],function(e){vl.prototype[e]=function(n,r){return this.request(wl(r||{},{method:e,url:n,data:(r||{}).data}))}});be.forEach(["post","put","patch"],function(e){function n(r){return function(l,s,u){return this.request(wl(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:s}))}}vl.prototype[e]=n(),vl.prototype[e+"Form"]=n(!0)});let q8=class Ak{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const r=this;this.promise.then(i=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](i);r._listeners=null}),this.promise.then=i=>{let l;const s=new Promise(u=>{r.subscribe(u),l=u}).then(i);return s.cancel=function(){r.unsubscribe(l)},s},e(function(l,s,u){r.reason||(r.reason=new qs(l,s,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Ak(function(i){e=i}),cancel:e}}};function F8(t){return function(n){return t.apply(null,n)}}function H8(t){return be.isObject(t)&&t.isAxiosError===!0}const Dg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dg).forEach(([t,e])=>{Dg[e]=t});function Rk(t){const e=new vl(t),n=lk(vl.prototype.request,e);return be.extend(n,vl.prototype,e,{allOwnKeys:!0}),be.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Rk(wl(t,i))},n}const gn=Rk(Pu);gn.Axios=vl;gn.CanceledError=qs;gn.CancelToken=q8;gn.isCancel=wk;gn.VERSION=Nk;gn.toFormData=Mf;gn.AxiosError=xt;gn.Cancel=gn.CanceledError;gn.all=function(e){return Promise.all(e)};gn.spread=F8;gn.isAxiosError=H8;gn.mergeConfig=wl;gn.AxiosHeaders=gr;gn.formToJSON=t=>bk(be.isHTMLForm(t)?new FormData(t):t);gn.getAdapter=kk.getAdapter;gn.HttpStatusCode=Dg;gn.default=gn;const{Axios:F9,AxiosError:H9,CanceledError:U9,isCancel:V9,CancelToken:G9,VERSION:Y9,all:$9,Cancel:X9,isAxiosError:K9,spread:Q9,toFormData:Z9,AxiosHeaders:W9,HttpStatusCode:J9,formToJSON:e7,getAdapter:t7,mergeConfig:n7}=gn,oE="https://eleutheria.onrender.com";class U8{client;constructor(){this.client=gn.create({baseURL:oE,headers:{"Content-Type":"application/json"},timeout:6e4})}async healthCheck(){return(await this.client.get("/api/health")).data}async getNodes(e){return(await this.client.get("/api/kg/nodes",{params:e})).data}async getEdges(e){return(await this.client.get("/api/kg/edges",{params:e})).data}async getNode(e){return(await this.client.get(`/api/kg/node/${e}`)).data}async getNodeConnections(e){return(await this.client.get(`/api/kg/node/${e}/connections`)).data}async getCytoscapeData(){return(await this.client.get("/api/kg/viz/cytoscape")).data}async getKGStats(){return(await this.client.get("/api/kg/stats")).data}async getTimelineOverview(e){return(await this.client.get("/api/kg/analytics/timeline",{params:e})).data}async getArgumentEvidenceOverview(e){return(await this.client.get("/api/kg/analytics/argument-flow",{params:e})).data}async getConceptClusterOverview(e){return(await this.client.get("/api/kg/analytics/concept-clusters",{params:e})).data}async getInfluenceMatrix(e){return(await this.client.get("/api/kg/analytics/influence-matrix",{params:e})).data}async computeGraphPath(e){return(await this.client.post("/api/kg/analytics/path",e)).data}async hybridSearch(e){return(await this.client.post("/api/search/hybrid",e)).data}async fulltextSearch(e,n=10){return(await this.client.post("/api/search/fulltext",{query:e,limit:n})).data}async lemmaticSearch(e,n=10){return(await this.client.post("/api/search/lemmatic",{query:e,limit:n})).data}async semanticSearch(e,n=10,r="text_embeddings"){return(await this.client.post("/api/search/semantic",{query:e,limit:n,collection:r})).data}async searchKG(e,n=10){return(await this.client.post("/api/search/kg",{query:e,limit:n})).data}async graphragQuery(e){return(await this.client.post("/api/graphrag/query",e,{timeout:12e4})).data}graphragQueryStream(e){const n=new URLSearchParams(e),r=`${oE}/api/graphrag/query/stream?${n}`;return new EventSource(r,{withCredentials:!1})}async graphragStatus(){return(await this.client.get("/api/graphrag/status")).data}async listTexts(e){return(await this.client.get("/api/texts/list",{params:e})).data}async getText(e){return(await this.client.get(`/api/texts/${e}`)).data}async getTextStructure(e){return(await this.client.get(`/api/texts/${e}/structure`)).data}async getTextStats(){return(await this.client.get("/api/texts/stats/overview")).data}async checkSemativersePermission(e){return(await this.client.post("/api/auth/semativerse/check",e)).data}async getSemativerseStatus(){return(await this.client.get("/api/auth/semativerse/status")).data}}const Vr=new U8,V8={nodeTypes:[],periods:[],schools:[],relations:[],searchTerm:""},G8={nodes:[],edges:[],focusNodeId:null},jk=W.createContext(void 0);function Y8({children:t}){const[e,n]=W.useState(V8),[r,i]=W.useState(G8),[l,s]=W.useState(null),[u,d]=W.useState(null),[c,h]=W.useState(null),[v,m]=W.useState(null),[y,x]=W.useState(!0),[S,w]=W.useState(null),E=W.useCallback(async O=>{x(!0),w(null);try{const[B,P]=await Promise.all([Vr.getTimelineOverview(O),Vr.getInfluenceMatrix(O)]);s(B),m(P),x(!1);const[q,L]=await Promise.all([Vr.getArgumentEvidenceOverview(O),Vr.getConceptClusterOverview(O)]);d(q),h(L)}catch(B){console.error("Error loading KG workspace data:",B),w(B?.message||"Failed to load knowledge graph analytics"),x(!1)}},[]);W.useEffect(()=>{E(e)},[e,E]);const T=W.useCallback(O=>{n(B=>{const P=typeof O=="function"?O(B):{...B,...O};return{nodeTypes:Array.from(new Set(P.nodeTypes||[])).sort(),periods:Array.from(new Set(P.periods||[])).sort(),schools:Array.from(new Set(P.schools||[])).sort(),relations:Array.from(new Set(P.relations||[])).sort(),searchTerm:P.searchTerm||""}})},[]),k=W.useCallback(O=>{i(B=>{const P=typeof O=="function"?O(B):{...B,...O};return{nodes:Array.from(new Set(P.nodes||[])),edges:Array.from(new Set(P.edges||[])),focusNodeId:P.focusNodeId??null}})},[]),N=W.useCallback(async()=>{await E(e)},[E,e]),M=W.useCallback(async O=>Vr.computeGraphPath(O),[]),R=W.useMemo(()=>({filters:e,selection:r,timeline:l,argumentEvidence:u,conceptClusters:c,influenceMatrix:v,loading:y,error:S}),[e,r,l,u,c,v,y,S]),A=W.useMemo(()=>({state:R,setFilters:T,updateSelection:k,refresh:N,computePath:M}),[R,T,k,N,M]);return g.jsx(jk.Provider,{value:A,children:t})}function Hi(){const t=W.useContext(jk);if(!t)throw new Error("useKGWorkspace must be used within a KGWorkspaceProvider");return t}const $8={person:"Persons",work:"Works",concept:"Concepts",argument:"Arguments",debate:"Debates",reformulation:"Reformulations",quote:"Quotes"};function X8({totalNodes:t,totalEdges:e,byType:n}){const r=W.useMemo(()=>Object.entries(n||{}).filter(([,i])=>i>0).sort((i,l)=>l[1]-i[1]).slice(0,6),[n]);return g.jsx("div",{className:"academic-card",children:g.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-serif font-bold mb-2 text-academic-text",children:"Knowledge Graph Observatory"}),g.jsx("p",{className:"text-academic-muted max-w-2xl",children:"Coordinated views of the Ancient Free Will Database surface the historical arc of arguments, trace textual evidence, and reveal reception dynamics without drowning in a force-directed hairball."})]}),g.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[g.jsx(Um,{label:"Nodes",value:t}),g.jsx(Um,{label:"Edges",value:e}),r.map(([i,l])=>g.jsx(Um,{label:$8[i]||i,value:l,subtle:!0},i))]})]})})}function Um({label:t,value:e,subtle:n=!1}){return g.jsxs("div",{className:`px-4 py-3 rounded-lg border ${n?"border-gray-200 bg-white/70":"border-primary-200 bg-primary-50"}`,children:[g.jsx("div",{className:"text-xs uppercase tracking-wide text-academic-muted",children:t}),g.jsx("div",{className:"text-2xl font-semibold text-academic-text",children:e.toLocaleString()})]})}const K8=W.memo(X8),Q8=[{value:"person",label:"Persons",emoji:""},{value:"work",label:"Works",emoji:""},{value:"concept",label:"Concepts",emoji:""},{value:"argument",label:"Arguments",emoji:""},{value:"debate",label:"Debates",emoji:""},{value:"reformulation",label:"Reformulations",emoji:""},{value:"quote",label:"Quotes",emoji:""}];function Z8(t){return t?Array.from(new Set(t.periods.map(e=>e.key).filter(Boolean))):[]}function W8(t){if(!t)return[];const e=new Set;return t.periods.forEach(n=>{n.nodes.forEach(r=>{r.school&&e.add(r.school)})}),Array.from(e)}function J8(t){const e=W.useMemo(()=>Z8(t),[t]),n=W.useMemo(()=>W8(t),[t]);return{periodOptions:e,schoolOptions:n}}function e9(){const{state:{filters:t,timeline:e},setFilters:n}=Hi(),{periodOptions:r,schoolOptions:i}=J8(e),[l,s]=W.useState(t.searchTerm||""),u=(h,v)=>{n(m=>{const y=new Set(m[h]);return y.has(v)?y.delete(v):y.add(v),{...m,[h]:Array.from(y)}})},d=()=>{n({nodeTypes:[],periods:[],schools:[],relations:[],searchTerm:""}),s("")},c=h=>{s(h),n({searchTerm:h})};return g.jsx("div",{className:"academic-card",children:g.jsxs("div",{className:"flex flex-col gap-4",children:[g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-academic-text",children:[g.jsx(Ig,{className:"w-4 h-4 text-primary-600"}),"Coordinated Filters"]}),g.jsxs("button",{onClick:d,className:"inline-flex items-center gap-1 text-xs text-academic-muted hover:text-red-500 transition-colors",children:[g.jsx(Mj,{className:"w-4 h-4"}),"Reset all"]})]}),g.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[g.jsx(Vm,{title:"Node Types",children:g.jsx("div",{className:"flex flex-wrap gap-2",children:Q8.map(h=>{const v=t.nodeTypes.includes(h.value);return g.jsxs("button",{onClick:()=>u("nodeTypes",h.value),className:`px-3 py-1.5 rounded-full border text-sm transition-colors ${v?"bg-primary-600 text-white border-primary-600":"border-gray-200 text-academic-text hover:border-primary-300 hover:bg-primary-50"}`,children:[g.jsx("span",{className:"mr-1",children:h.emoji}),h.label]},h.value)})})}),g.jsx(Vm,{title:"Historical Periods",children:g.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.map(h=>{const v=t.periods.includes(h);return g.jsx("button",{onClick:()=>u("periods",h),className:`px-3 py-1.5 rounded-full border text-sm transition-colors ${v?"bg-amber-500 text-white border-amber-500":"border-gray-200 text-academic-text hover:border-amber-400 hover:bg-amber-50"}`,children:h},h)}),r.length===0&&g.jsx("span",{className:"text-xs text-academic-muted",children:"Load timeline to unlock period filters."})]})}),g.jsx(Vm,{title:"Schools & Traditions",children:g.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.map(h=>{const v=t.schools.includes(h);return g.jsx("button",{onClick:()=>u("schools",h),className:`px-3 py-1.5 rounded-full border text-sm transition-colors ${v?"bg-emerald-500 text-white border-emerald-500":"border-gray-200 text-academic-text hover:border-emerald-400 hover:bg-emerald-50"}`,children:h},h)}),i.length===0&&g.jsx("span",{className:"text-xs text-academic-muted",children:"No school metadata available in current slice."})]})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-academic-muted uppercase mb-1",children:"Search"}),g.jsx("input",{type:"search",value:l,onChange:h=>c(h.target.value),placeholder:"Search labels, descriptions, or evidence",className:"w-full px-3 py-2 border border-gray-200 rounded-md focus:ring-2 focus:ring-primary-500 focus:outline-none text-sm"})]})]})})}function Vm({title:t,children:e}){return g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold text-academic-muted uppercase mb-2",children:t}),e]})}const t9=6;function nu(t){return t==null?"":t<0?`${Math.abs(t)}BCE`:t===0?"0":`${t}CE`}function n9(t,e,n){if(e==null||n===null||n===void 0)return 1;const r=t.startYear??e,i=t.endYear??r,l=Math.max(e,r),s=Math.min(n,i);return Math.max(s-l,50)}function r9(t,e,n){const r=t.map(l=>n9(l,e,n)),i=r.reduce((l,s)=>l+s,0);return t.map((l,s)=>({period:l,width:i>0?r[s]/i*100:100/t.length}))}function a9(){const{state:{timeline:t,loading:e},updateSelection:n}=Hi(),r=W.useMemo(()=>t?r9(t.periods,t.range.minYear,t.range.maxYear):[],[t]);return e&&!t?g.jsx("div",{className:"academic-card",children:g.jsx("div",{className:"py-16 text-center text-academic-muted text-sm",children:"Loading timeline"})}):!t||t.periods.length===0?g.jsx("div",{className:"academic-card",children:g.jsx("div",{className:"py-16 text-center text-academic-muted text-sm",children:"Timeline data is unavailable for the current filter selection."})}):g.jsxs("div",{className:"academic-card",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-academic-text uppercase",children:[g.jsx(Oj,{className:"w-4 h-4 text-primary-600"}),"Chrono-Storyline"]}),g.jsx("div",{className:"text-xs text-academic-muted",children:t.range.minYear!==void 0&&t.range.maxYear!==void 0?`${nu(t.range.minYear)}  ${nu(t.range.maxYear)}`:"Chronology inferred from period metadata"})]}),g.jsx("div",{className:"overflow-x-auto -mx-4 px-4",children:g.jsx("div",{className:"flex min-w-[640px]",children:r.map(({period:i,width:l})=>g.jsx(i9,{period:i,width:l,onSelectNode:s=>n({nodes:[s.id],focusNodeId:s.id})},i.key))})})]})}function i9({period:t,width:e,onSelectNode:n}){const r=W.useMemo(()=>[...t.nodes].sort((l,s)=>l.startYear!==void 0&&s.startYear!==void 0?(l.startYear??0)-(s.startYear??0):l.relationCount&&s.relationCount?s.relationCount-l.relationCount:(l.label||"").localeCompare(s.label||"")).slice(0,Math.max(t9,Math.round(t.nodes.length*.25))),[t.nodes]);return g.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mr-4 last:mr-0 bg-white flex-shrink-0",style:{width:`${e}%`,minWidth:"220px"},children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-xs uppercase text-academic-muted font-semibold",children:t.label}),g.jsxs("div",{className:"text-xs text-academic-muted",children:[nu(t.startYear),"  ",nu(t.endYear)]})]}),g.jsx("div",{className:"text-xs text-academic-muted text-right",children:Object.entries(t.counts).map(([i,l])=>`${l} ${i}`).slice(0,2).join("  ")})]}),g.jsxs("div",{className:"space-y-2",children:[r.map(i=>g.jsxs("button",{onClick:()=>n(i),className:"w-full text-left px-3 py-2 border border-gray-200 rounded-md hover:border-primary-400 hover:bg-primary-50 transition-colors",children:[g.jsxs("div",{className:"flex items-center justify-between text-sm font-medium text-academic-text",children:[g.jsx("span",{className:"truncate pr-2",children:i.label}),g.jsx("span",{className:"text-xs text-academic-muted",children:nu(i.startYear)})]}),i.school&&g.jsx("div",{className:"text-xs text-academic-muted",children:i.school}),i.relatedTypes&&i.relatedTypes.length>0&&g.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:i.relatedTypes.map(l=>g.jsx("span",{className:"text-[10px] uppercase tracking-wide bg-gray-100 px-1.5 py-0.5 rounded",children:l.replace(/_/g," ")},l))})]},i.id)),t.nodes.length>r.length&&g.jsxs("div",{className:"text-xs text-academic-muted italic",children:["+",t.nodes.length-r.length," additional nodes hidden for clarity"]})]})]})}const l9=W.memo(a9),uE=["argument","ancient_source","modern_reception"],Mg={argument:"#f87171",ancient_source:"#38bdf8",modern_reception:"#a78bfa"};function s9(t,e){return e.filter(r=>r.source===t.id||r.target===t.id).reduce((r,i)=>r+(i.value||1),0)||1}function o9(t,e,n,r){const i=new Map(t.map(m=>[m.id,s9(m,e)])),l={argument:[],ancient_source:[],modern_reception:[]};t.forEach(m=>{l[m.group].push(m)});const s=120,u=40,d=(n-s*2)/(uE.length-1||1),c=[];uE.forEach((m,y)=>{const x=l[m];if(!x||x.length===0)return;const S=x.reduce((k,N)=>k+(i.get(N.id)||1),0),w=r-u*2,E=12;let T=u;x.slice().sort((k,N)=>(i.get(N.id)||0)-(i.get(k.id)||0)).forEach(k=>{const N=i.get(k.id)||1,M=N/S,R=Math.max(18,w*M-E),A=T;T+=R+E,c.push({...k,value:N,height:R,x:s+y*d-60,y:A})})});const h=[],v=new Map(c.map(m=>[m.id,m]));return e.forEach(m=>{const y=v.get(m.source),x=v.get(m.target);if(!y||!x)return;const S=y.x+120,w=x.x,E=y.y+y.height/2,T=x.y+x.height/2,k=Math.max(80,Math.abs(w-S)/2),N=`M ${S} ${E} C ${S+k} ${E}, ${w-k} ${T}, ${w} ${T}`;h.push({...m,path:N,color:Mg[y.group]||"#94a3b8"})}),{nodes:c,links:h}}function u9(t){switch(t){case"argument":return"Arguments";case"ancient_source":return"Ancient Sources";case"modern_reception":return"Modern Reception";default:return t}}function c9(){const{state:{argumentEvidence:t,loading:e},updateSelection:n}=Hi(),r=W.useMemo(()=>{if(!t)return null;const l=960,s=420,u=t.nodes,d=t.links;return{layout:o9(u,d,l,s),width:l,height:s}},[t]);if(e&&!t)return g.jsx("div",{className:"academic-card",children:g.jsx("div",{className:"py-16 text-center text-academic-muted text-sm",children:"Loading argument evidence"})});if(!t)return g.jsx("div",{className:"academic-card",children:g.jsx("div",{className:"py-16 text-center text-academic-muted text-sm",children:"No argument evidence available for the current filters."})});const i=t.arguments.slice(0,8);return g.jsxs("div",{className:"academic-card",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-academic-text uppercase",children:[g.jsx(Ko,{className:"w-4 h-4 text-primary-600"}),"Argument Evidence Board"]}),g.jsxs("div",{className:"text-xs text-academic-muted",children:[t.stats.totalArguments.toLocaleString()," arguments "," ",t.stats.totalAncientSources.toLocaleString()," ancient attestations "," ",t.stats.totalModernReception.toLocaleString()," modern receptions"]})]}),r&&g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("svg",{width:r.width,height:r.height,className:"mx-auto block",children:[g.jsxs("defs",{children:[g.jsxs("linearGradient",{id:"argumentGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[g.jsx("stop",{offset:"0%",stopColor:"#f87171",stopOpacity:"0.65"}),g.jsx("stop",{offset:"100%",stopColor:"#38bdf8",stopOpacity:"0.65"})]}),g.jsxs("linearGradient",{id:"modernGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[g.jsx("stop",{offset:"0%",stopColor:"#38bdf8",stopOpacity:"0.6"}),g.jsx("stop",{offset:"100%",stopColor:"#a78bfa",stopOpacity:"0.6"})]})]}),r.layout.links.map((l,s)=>g.jsx("path",{d:l.path,stroke:l.source.startsWith("ancient")?"url(#modernGradient)":"url(#argumentGradient)",strokeWidth:Math.max(1.5,Math.log(l.value+1)*1.5),fill:"none",opacity:.65},`${l.source}-${l.target}-${s}`)),r.layout.nodes.map(l=>g.jsxs("g",{transform:`translate(${l.x}, ${l.y})`,children:[g.jsx("rect",{width:120,height:l.height,rx:6,ry:6,fill:Mg[l.group],opacity:.2,stroke:Mg[l.group],strokeWidth:1}),g.jsx("foreignObject",{width:120,height:l.height,children:g.jsxs("div",{className:"h-full w-full px-3 py-2 text-xs flex flex-col justify-center",children:[g.jsx("div",{className:"font-semibold text-academic-text line-clamp-2",children:l.label}),g.jsx("div",{className:"text-[10px] text-academic-muted uppercase mt-1 tracking-wide",children:u9(l.group)}),g.jsxs("div",{className:"text-[10px] text-academic-muted mt-1",children:[l.value.toLocaleString()," link",l.value===1?"":"s"]})]})})]},l.id))]})}),g.jsxs("div",{className:"mt-6",children:[g.jsx("h4",{className:"text-sm font-semibold text-academic-text mb-2",children:"Top arguments by evidence depth"}),g.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:i.map(l=>g.jsxs("button",{onClick:()=>n({nodes:[l.id],focusNodeId:l.id}),className:"text-left px-4 py-3 border border-gray-200 rounded-lg hover:border-primary-400 hover:bg-primary-50 transition-colors",children:[g.jsx("div",{className:"text-sm font-semibold text-academic-text",children:l.label}),g.jsxs("div",{className:"text-xs text-academic-muted",children:[l.ancientCount," ancient  ",l.modernCount," modern "," ",l.totalConnections," total connections"]}),l.period&&g.jsx("div",{className:"text-[11px] text-academic-muted uppercase mt-1",children:l.period})]},l.id))})]})]})}const Gm=220,Ym=160;function cE(t,e){return(t+1)/2*(e-32)+16}function d9({cluster:t,onSelectNode:e}){return g.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white h-full flex flex-col",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-xs uppercase text-academic-muted font-semibold",children:"Concept Cluster"}),g.jsx("div",{className:"text-sm font-semibold text-academic-text",children:t.label||`Cluster ${t.id.split("_").pop()}`})]}),g.jsxs("div",{className:"text-xs text-academic-muted",children:[t.size," concepts"]})]}),t.keywords&&t.keywords.length>0&&g.jsx("div",{className:"mb-3 flex flex-wrap gap-1.5",children:t.keywords.map(n=>g.jsx("span",{className:"text-[10px] uppercase tracking-wide bg-primary-50 text-primary-700 px-2 py-0.5 rounded-full",children:n},n))}),g.jsxs("svg",{width:Gm,height:Ym,className:"flex-shrink-0",children:[g.jsx("rect",{x:0,y:0,width:Gm,height:Ym,rx:8,ry:8,fill:"#f8fafc"}),t.nodes.map(n=>{const r=cE(n.x,Gm),i=cE(n.y,Ym);return g.jsxs("g",{transform:`translate(${r}, ${i})`,children:[g.jsx("circle",{r:8,fill:"#3b82f6",opacity:.15}),g.jsx("circle",{r:4,fill:"#3b82f6",opacity:.7}),g.jsx("text",{x:0,y:-12,textAnchor:"middle",className:"text-[10px] fill-slate-600 pointer-events-none select-none",children:n.label})]},n.id)})]}),g.jsxs("div",{className:"mt-3 grid gap-1 text-xs text-academic-muted",children:[t.nodes.slice(0,3).map(n=>g.jsxs("button",{onClick:()=>e(n),className:"text-left truncate hover:text-primary-600 transition-colors",children:[n.label,n.school?`  ${n.school}`:""]},n.id)),t.nodes.length>3&&g.jsxs("div",{className:"italic text-[11px] text-academic-muted",children:["+",t.nodes.length-3," more concepts"]})]})]})}function f9(){const{state:{conceptClusters:t,loading:e},updateSelection:n}=Hi();return e&&!t?g.jsx("div",{className:"academic-card",children:g.jsx("div",{className:"py-12 text-center text-academic-muted text-sm",children:"Analyzing concept clusters"})}):!t||t.clusters.length===0?g.jsx("div",{className:"academic-card",children:g.jsx("div",{className:"py-12 text-center text-academic-muted text-sm",children:"No clustered concepts for the current slice."})}):g.jsxs("div",{className:"academic-card",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-academic-text uppercase",children:[g.jsx(d5,{className:"w-4 h-4 text-primary-600"}),"Concept Constellations"]}),g.jsxs("div",{className:"text-xs text-academic-muted",children:[t.stats.totalConcepts," concepts in ",t.stats.clusterCount," thematic clusters"]})]}),g.jsx("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-4",children:t.clusters.map(r=>g.jsx(d9,{cluster:r,onSelectNode:i=>n({nodes:[i.id],focusNodeId:i.id})},r.id))})]})}const h9=W.memo(f9);function v9(t,e){if(e===0)return"rgba(99, 102, 241, 0.05)";const n=Math.sqrt(t/e);return`rgba(14, 165, 233, ${Math.min(.75,.15+.6*n)})`}function p9(t){return t.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}function m9(){const{state:{influenceMatrix:t,loading:e},setFilters:n}=Hi(),r=W.useMemo(()=>t?t.cells.reduce((u,d)=>Math.max(u,d.count),0):0,[t]);if(e&&!t)return g.jsx("div",{className:"academic-card",children:g.jsx("div",{className:"py-12 text-center text-academic-muted text-sm",children:"Computing influence matrix"})});if(!t||t.rows.length===0||t.columns.length===0)return g.jsx("div",{className:"academic-card",children:g.jsx("div",{className:"py-12 text-center text-academic-muted text-sm",children:"No influence data for current filters."})});const i=new Map(t.cells.map(u=>[`${u.rowKey}::${u.columnKey}`,u])),l=u=>{n(d=>{const c=new Set(d.schools);return c.has(u)?c.delete(u):c.add(u),{...d,schools:Array.from(c)}})},s=u=>{n(d=>{const c=new Set(d.relations);return c.has(u)?c.delete(u):c.add(u),{...d,relations:Array.from(c)}})};return g.jsxs("div",{className:"academic-card",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-academic-text uppercase",children:[g.jsx(Xj,{className:"w-4 h-4 text-primary-600"}),"Influence Matrix"]}),g.jsxs("div",{className:"text-xs text-academic-muted",children:[t.totals.schoolsCovered," schools  ",t.totals.relationsConsidered," relations "," ",t.totals.edgesMapped.toLocaleString()," mapped edges"]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full border-collapse",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{className:"sticky left-0 top-0 z-10 bg-white text-xs text-academic-muted uppercase px-3 py-2 border border-gray-200 text-left",children:"School"}),t.columns.map(u=>g.jsx("th",{className:"text-xs text-academic-muted uppercase px-3 py-2 border border-gray-200 bg-white hover:bg-primary-50 cursor-pointer",onClick:()=>s(u.key),children:p9(u.label)},u.key))]})}),g.jsx("tbody",{children:t.rows.map(u=>g.jsxs("tr",{children:[g.jsx("th",{className:"sticky left-0 bg-white text-xs font-semibold text-academic-text px-3 py-2 border border-gray-200 text-left hover:bg-primary-50 cursor-pointer",onClick:()=>l(u.key),children:u.label}),t.columns.map(d=>{const c=i.get(`${u.key}::${d.key}`),h=c?.count??0;return g.jsxs("td",{className:"border border-gray-200 px-2 py-2 text-center",children:[g.jsx("div",{className:"mx-auto rounded transition-transform hover:scale-[1.02]",style:{width:"100%",height:"100%",minHeight:"28px",backgroundColor:v9(h,r)},children:g.jsx("div",{className:"text-xs text-academic-text font-medium leading-6",children:h})}),c&&c.sampleEdges&&c.sampleEdges.length>0&&g.jsx("div",{className:"text-[10px] text-academic-muted mt-1 truncate",children:c.sampleEdges.slice(0,2).join(", ")})]},`${u.key}-${d.key}`)})]},u.key))})]})})]})}const g9=W.memo(m9);function y9(){const{state:{timeline:t,argumentEvidence:e,conceptClusters:n}}=Hi();return W.useMemo(()=>{const r=new Map;return t?.periods.forEach(i=>{i.nodes.forEach(l=>{r.has(l.id)||r.set(l.id,{id:l.id,label:l.label||"",type:l.type})})}),e?.arguments.forEach(i=>{r.has(i.id)||r.set(i.id,{id:i.id,label:i.label,type:"argument"})}),e?.nodes.forEach(i=>{r.has(i.id)||r.set(i.id,{id:i.id,label:i.label||"",type:i.group})}),n?.clusters.forEach(i=>{i.nodes.forEach(l=>{r.has(l.id)||r.set(l.id,{id:l.id,label:l.label||"",type:l.type})})}),Array.from(r.values()).sort((i,l)=>i.label.localeCompare(l.label))},[t,e,n])}function x9(){const{computePath:t,updateSelection:e}=Hi(),n=y9(),[r,i]=W.useState(""),[l,s]=W.useState(""),[u,d]=W.useState(null),[c,h]=W.useState(!1),[v,m]=W.useState(null),y=S=>{if(!S)return S;const w=n.find(E=>E.id===S||E.label===S);return w?w.id:S},x=async S=>{S.preventDefault();const w=y(r.trim()),E=y(l.trim());if(!w||!E){m("Please choose both source and target nodes.");return}h(!0),m(null),d(null);try{const T=await t({sourceId:w,targetId:E,maxDepth:6,allowBidirectional:!0});d(T),T.nodes&&T.nodes.length>0&&e({nodes:T.nodes.map(k=>k.id),focusNodeId:T.nodes[0]?.id??null})}catch(T){console.error("Failed to compute path",T),m(T?.message||"Failed to compute path")}finally{h(!1)}};return g.jsxs("div",{className:"academic-card",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-academic-text uppercase",children:[g.jsx(o5,{className:"w-4 h-4 text-primary-600"}),"Path Inspector"]}),g.jsx("div",{className:"text-xs text-academic-muted",children:"Resolve narrative walks between any two entities"})]}),g.jsxs("form",{onSubmit:x,className:"grid gap-3 md:grid-cols-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-semibold text-academic-muted uppercase mb-1",children:"Source"}),g.jsx("input",{list:"kg-node-catalog",value:r,onChange:S=>i(S.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-md text-sm focus:ring-2 focus:ring-primary-500 focus:outline-none",placeholder:"Start typing a node label or ID"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-semibold text-academic-muted uppercase mb-1",children:"Target"}),g.jsx("input",{list:"kg-node-catalog",value:l,onChange:S=>s(S.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-md text-sm focus:ring-2 focus:ring-primary-500 focus:outline-none",placeholder:"Start typing a node label or ID"})]}),g.jsx("datalist",{id:"kg-node-catalog",children:n.map(S=>g.jsx("option",{value:S.id,children:S.label},S.id))}),g.jsxs("div",{className:"md:col-span-2 flex items-center gap-3",children:[g.jsx("button",{type:"submit",disabled:c||!r||!l,className:"academic-button",children:c?"Tracing":"Find Path"}),v&&g.jsx("div",{className:"text-sm text-red-500",children:v}),u?.warnings&&g.jsx("div",{className:"text-xs text-amber-600",children:u.warnings.map((S,w)=>g.jsx("div",{children:S},w))})]})]}),u&&u.length>0&&g.jsxs("div",{className:"mt-4 border border-gray-200 rounded-lg divide-y divide-gray-200",children:[u.nodes.map((S,w)=>g.jsxs("div",{className:"p-3 bg-white",children:[g.jsxs("div",{className:"flex items-center justify-between text-sm",children:[g.jsxs("div",{className:"font-semibold text-academic-text",children:[w+1,". ",S.label]}),g.jsxs("div",{className:"text-xs text-academic-muted",children:[S.type,S.period?`  ${S.period}`:""]})]}),S.description&&g.jsx("div",{className:"text-xs text-academic-muted mt-1",children:S.description}),u.edges[w]&&g.jsxs("div",{className:"mt-2 text-xs text-primary-700",children:[" ",b9(u.edges[w].relation),"  ",u.edges[w].target]})]},S.id)),u.summary&&g.jsx("div",{className:"p-3 bg-primary-50 text-xs text-primary-700 font-medium",children:u.summary})]})]})}function b9(t){return t?t.replace(/_/g," ").toLowerCase():"related_to"}function w9(){return g.jsx(Y8,{children:g.jsx(S9,{})})}function S9(){const{state:t,updateSelection:e}=Hi(),[n,r]=W.useState("observatory"),[i,l]=W.useState(null),[s,u]=W.useState(!0),[d,c]=W.useState(null);W.useEffect(()=>{(async()=>{try{u(!0);const x=await Vr.getCytoscapeData();l(x)}catch(x){console.error("Failed to load Cytoscape data",x),c(x?.message||"Failed to load network visualization")}finally{u(!1)}})()},[]);const h=W.useMemo(()=>{if(!i)return null;const{nodeTypes:y,periods:x,schools:S,relations:w,searchTerm:E}=t.filters,T=(E||"").trim().toLowerCase(),k=new Map;i.elements.edges.forEach(L=>{const D=L.data.source??"",F=L.data.target??"";D&&k.set(D,(k.get(D)||0)+1),F&&k.set(F,(k.get(F)||0)+1)});const N=L=>{const D=L.data;return!(y.length&&D.type&&!y.includes(D.type)||x.length&&D.period&&!x.includes(D.period)||S.length&&D.school&&!S.includes(D.school)||T&&![D.label,D.description,D.summary,D.period,D.school].filter(Boolean).join(" ").toLowerCase().includes(T))},M=new Map(i.elements.nodes.map(L=>[L.data.id,L])),R=i.elements.nodes.filter(N);t.selection.nodes.forEach(L=>{if(!R.some(D=>D.data.id===L)){const D=M.get(L);D&&R.push(D)}});const A=new Set(w),O=new Set(R.map(L=>L.data.id)),B=i.elements.edges.filter(L=>{const D=L.data.relation??"",F=L.data.source??"",$=L.data.target??"";return A.size&&D&&!A.has(D)?!1:F&&$&&O.has(F)&&O.has($)});B.forEach(L=>{const D=L.data.source??"",F=L.data.target??"";D&&O.add(D),F&&O.add(F)});let P=i.elements.nodes.filter(L=>O.has(L.data.id));const q=200;if(P.length>q){P=P.slice().sort((F,$)=>{const H=(k.get($.data.id)||0)-(k.get(F.data.id)||0);return H!==0?H:(F.data.label||"").localeCompare($.data.label||"")}).slice(0,q);const L=new Set(P.map(F=>F.data.id)),D=B.filter(F=>{const $=F.data.source??"",H=F.data.target??"";return $&&H&&L.has($)&&L.has(H)});return{elements:{nodes:P,edges:D}}}return{elements:{nodes:P,edges:B}}},[i,t.filters,t.selection]),v=t.timeline?.totals,m=v?.byType||{};return g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"academic-card",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-xs uppercase text-academic-muted tracking-wide font-semibold",children:"Mode"}),g.jsxs("div",{className:"mt-1 flex overflow-hidden border border-gray-200 rounded-md",children:[g.jsx("button",{onClick:()=>r("observatory"),className:`px-4 py-2 text-sm font-medium transition-colors ${n==="observatory"?"bg-primary-600 text-white":"bg-white text-academic-text"}`,children:"Observatory"}),g.jsx("button",{onClick:()=>r("semativerse"),className:`px-4 py-2 text-sm font-medium transition-colors ${n==="semativerse"?"bg-primary-600 text-white":"bg-white text-academic-text"}`,children:"Semativerse"})]})]}),g.jsx("div",{className:"text-xs text-academic-muted max-w-sm text-right",children:"Observatory blends timeline, evidence flow, clusters, and matrix analytics with a focused Cytoscape view. Semativerse remains available for full 3D exploration when credentials are provided."})]})}),n==="semativerse"?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"academic-card bg-purple-50 border-purple-200",children:g.jsxs("p",{className:"text-sm text-academic-text",children:[g.jsx("strong",{children:"Semativerse"})," visualization is used with permission from its co-creators"," ",g.jsx("strong",{children:"Benjamin Mathias"})," and ",g.jsx("strong",{children:"Romain Girardi"}),". Contact the development team for access credentials."]})}),g.jsx("div",{className:"academic-card p-8 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-6xl mb-4",children:""}),g.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Semativerse Integration"}),g.jsx("p",{className:"text-academic-muted max-w-md",children:"Use Semativerse for 3D/VR exploration of the Ancient Free Will Database. Authentication is required."})]})})]}):g.jsxs(g.Fragment,{children:[g.jsx(K8,{totalNodes:v?.nodes||0,totalEdges:v?.edges||0,byType:m}),g.jsx(e9,{}),g.jsx(l9,{}),g.jsx(c9,{}),g.jsxs("div",{className:"grid gap-6 xl:grid-cols-[2fr,1fr]",children:[g.jsx(h9,{}),g.jsx(x9,{})]}),g.jsx(g9,{}),g.jsxs("div",{className:"academic-card",children:[g.jsx("h3",{className:"text-lg font-semibold text-academic-text mb-3",children:"Focused Network View"}),g.jsx("p",{className:"text-sm text-academic-muted mb-4",children:"The Cytoscape view mirrors the filters and selections across the observatory. Nodes are limited to the most connected entities within the current slice to keep the layout legible."}),d&&g.jsx("div",{className:"text-sm text-red-500 mb-4",children:d}),g.jsx("div",{className:"relative border border-gray-200 rounded-lg h-[600px] overflow-hidden",children:s?g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"spinner w-12 h-12 mx-auto mb-2"}),g.jsx("div",{className:"text-sm text-academic-muted",children:"Loading network..."})]})}):g.jsx(vP,{data:h,onNodeClick:y=>e({nodes:[y],focusNodeId:y}),onEdgeClick:()=>{},selectedNodeIds:t.selection.nodes,focusNodeId:t.selection.focusNodeId})})]})]})]})}function E9(){const[t,e]=W.useState(""),[n,r]=W.useState(!1),[i,l]=W.useState(null),[s,u]=W.useState(null),[d,c]=W.useState(!0),[h,v]=W.useState(!0),[m,y]=W.useState(!0),[x,S]=W.useState(10),[w,E]=W.useState("combined"),T=async N=>{if(N.preventDefault(),!t.trim()){u("Please enter a search query");return}try{r(!0),u(null);const M=await Vr.hybridSearch({query:t.trim(),limit:x,enable_fulltext:d,enable_lemmatic:h,enable_semantic:m});l(M)}catch(M){console.error("Search error:",M),u(M.message||"Search failed")}finally{r(!1)}},k=()=>{if(!i)return[];switch(w){case"combined":return i.combined_results;case"fulltext":return i.fulltext_results;case"lemmatic":return i.lemmatic_results;case"semantic":return i.semantic_results;default:return i.combined_results}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"academic-card",children:[g.jsx("h1",{className:"text-3xl font-serif font-bold mb-2",children:"Hybrid Search"}),g.jsx("p",{className:"text-academic-muted",children:"Search across 289 ancient texts using full-text, lemmatic, and semantic approaches"})]}),g.jsx("div",{className:"academic-card",children:g.jsxs("form",{onSubmit:T,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"query",className:"block text-sm font-medium mb-2",children:"Search Query"}),g.jsx("input",{type:"text",id:"query",value:t,onChange:N=>e(N.target.value),placeholder:"e.g., ' , liberum arbitrium, voluntary action...",className:"w-full px-4 py-2 border border-academic-border rounded focus:outline-none focus:ring-2 focus:ring-primary-500"}),g.jsx("p",{className:"text-xs text-academic-muted mt-1",children:"Supports Greek, Latin, and English terms"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Search Modes"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"flex items-center space-x-2",children:[g.jsx("input",{type:"checkbox",checked:d,onChange:N=>c(N.target.checked),className:"rounded"}),g.jsx("span",{className:"text-sm",children:"Full-text (PostgreSQL ts_rank)"})]}),g.jsxs("label",{className:"flex items-center space-x-2",children:[g.jsx("input",{type:"checkbox",checked:h,onChange:N=>v(N.target.checked),className:"rounded"}),g.jsx("span",{className:"text-sm",children:"Lemmatic (109 lemmatized texts)"})]}),g.jsxs("label",{className:"flex items-center space-x-2",children:[g.jsx("input",{type:"checkbox",checked:m,onChange:N=>y(N.target.checked),className:"rounded"}),g.jsx("span",{className:"text-sm",children:"Semantic (Qdrant vectors)"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"limit",className:"block text-sm font-medium mb-2",children:"Results Limit"}),g.jsxs("select",{id:"limit",value:x,onChange:N=>S(Number(N.target.value)),className:"w-full px-4 py-2 border border-academic-border rounded focus:outline-none focus:ring-2 focus:ring-primary-500",children:[g.jsx("option",{value:5,children:"5 results"}),g.jsx("option",{value:10,children:"10 results"}),g.jsx("option",{value:20,children:"20 results"}),g.jsx("option",{value:50,children:"50 results"})]})]})]}),g.jsx("button",{type:"submit",disabled:n||!t.trim(),className:"academic-button disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Searching...":"Search"})]})}),s&&g.jsx("div",{className:"academic-card bg-red-50 border-red-200 text-red-800",children:g.jsxs("p",{className:"font-medium",children:["Error: ",s]})}),i&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"academic-card",children:[g.jsxs("div",{className:"flex items-center space-x-4 border-b border-academic-border pb-2",children:[g.jsx(xd,{active:w==="combined",onClick:()=>E("combined"),label:"Combined (RRF)",count:i.combined_results.length}),g.jsx(xd,{active:w==="fulltext",onClick:()=>E("fulltext"),label:"Full-text",count:i.fulltext_results.length}),g.jsx(xd,{active:w==="lemmatic",onClick:()=>E("lemmatic"),label:"Lemmatic",count:i.lemmatic_results.length}),g.jsx(xd,{active:w==="semantic",onClick:()=>E("semantic"),label:"Semantic",count:i.semantic_results.length})]}),g.jsxs("div",{className:"mt-4 text-sm text-academic-muted",children:["Found ",g.jsx("strong",{className:"text-academic-text",children:i.total_found})," results"]})]}),g.jsx("div",{className:"space-y-4",children:k().length>0?k().map((N,M)=>g.jsx(C9,{result:N,index:M},N.id)):g.jsx("div",{className:"academic-card text-center py-12",children:g.jsx("p",{className:"text-academic-muted",children:"No results found for this search mode"})})})]}),!i&&!n&&g.jsxs("div",{className:"academic-card bg-primary-50 border-primary-200",children:[g.jsx("h3",{className:"font-semibold mb-2",children:"Search Tips"}),g.jsxs("ul",{className:"text-sm text-academic-text space-y-1 list-disc list-inside",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Greek text:"}),` Try "' ", "", ""`]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Latin text:"}),' Try "liberum arbitrium", "in nostra potestate", "voluntarium"']}),g.jsxs("li",{children:[g.jsx("strong",{children:"English:"}),' Try "voluntary action", "free will", "moral responsibility"']}),g.jsxs("li",{children:[g.jsx("strong",{children:"Hybrid search"})," combines all three modes using Reciprocal Rank Fusion (RRF)"]})]})]})]})}function xd({active:t,onClick:e,label:n,count:r}){return g.jsxs("button",{onClick:e,className:`px-4 py-2 text-sm font-medium rounded transition-colors ${t?"bg-primary-100 text-primary-700":"text-academic-muted hover:text-academic-text hover:bg-gray-50"}`,children:[n," ",g.jsxs("span",{className:"ml-1 text-xs",children:["(",r,")"]})]})}function C9({result:t,index:e}){return g.jsx("div",{className:"academic-card hover:shadow-md transition-shadow",children:g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"flex items-start space-x-3",children:[g.jsxs("span",{className:"flex-shrink-0 text-sm font-medium text-primary-600",children:["#",e+1]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"text-lg font-semibold text-academic-text mb-1",children:t.payload.title}),g.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-academic-muted mb-2",children:[g.jsxs("span",{children:[g.jsx("strong",{children:"Author:"})," ",t.payload.author]}),g.jsx("span",{children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:"Category:"})," ",t.payload.category]}),g.jsx("span",{children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:"Language:"})," ",t.payload.language]})]}),t.snippet&&g.jsx("div",{className:"text-sm text-academic-text bg-gray-50 border-l-4 border-primary-200 p-3 mt-2",dangerouslySetInnerHTML:{__html:t.snippet}}),g.jsxs("div",{className:"flex gap-4 mt-3 text-xs",children:[t.rrf_score!==void 0&&g.jsxs("span",{className:"text-primary-600 font-medium",children:["RRF Score: ",t.rrf_score.toFixed(4)]}),t.rank!==void 0&&g.jsxs("span",{className:"text-academic-muted",children:["Rank: ",t.rank.toFixed(4)]})]})]})]})}),g.jsx("button",{className:"academic-button-outline ml-4",children:"View Text"})]})})}function T9(){const[t,e]=W.useState([]),[n,r]=W.useState(""),[i,l]=W.useState(!1),[s,u]=W.useState(!1),[d,c]=W.useState(""),[h,v]=W.useState(""),[m,y]=W.useState(null),x=W.useRef(null),S=W.useRef(null),[w,E]=W.useState(10),[T,k]=W.useState(2),[N,M]=W.useState(15),[R,A]=W.useState(!0),[O,B]=W.useState(!1),[P,q]=W.useState(!1),[L,D]=W.useState(!1);W.useEffect(()=>{x.current?.scrollIntoView({behavior:"smooth"})},[t,d]);const F=async K=>{if(K.preventDefault(),!n.trim()||i||s)return;const ee={role:"user",content:n.trim(),timestamp:new Date};e(_=>[..._,ee]);const I=n.trim();r(""),y(null),R?await H(I):await $(I)},$=async K=>{l(!0);try{const ee=await Vr.graphragQuery({query:K,semantic_k:w,graph_depth:T,max_context:N}),I={role:"assistant",content:ee.answer,citations:ee.citations,reasoning_path:ee.reasoning_path,timestamp:new Date};e(_=>[..._,I])}catch(ee){console.error("GraphRAG error:",ee),y(ee.message||"Failed to get answer")}finally{l(!1)}},H=async K=>{u(!0),c(""),v("Initializing...");try{const ee=new URLSearchParams({query:K,semantic_k:w.toString(),graph_depth:T.toString(),max_context:N.toString()}),I=new EventSource(`https://eleutheria.onrender.com/api/graphrag/query/stream?${ee}`);S.current=I;let _="",X=null;I.onmessage=z=>{try{const ne=JSON.parse(z.data);switch(ne.type){case"status":v(ne.message||"Processing...");break;case"answer_chunk":_+=ne.data,c(_);break;case"complete":X=ne.data;break;case"error":y(ne.message||"Stream error");break}}catch(ne){console.error("Error parsing stream event:",ne)}},I.onerror=()=>{if(I.close(),X){const z={role:"assistant",content:X.answer,citations:X.citations,reasoning_path:X.reasoning_path,timestamp:new Date};e(ne=>[...ne,z])}else if(_){const z={role:"assistant",content:_,timestamp:new Date};e(ne=>[...ne,z])}u(!1),c(""),v("")}}catch(ee){console.error("Streaming error:",ee),y(ee.message||"Failed to stream answer"),u(!1)}},V=()=>{S.current&&(S.current.close(),S.current=null),u(!1),c(""),v("")};return g.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-3 gap-4 lg:gap-6 lg:h-[calc(100vh-180px)]",children:[g.jsxs("div",{className:"lg:col-span-2 flex flex-col lg:h-full",children:[g.jsx("div",{className:"academic-card mb-4",children:g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl sm:text-3xl font-serif font-bold mb-1 sm:mb-2",children:"GraphRAG Question Answering"}),g.jsx("p",{className:"text-sm sm:text-base text-academic-muted leading-relaxed",children:"Graph-based Retrieval-Augmented Generation combines vector search with knowledge graph traversal to provide scholarly answers grounded in primary sources and modern scholarship."})]}),g.jsx("button",{onClick:()=>B(!O),className:"academic-button-outline whitespace-nowrap self-start sm:self-auto",children:" Settings"})]})}),O&&g.jsxs("div",{className:"academic-card mb-4 bg-primary-50 border-primary-200",children:[g.jsx("h3",{className:"font-semibold mb-3",children:"Advanced Settings"}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Semantic K"}),g.jsx("input",{type:"number",value:w,onChange:K=>E(Number(K.target.value)),min:1,max:50,className:"w-full px-3 py-2 border border-academic-border rounded text-sm"}),g.jsx("p",{className:"text-xs text-academic-muted mt-1",children:"Starting nodes from search"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Graph Depth"}),g.jsx("input",{type:"number",value:T,onChange:K=>k(Number(K.target.value)),min:1,max:5,className:"w-full px-3 py-2 border border-academic-border rounded text-sm"}),g.jsx("p",{className:"text-xs text-academic-muted mt-1",children:"BFS traversal depth"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Context"}),g.jsx("input",{type:"number",value:N,onChange:K=>M(Number(K.target.value)),min:5,max:30,className:"w-full px-3 py-2 border border-academic-border rounded text-sm"}),g.jsx("p",{className:"text-xs text-academic-muted mt-1",children:"Nodes in LLM context"})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"flex items-center space-x-2",children:[g.jsx("input",{type:"checkbox",checked:R,onChange:K=>A(K.target.checked),className:"rounded"}),g.jsx("span",{className:"text-sm",children:"Enable Streaming"})]}),g.jsx("p",{className:"text-xs text-academic-muted mt-1",children:"Real-time progress updates"})]})]})]}),g.jsx("div",{className:"lg:hidden mb-4",children:g.jsxs("div",{className:"academic-card bg-gradient-to-br from-green-50 to-emerald-50 border-green-200",children:[g.jsxs("button",{onClick:()=>D(!L),className:"w-full flex items-center justify-between text-left hover:opacity-80 transition-opacity",children:[g.jsxs("h3",{className:"font-semibold text-base text-green-900 flex items-center gap-2",children:[g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Why It's Brilliant"]}),g.jsx("span",{className:"text-green-700 text-sm font-medium",children:L?" Hide":" Show"})]}),L&&g.jsx("div",{className:"mt-3 pt-3 border-t border-green-200"}),L&&g.jsx("div",{className:"text-xs space-y-2.5 max-h-96 overflow-y-auto",children:g.jsx(dE,{})})]})}),g.jsxs("div",{className:"flex-1 academic-card overflow-y-auto mb-4 p-3 sm:p-4 space-y-4 min-h-[300px] max-h-[600px] lg:max-h-none",children:[t.length===0&&!s&&g.jsxs("div",{className:"text-center py-8 sm:py-12",children:[g.jsx("div",{className:"text-5xl sm:text-6xl mb-3 sm:mb-4",children:""}),g.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-2",children:"Ask a Question"}),g.jsx("p",{className:"text-sm sm:text-base text-academic-muted mb-2 px-4 leading-relaxed",children:"GraphRAG retrieves relevant nodes from the knowledge graph, traverses their connections, and synthesizes scholarly answers with automatic citations."}),g.jsx("p",{className:"text-xs sm:text-sm text-academic-muted mb-3 sm:mb-4 px-4",children:g.jsx("strong",{children:"508 nodes  831 relationships  860+ sources"})}),g.jsxs("div",{className:"text-xs sm:text-sm text-academic-muted space-y-1 px-4",children:[g.jsx("p",{className:"font-medium mb-1",children:"Example questions:"}),g.jsx("p",{className:"italic",children:`"What is Aristotle's concept of voluntary action?"`}),g.jsx("p",{className:"italic",children:'"How did the Stoics reconcile fate with moral responsibility?"'}),g.jsx("p",{className:"italic",children:'"What arguments did Carneades use against Stoic determinism?"'}),g.jsx("p",{className:"italic",children:`"How does Augustine's view of grace relate to free will?"`})]})]}),t.map((K,ee)=>g.jsx(k9,{message:K},ee)),s&&g.jsxs("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-3 sm:p-4",children:[g.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[g.jsx("div",{className:"spinner w-4 h-4 flex-shrink-0"}),g.jsx("span",{className:"text-xs sm:text-sm text-primary-700 font-medium break-words",children:h})]}),d&&g.jsx("div",{className:"markdown-content prose prose-sm max-w-none overflow-x-auto",children:g.jsx(rf,{children:d})})]}),m&&g.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 sm:p-4 text-red-800",children:g.jsxs("p",{className:"font-medium text-sm sm:text-base break-words",children:["Error: ",m]})}),g.jsx("div",{ref:x})]}),g.jsx("form",{onSubmit:F,className:"academic-card",children:g.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[g.jsx("input",{type:"text",value:n,onChange:K=>r(K.target.value),placeholder:"Ask a question about ancient free will debates...",disabled:i||s,className:"flex-1 px-3 sm:px-4 py-2 border border-academic-border rounded focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 text-sm sm:text-base"}),s?g.jsx("button",{type:"button",onClick:V,className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 font-medium whitespace-nowrap",children:"Stop"}):g.jsx("button",{type:"submit",disabled:i||!n.trim(),className:"academic-button disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:i?"Thinking...":"Ask"})]})})]}),g.jsxs("div",{className:"hidden lg:block lg:col-span-1 space-y-4 h-full overflow-y-auto",children:[g.jsxs("div",{className:"academic-card bg-gradient-to-br from-blue-50 to-indigo-50 border-primary-200",children:[g.jsxs("button",{onClick:()=>q(!P),className:"w-full flex items-center justify-between text-left hover:opacity-80 transition-opacity",children:[g.jsxs("h3",{className:"font-semibold text-base text-primary-900 flex items-center gap-2",children:[g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"How GraphRAG Works"]}),g.jsx("span",{className:"text-primary-700 text-sm font-medium",children:P?" Hide":" Show"})]}),P&&g.jsx("div",{className:"mt-3 pt-3 border-t border-primary-200"}),P&&g.jsxs("div",{className:"text-xs space-y-2.5 max-h-96 overflow-y-auto pr-2",children:[g.jsxs("div",{className:"bg-white/80 rounded-lg p-2.5 border border-blue-100",children:[g.jsx("div",{className:"font-semibold text-primary-800 mb-1.5",children:"1. Vector Search"}),g.jsx("p",{className:"text-academic-muted leading-relaxed text-xs",children:"Your query is embedded using Gemini and compared against 508 KG node embeddings in Qdrant to find semantically relevant starting points."})]}),g.jsxs("div",{className:"bg-white/80 rounded-lg p-2.5 border border-blue-100",children:[g.jsx("div",{className:"font-semibold text-primary-800 mb-1.5",children:"2. Graph Expansion"}),g.jsx("p",{className:"text-academic-muted leading-relaxed text-xs",children:"Breadth-first search traverses relationships (authored, influenced, refutes) to gather connected nodes, creating rich contextual networks."})]}),g.jsxs("div",{className:"bg-white/80 rounded-lg p-2.5 border border-blue-100",children:[g.jsx("div",{className:"font-semibold text-primary-800 mb-1.5",children:"3. Context Building"}),g.jsx("p",{className:"text-academic-muted leading-relaxed text-xs",children:"Ancient sources and modern scholarship are extracted from retrieved nodes, prioritized by node type (persons, arguments, concepts)."})]}),g.jsxs("div",{className:"bg-white/80 rounded-lg p-2.5 border border-blue-100",children:[g.jsx("div",{className:"font-semibold text-primary-800 mb-1.5",children:"4. LLM Synthesis"}),g.jsx("p",{className:"text-academic-muted leading-relaxed text-xs",children:"An LLM generates a scholarly answer grounded exclusively in the retrieved Knowledge Graph context, with strict citation requirements."})]})]})]}),g.jsxs("div",{className:"academic-card bg-gradient-to-br from-green-50 to-emerald-50 border-green-200",children:[g.jsxs("button",{onClick:()=>D(!L),className:"w-full flex items-center justify-between text-left hover:opacity-80 transition-opacity",children:[g.jsxs("h3",{className:"font-semibold text-base text-green-900 flex items-center gap-2",children:[g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Why It's Brilliant"]}),g.jsx("span",{className:"text-green-700 text-sm font-medium",children:L?" Hide":" Show"})]}),L&&g.jsx("div",{className:"mt-3 pt-3 border-t border-green-200"}),L&&g.jsx("div",{className:"text-xs space-y-2.5 max-h-96 overflow-y-auto pr-2",children:g.jsx(dE,{})})]}),t.length>0&&t[t.length-1].role==="assistant"&&g.jsxs("div",{className:"academic-card",children:[g.jsx("h3",{className:"font-semibold mb-3 text-base",children:"Last Response"}),t[t.length-1].citations&&g.jsxs("div",{className:"space-y-2 text-xs sm:text-sm",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"font-medium",children:"Ancient Sources:"}),g.jsx("span",{className:"text-primary-600 font-semibold",children:t[t.length-1].citations.ancient_sources.length})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"font-medium",children:"Modern Scholarship:"}),g.jsx("span",{className:"text-primary-600 font-semibold",children:t[t.length-1].citations.modern_scholarship.length})]}),t[t.length-1].reasoning_path&&g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"font-medium",children:"Nodes Used:"}),g.jsx("span",{className:"text-primary-600 font-semibold",children:t[t.length-1].reasoning_path.total_nodes})]})]})]})]})]})}function dE(){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"bg-white/80 rounded-lg p-2.5 border border-green-100",children:[g.jsx("div",{className:"font-semibold text-green-800 mb-1.5",children:"Discovers Hidden Relationships"}),g.jsxs("p",{className:"text-academic-muted leading-relaxed mb-1.5 text-xs",children:[g.jsx("strong",{children:"Traditional search:"}),` "Augustine free will"  finds Augustine's writings.`]}),g.jsxs("p",{className:"text-academic-muted leading-relaxed mb-1.5 text-xs",children:[g.jsx("strong",{children:"GraphRAG:"})," Finds Augustine  traverses to Pelagius (opponent)  discovers the Pelagian Controversy  connects to earlier Stoic concepts Augustine adapted  reveals the complete debate context."]}),g.jsx("p",{className:"text-green-700 text-xs font-medium italic",children:" You understand Augustine's position through his intellectual battles and sources."})]}),g.jsxs("div",{className:"bg-white/80 rounded-lg p-2.5 border border-green-100",children:[g.jsx("div",{className:"font-semibold text-green-800 mb-1.5",children:"Provides Rich Historical Context"}),g.jsxs("p",{className:"text-academic-muted leading-relaxed mb-1.5 text-xs",children:[g.jsx("strong",{children:"Simple RAG:"}),` Retrieves isolated text chunks about "' " (in our power).`]}),g.jsxs("p",{className:"text-academic-muted leading-relaxed mb-1.5 text-xs",children:[g.jsx("strong",{children:"GraphRAG:"}),' Shows how the concept evolved from Aristotle (4th c. BCE)  adopted by Stoics  critiqued by Carneades  reformulated by Epictetus  transmitted to Latin as "in nostra potestate"  influenced Christian theology.']}),g.jsx("p",{className:"text-green-700 text-xs font-medium italic",children:" You see the intellectual genealogy spanning 800 years."})]}),g.jsxs("div",{className:"bg-white/80 rounded-lg p-2.5 border border-green-100",children:[g.jsx("div",{className:"font-semibold text-green-800 mb-1.5",children:"Maps Complete Argument Networks"}),g.jsxs("p",{className:"text-academic-muted leading-relaxed mb-1.5 text-xs",children:[g.jsx("strong",{children:"Keyword search:"}),' "Chrysippus determinism"  scattered mentions.']}),g.jsxs("p",{className:"text-academic-muted leading-relaxed mb-1.5 text-xs",children:[g.jsx("strong",{children:"GraphRAG:"}),` Retrieves Chrysippus's arguments  follows "refutes" edges to Carneades's counter-arguments  finds Cicero's synthesis  discovers later Neoplatonic responses  extracts all cited sources.`]}),g.jsx("p",{className:"text-green-700 text-xs font-medium italic",children:" You get the full dialectical landscape, not isolated opinions."})]}),g.jsxs("div",{className:"bg-white/80 rounded-lg p-2.5 border border-green-100",children:[g.jsx("div",{className:"font-semibold text-green-800 mb-1.5",children:"Grounds Every Claim in Sources"}),g.jsxs("p",{className:"text-academic-muted leading-relaxed mb-1.5 text-xs",children:[g.jsx("strong",{children:"Standard LLM:"}),' Might hallucinate "Plato discussed compatibilism in Republic X."']}),g.jsxs("p",{className:"text-academic-muted leading-relaxed mb-1.5 text-xs",children:[g.jsx("strong",{children:"GraphRAG:"}),' Only uses information from retrieved nodes. Automatically extracts ancient sources (e.g., "Aristotle, ',g.jsx("em",{children:"EN"}),' III.1, 1110a1-4") and modern scholarship (e.g., "Bobzien 1998, Frede 2011") from node metadata.']}),g.jsx("p",{className:"text-green-700 text-xs font-medium italic",children:" Verifiable, academically rigorous answers you can cite in your own research."})]}),g.jsxs("div",{className:"bg-white/80 rounded-lg p-2.5 border border-green-100",children:[g.jsx("div",{className:"font-semibold text-green-800 mb-1.5",children:"Enables Multi-Hop Reasoning"}),g.jsxs("p",{className:"text-academic-muted leading-relaxed mb-1.5 text-xs",children:[g.jsx("strong",{children:"Question:"}),' "How did Aristotelian ethics influence Christian theology?"']}),g.jsxs("p",{className:"text-academic-muted leading-relaxed mb-1.5 text-xs",children:[g.jsx("strong",{children:"GraphRAG path:"}),` Aristotle  "influenced"  Alexander of Aphrodisias  "transmitted_by"  Arabic commentators  "influenced"  Thomas Aquinas  "synthesized_with"  Augustine's theology.`]}),g.jsx("p",{className:"text-green-700 text-xs font-medium italic",children:" Traces intellectual transmission across cultures and centuries in a single query."})]})]})}function k9({message:t}){const[e,n]=W.useState(!1);return g.jsx("div",{className:`${t.role==="user"?"ml-auto max-w-[95%] sm:max-w-2xl":"mr-auto max-w-[98%] sm:max-w-3xl"}`,children:g.jsxs("div",{className:`rounded-lg p-3 sm:p-4 ${t.role==="user"?"bg-primary-600 text-white":"bg-academic-paper border border-academic-border"}`,children:[t.role==="user"?g.jsx("p",{className:"text-sm sm:text-base break-words",children:t.content}):g.jsxs("div",{className:"space-y-3",children:[g.jsx("div",{className:"markdown-content prose prose-sm max-w-none overflow-x-auto",children:g.jsx(rf,{children:t.content})}),t.citations&&g.jsxs("div",{className:"border-t border-academic-border pt-3",children:[g.jsxs("button",{onClick:()=>n(!e),className:"text-xs sm:text-sm font-medium text-primary-600 hover:text-primary-700",children:[e?"":""," View Citations (",t.citations.ancient_sources.length+t.citations.modern_scholarship.length,")"]}),e&&g.jsxs("div",{className:"mt-3 space-y-3 text-xs sm:text-sm",children:[t.citations.ancient_sources.length>0&&g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold mb-2",children:"Ancient Sources:"}),g.jsxs("ul",{className:"list-disc list-inside space-y-1 text-academic-muted pl-2",children:[t.citations.ancient_sources.slice(0,5).map((r,i)=>g.jsx("li",{className:"citation break-words",children:r},i)),t.citations.ancient_sources.length>5&&g.jsxs("li",{className:"text-xs",children:["...and ",t.citations.ancient_sources.length-5," more"]})]})]}),t.citations.modern_scholarship.length>0&&g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold mb-2",children:"Modern Scholarship:"}),g.jsxs("ul",{className:"list-disc list-inside space-y-1 text-academic-muted pl-2",children:[t.citations.modern_scholarship.slice(0,3).map((r,i)=>g.jsx("li",{className:"citation break-words",children:r},i)),t.citations.modern_scholarship.length>3&&g.jsxs("li",{className:"text-xs",children:["...and ",t.citations.modern_scholarship.length-3," more"]})]})]})]})]})]}),g.jsx("div",{className:"text-xs mt-2 opacity-70",children:t.timestamp.toLocaleTimeString()})]})})}function N9(){const[t,e]=W.useState([]),[n,r]=W.useState(!0),[i,l]=W.useState(null),[s,u]=W.useState(null),[d,c]=W.useState(""),[h,v]=W.useState(""),[m,y]=W.useState(""),[x,S]=W.useState(0),[w]=W.useState(100),[E,T]=W.useState(0),[k,N]=W.useState(null),[M,R]=W.useState(!1);W.useEffect(()=>{A(),O()},[d,h,m,x]);const A=async()=>{try{r(!0),l(null);const D={offset:x,limit:w};d&&(D.category=d),h&&(D.author=h),m&&(D.language=m);const F=await Vr.listTexts(D);e(F.texts||F),T(F.total||F.length)}catch(D){console.error("Error loading texts:",D),l(D.message||"Failed to load texts")}finally{r(!1)}},O=async()=>{try{const D=await Vr.getTextStats();u(D)}catch(D){console.error("Error loading stats:",D)}},B=async D=>{try{R(!0);const F=await Vr.getText(D);N(F)}catch(F){console.error("Error loading text detail:",F),l(F.message||"Failed to load text details")}finally{R(!1)}},P=()=>{c(""),v(""),y(""),S(0)},q=()=>{x+w<E&&S(x+w)},L=()=>{x>=w&&S(x-w)};return g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"academic-card",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-serif font-bold mb-2",children:"Ancient Texts Explorer"}),g.jsxs("p",{className:"text-academic-muted",children:["Browse and search ",E||289," ancient philosophical texts"]})]}),s&&g.jsxs("div",{className:"flex space-x-6 text-center",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-2xl font-bold text-primary-600",children:s.total_texts||289}),g.jsx("div",{className:"text-sm text-academic-muted",children:"Total Texts"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-2xl font-bold text-primary-600",children:s.lemmatized_count||109}),g.jsx("div",{className:"text-sm text-academic-muted",children:"Lemmatized"})]})]})]})}),g.jsxs("div",{className:"academic-card",children:[g.jsx("h3",{className:"font-semibold mb-3",children:"Filter Texts"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),g.jsxs("select",{value:d,onChange:D=>{c(D.target.value),S(0)},className:"w-full px-3 py-2 border border-academic-border rounded focus:outline-none focus:ring-2 focus:ring-primary-500",children:[g.jsx("option",{value:"",children:"All Categories"}),g.jsx("option",{value:"New Testament",children:"New Testament"}),g.jsx("option",{value:"Origen",children:"Origen"}),g.jsx("option",{value:"Tertullian",children:"Tertullian"}),g.jsx("option",{value:"Original Works",children:"Original Works"}),g.jsx("option",{value:"Augustine",children:"Augustine"}),g.jsx("option",{value:"Chrysostom",children:"Chrysostom"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Author"}),g.jsx("input",{type:"text",value:h,onChange:D=>{v(D.target.value),S(0)},placeholder:"e.g., Aristotle, Paul...",className:"w-full px-3 py-2 border border-academic-border rounded focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Language"}),g.jsxs("select",{value:m,onChange:D=>{y(D.target.value),S(0)},className:"w-full px-3 py-2 border border-academic-border rounded focus:outline-none focus:ring-2 focus:ring-primary-500",children:[g.jsx("option",{value:"",children:"All Languages"}),g.jsx("option",{value:"Greek",children:"Greek"}),g.jsx("option",{value:"Latin",children:"Latin"}),g.jsx("option",{value:"English",children:"English"})]})]}),g.jsx("div",{className:"flex items-end",children:g.jsx("button",{onClick:P,className:"academic-button-outline w-full",children:"Reset Filters"})})]})]}),i&&g.jsx("div",{className:"academic-card bg-red-50 border-red-200 text-red-800",children:g.jsxs("p",{className:"font-medium",children:["Error: ",i]})}),n?g.jsxs("div",{className:"academic-card text-center py-12",children:[g.jsx("div",{className:"spinner w-16 h-16 mx-auto mb-4"}),g.jsx("p",{className:"text-academic-muted",children:"Loading texts..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"academic-card",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("p",{className:"text-sm text-academic-muted",children:["Showing ",x+1," - ",Math.min(x+w,E)," of ",E," texts"]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:L,disabled:x===0,className:"academic-button-outline disabled:opacity-50 disabled:cursor-not-allowed",children:" Previous"}),g.jsx("button",{onClick:q,disabled:x+w>=E,className:"academic-button-outline disabled:opacity-50 disabled:cursor-not-allowed",children:"Next "})]})]})}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(D=>g.jsx(A9,{text:D,onClick:()=>B(D.id)},D.id))}),t.length===0&&g.jsx("div",{className:"academic-card text-center py-12",children:g.jsx("p",{className:"text-academic-muted",children:"No texts found with current filters"})})]}),k&&g.jsx(R9,{text:k,loading:M,onClose:()=>N(null)})]})}function A9({text:t,onClick:e}){return g.jsxs("div",{onClick:e,className:"academic-card hover:shadow-md transition-shadow cursor-pointer",children:[g.jsx("h3",{className:"text-lg font-semibold mb-2 line-clamp-2",children:t.title}),g.jsxs("div",{className:"space-y-1 text-sm text-academic-muted mb-3",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Author:"})," ",t.author]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Category:"})," ",t.category]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Language:"})," ",t.language]}),t.lemmatized&&g.jsx("div",{className:"inline-block bg-primary-100 text-primary-700 px-2 py-1 rounded text-xs font-medium",children:"Lemmatized"})]}),t.excerpt&&g.jsx("p",{className:"text-sm text-academic-text line-clamp-3",children:t.excerpt})]})}function R9({text:t,loading:e,onClose:n}){return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:g.jsxs("div",{className:"bg-academic-paper rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[g.jsx("div",{className:"border-b border-academic-border p-6",children:g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-serif font-bold mb-2",children:t.title}),g.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-academic-muted",children:[g.jsxs("span",{children:[g.jsx("strong",{children:"Author:"})," ",t.author]}),g.jsx("span",{children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:"Category:"})," ",t.category]}),g.jsx("span",{children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:"Language:"})," ",t.language]})]})]}),g.jsx("button",{onClick:n,className:"text-academic-muted hover:text-academic-text text-2xl",children:""})]})}),g.jsx("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 180px)"},children:e?g.jsxs("div",{className:"text-center py-12",children:[g.jsx("div",{className:"spinner w-12 h-12 mx-auto mb-4"}),g.jsx("p",{className:"text-academic-muted",children:"Loading text..."})]}):g.jsxs("div",{className:"space-y-4",children:[t.source&&g.jsxs("div",{className:"bg-primary-50 border border-primary-200 rounded p-4",children:[g.jsx("h3",{className:"font-semibold mb-2",children:"Source"}),g.jsx("p",{className:"text-sm",children:t.source})]}),t.raw_text&&g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold mb-2",children:"Text"}),g.jsxs("div",{className:`text-academic-text leading-relaxed whitespace-pre-wrap ${t.language==="Greek"?"greek-text":t.language==="Latin"?"latin-text":""}`,children:[t.raw_text.substring(0,5e3),t.raw_text.length>5e3&&g.jsx("span",{className:"text-academic-muted italic",children:" ... (truncated)"})]})]}),t.lemmas&&t.lemmas.length>0&&g.jsxs("div",{children:[g.jsxs("h3",{className:"font-semibold mb-2",children:["Lemmas (",t.lemmas.length,")"]}),g.jsx("div",{className:"bg-gray-50 border border-academic-border rounded p-4 max-h-64 overflow-y-auto",children:g.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.lemmas.slice(0,100).map((r,i)=>g.jsx("span",{className:"inline-block bg-white border border-academic-border px-2 py-1 rounded text-sm",children:r},i)),t.lemmas.length>100&&g.jsxs("span",{className:"text-xs text-academic-muted self-center",children:["...and ",t.lemmas.length-100," more"]})]})})]})]})}),g.jsx("div",{className:"border-t border-academic-border p-4 flex justify-end",children:g.jsx("button",{onClick:n,className:"academic-button",children:"Close"})})]})})}function j9(){const[t,e]=W.useState({}),[n,r]=W.useState(new Set);W.useEffect(()=>{fetch("/api/knowledge-graph/nodes").then(l=>l.json()).then(l=>{const s={};l.forEach(u=>{const d=u.type||"unknown";s[d]||(s[d]=[]),s[d].push(u.label||"Unnamed")}),Object.keys(s).forEach(u=>{s[u].sort((d,c)=>d.toLowerCase().localeCompare(c.toLowerCase()))}),e(s)}).catch(l=>{console.error("Error loading node type data:",l)})},[]);const i=l=>{const s=new Set(n);s.has(l)?s.delete(l):s.add(l),r(s)};return g.jsxs("div",{className:"space-y-8",children:[g.jsx("section",{className:"academic-card",children:g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx(j1,{className:"w-12 h-12 text-primary-600 flex-shrink-0 mt-1"}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-serif font-bold mb-3",children:"Database Sources"}),g.jsx("p",{className:"text-lg text-academic-muted leading-relaxed",children:"EleutherIA integrates three complementary data sources: a curated knowledge graph, a comprehensive corpus of ancient texts, and an extensive bibliography of modern scholarship. All sources are FAIR-compliant and available under CC BY 4.0."})]})]})}),g.jsxs("section",{className:"academic-card",children:[g.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[g.jsx(au,{className:"w-8 h-8 text-primary-600 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-serif font-bold mb-2",children:"Primary Corpus: Ancient Texts"}),g.jsx("p",{className:"text-academic-muted leading-relaxed",children:"Complete collection of Greek and Latin philosophical texts from the 4th century BCE to the 6th century CE"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[g.jsx(wi,{number:"289",label:"Ancient Texts",icon:g.jsx(qd,{className:"w-5 h-5"})}),g.jsx(wi,{number:"109",label:"Lemmatized Texts",icon:g.jsx(qg,{className:"w-5 h-5"})}),g.jsx(wi,{number:"2",label:"Languages",sublabel:"Greek & Latin",icon:g.jsx(au,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"bg-academic-bg rounded-lg p-6",children:[g.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Features & Capabilities"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(Si,{title:"Full-Text Search",description:"PostgreSQL full-text search (ts_rank) across all 289 texts with ranking and relevance scoring"}),g.jsx(Si,{title:"Lemmatic Search",description:"Morphological analysis on 109 texts enables search by dictionary form, capturing all inflections"}),g.jsx(Si,{title:"Complete Texts",description:"Full original texts preserved with proper encoding for Greek (polytonic) and Latin characters"}),g.jsx(Si,{title:"Structured Metadata",description:"Author, title, date, language, text type, and canonical citations for each text"})]}),g.jsxs("div",{className:"mt-6 pt-6 border-t border-academic-border",children:[g.jsx("h4",{className:"font-semibold mb-3",children:"Text Coverage by Period"}),g.jsxs("div",{className:"space-y-2 text-sm",children:[g.jsx(bd,{period:"Classical Greek (5th-4th c. BCE)",percentage:15}),g.jsx(bd,{period:"Hellenistic Greek (3rd-1st c. BCE)",percentage:25}),g.jsx(bd,{period:"Roman Imperial (1st-3rd c. CE)",percentage:30}),g.jsx(bd,{period:"Patristic & Late Antiquity (2nd-6th c. CE)",percentage:30})]})]})]}),g.jsx("div",{className:"mt-6 p-4 bg-primary-50 border border-primary-200 rounded-lg",children:g.jsxs("p",{className:"text-sm text-academic-text",children:[g.jsx("span",{className:"font-semibold",children:"Access:"})," All ancient texts are available through the"," ",g.jsx("a",{href:"/texts",className:"text-primary-600 hover:underline font-medium",children:"Ancient Texts"})," browser and searchable via the"," ",g.jsx("a",{href:"/search",className:"text-primary-600 hover:underline font-medium",children:"Hybrid Search"})," interface."]})})]}),g.jsxs("section",{className:"academic-card",children:[g.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[g.jsx(Ko,{className:"w-8 h-8 text-primary-600 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-serif font-bold mb-2",children:"Knowledge Graph"}),g.jsx("p",{className:"text-academic-muted leading-relaxed",children:"Structured semantic network documenting philosophical debates, arguments, and conceptual developments"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[g.jsx(wi,{number:"505",label:"Nodes",sublabel:"Entities & Concepts",icon:g.jsx(Ko,{className:"w-5 h-5"})}),g.jsx(wi,{number:"870",label:"Edges",sublabel:"Relationships",icon:g.jsx(Ko,{className:"w-5 h-5"})}),g.jsx(wi,{number:"13",label:"Node Types",icon:g.jsx(j1,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"bg-academic-bg rounded-lg p-6",children:[g.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Node Types Distribution"}),g.jsx("p",{className:"text-sm text-academic-muted mb-4",children:"Click on any node type to view all items in alphabetical order"}),g.jsxs("div",{className:"space-y-3",children:[g.jsx(Nr,{type:"Persons",typeKey:"person",count:156,description:"Philosophers, theologians, authors",items:t.person||[],expanded:n.has("person"),onToggle:()=>i("person")}),g.jsx(Nr,{type:"Arguments",typeKey:"argument",count:117,description:"Specific philosophical arguments",items:t.argument||[],expanded:n.has("argument"),onToggle:()=>i("argument")}),g.jsx(Nr,{type:"Concepts",typeKey:"concept",count:87,description:"Key philosophical terms and ideas",items:t.concept||[],expanded:n.has("concept"),onToggle:()=>i("concept")}),g.jsx(Nr,{type:"Works",typeKey:"work",count:51,description:"Treatises, dialogues, letters",items:t.work||[],expanded:n.has("work"),onToggle:()=>i("work")}),g.jsx(Nr,{type:"Reformulations",typeKey:"reformulation",count:53,description:"Conceptual redefinitions",items:t.reformulation||[],expanded:n.has("reformulation"),onToggle:()=>i("reformulation")}),g.jsx(Nr,{type:"Quotes",typeKey:"quote",count:14,description:"Textual quotations from ancient sources",items:t.quote||[],expanded:n.has("quote"),onToggle:()=>i("quote")}),g.jsx(Nr,{type:"Debates",typeKey:"debate",count:12,description:"Philosophical debates and controversies",items:t.debate||[],expanded:n.has("debate"),onToggle:()=>i("debate")}),g.jsx(Nr,{type:"Controversies",typeKey:"controversy",count:5,description:"Major intellectual controversies",items:t.controversy||[],expanded:n.has("controversy"),onToggle:()=>i("controversy")}),g.jsx(Nr,{type:"Groups",typeKey:"group",count:3,description:"Philosophical schools and groups",items:t.group||[],expanded:n.has("group"),onToggle:()=>i("group")}),g.jsx(Nr,{type:"Conceptual Evolutions",typeKey:"conceptual_evolution",count:3,description:"Evolutionary developments of concepts",items:t.conceptual_evolution||[],expanded:n.has("conceptual_evolution"),onToggle:()=>i("conceptual_evolution")}),g.jsx(Nr,{type:"Events",typeKey:"event",count:2,description:"Historical philosophical events",items:t.event||[],expanded:n.has("event"),onToggle:()=>i("event")}),g.jsx(Nr,{type:"Argument Framework",typeKey:"argument_framework",count:1,description:"Systematic argument frameworks",items:t.argument_framework||[],expanded:n.has("argument_framework"),onToggle:()=>i("argument_framework")}),g.jsx(Nr,{type:"School",typeKey:"school",count:1,description:"Philosophical school",items:t.school||[],expanded:n.has("school"),onToggle:()=>i("school")})]}),g.jsxs("div",{className:"mt-6 pt-6 border-t border-academic-border",children:[g.jsx("h4",{className:"font-semibold mb-3",children:"Relationship Types"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-medium text-primary-600 mb-2",children:"Authorship & Creation"}),g.jsx("ul",{className:"space-y-1 text-academic-muted",children:g.jsx("li",{children:" formulated, authored, developed"})})]}),g.jsxs("div",{children:[g.jsx("div",{className:"font-medium text-primary-600 mb-2",children:"Intellectual Influence"}),g.jsx("ul",{className:"space-y-1 text-academic-muted",children:g.jsx("li",{children:" influenced, transmitted, adapted"})})]}),g.jsxs("div",{children:[g.jsx("div",{className:"font-medium text-primary-600 mb-2",children:"Dialectical Relations"}),g.jsx("ul",{className:"space-y-1 text-academic-muted",children:g.jsx("li",{children:" refutes, supports, opposes, targets"})})]})]})]})]}),g.jsx("div",{className:"mt-6 p-4 bg-primary-50 border border-primary-200 rounded-lg",children:g.jsxs("p",{className:"text-sm text-academic-text",children:[g.jsx("span",{className:"font-semibold",children:"Visualization:"})," Explore the knowledge graph interactively through the"," ",g.jsx("a",{href:"/visualizer",className:"text-primary-600 hover:underline font-medium",children:"Knowledge Graph Visualizer"})," ","or query it semantically via"," ",g.jsx("a",{href:"/graphrag",className:"text-primary-600 hover:underline font-medium",children:"GraphRAG Q&A"}),"."]})})]}),g.jsxs("section",{className:"academic-card",children:[g.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[g.jsx(iu,{className:"w-8 h-8 text-primary-600 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-serif font-bold mb-2",children:"Modern Scholarship"}),g.jsx("p",{className:"text-academic-muted leading-relaxed",children:"Comprehensive bibliography of secondary literature supporting knowledge graph annotations"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[g.jsx(wi,{number:"860+",label:"Bibliography References",icon:g.jsx(iu,{className:"w-5 h-5"})}),g.jsx(wi,{number:"91.8%",label:"Citation Coverage",sublabel:"Critical nodes cited",icon:g.jsx(qd,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"bg-academic-bg rounded-lg p-6",children:[g.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Scholarly Sources"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(Si,{title:"Monographs & Edited Volumes",description:"Specialized studies on ancient philosophy, ethics, and intellectual history"}),g.jsx(Si,{title:"Journal Articles",description:"Peer-reviewed research from leading philosophy and classics journals"}),g.jsx(Si,{title:"Reference Works",description:"Stanford Encyclopedia of Philosophy, Cambridge Companions, and authoritative handbooks"}),g.jsx(Si,{title:"Critical Editions",description:"Modern editions with commentaries of ancient texts (OCT, Teubner, Bud, Loeb)"})]}),g.jsxs("div",{className:"mt-6 pt-6 border-t border-academic-border",children:[g.jsx("h4",{className:"font-semibold mb-3",children:"Citation Format"}),g.jsxs("div",{className:"space-y-3 text-sm",children:[g.jsxs("div",{className:"bg-white p-3 rounded border border-academic-border",children:[g.jsx("div",{className:"font-mono text-xs text-academic-muted mb-1",children:"Ancient Sources:"}),g.jsxs("div",{className:"text-academic-text",children:['"Aristotle, ',g.jsx("span",{className:"italic",children:"Nicomachean Ethics"}),' III.1-5, 1109b30-1115a3"']})]}),g.jsxs("div",{className:"bg-white p-3 rounded border border-academic-border",children:[g.jsx("div",{className:"font-mono text-xs text-academic-muted mb-1",children:"Modern Scholarship:"}),g.jsxs("div",{className:"text-academic-text",children:['"Bobzien, Susanne. ',g.jsx("span",{className:"italic",children:"Determinism and Freedom in Stoic Philosophy"}),'. Oxford: Clarendon Press, 1998, pp. 234-267."']})]})]})]})]}),g.jsx("div",{className:"mt-6 p-4 bg-primary-50 border border-primary-200 rounded-lg",children:g.jsxs("p",{className:"text-sm text-academic-text",children:[g.jsx("span",{className:"font-semibold",children:"Access:"})," View the complete bibliography at"," ",g.jsx("a",{href:"/bibliography",className:"text-primary-600 hover:underline font-medium",children:"Bibliography"})," page."]})})]}),g.jsxs("section",{className:"academic-card bg-academic-bg",children:[g.jsx("h2",{className:"text-2xl font-serif font-bold mb-6",children:"FAIR Compliance & Data Standards"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-primary-600 mb-3",children:"Findable"}),g.jsxs("ul",{className:"space-y-2 text-sm text-academic-text",children:[g.jsx("li",{children:" Unique persistent identifiers for all nodes"}),g.jsx("li",{children:" Rich metadata with controlled vocabularies"}),g.jsxs("li",{children:[" DOI: ",g.jsx("a",{href:"https://doi.org/10.5281/zenodo.17379490",className:"text-primary-600 hover:underline",children:"10.5281/zenodo.17379490"})]})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-primary-600 mb-3",children:"Accessible"}),g.jsxs("ul",{className:"space-y-2 text-sm text-academic-text",children:[g.jsx("li",{children:" Open JSON format (13 MB)"}),g.jsx("li",{children:" RESTful API with full documentation"}),g.jsx("li",{children:" CC BY 4.0 license"})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-primary-600 mb-3",children:"Interoperable"}),g.jsxs("ul",{className:"space-y-2 text-sm text-academic-text",children:[g.jsx("li",{children:" JSON Schema validation (Draft 07)"}),g.jsx("li",{children:" Standard philosophical taxonomies"}),g.jsx("li",{children:" Compatible with Cytoscape, Gephi, Neo4j"})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-primary-600 mb-3",children:"Reusable"}),g.jsxs("ul",{className:"space-y-2 text-sm text-academic-text",children:[g.jsx("li",{children:" Complete provenance documentation"}),g.jsx("li",{children:" Semantic versioning (v1.0.0)"}),g.jsx("li",{children:" Extensive examples and documentation"})]})]})]})]}),g.jsxs("section",{className:"academic-card",children:[g.jsx("h2",{className:"text-2xl font-serif font-bold mb-6",children:"Technical Infrastructure"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsx($m,{title:"PostgreSQL",description:"Relational database with full-text search, lemmatic matching, and JSON support"}),g.jsx($m,{title:"Qdrant Cloud",description:"Vector database storing 3072-dimensional embeddings for semantic search"}),g.jsx($m,{title:"Gemini API",description:"Text embedding (text-embedding-004) and LLM synthesis (Gemini 2.0 Flash)"})]})]})]})}function wi({number:t,label:e,sublabel:n,icon:r}){return g.jsxs("div",{className:"academic-card bg-academic-bg text-center",children:[g.jsx("div",{className:"flex justify-center mb-2 text-primary-600",children:r}),g.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-1",children:t}),g.jsx("div",{className:"text-sm font-medium text-academic-text",children:e}),n&&g.jsx("div",{className:"text-xs text-academic-muted mt-1",children:n})]})}function Si({title:t,description:e}){return g.jsxs("div",{className:"flex gap-3",children:[g.jsx("div",{className:"flex-shrink-0 w-1.5 h-1.5 rounded-full bg-primary-600 mt-2"}),g.jsxs("div",{children:[g.jsx("div",{className:"font-medium text-academic-text mb-1",children:t}),g.jsx("div",{className:"text-sm text-academic-muted leading-relaxed",children:e})]})]})}function bd({period:t,percentage:e}){return g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between mb-1",children:[g.jsx("span",{className:"text-academic-text",children:t}),g.jsxs("span",{className:"text-academic-muted",children:[e,"%"]})]}),g.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:g.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-500",style:{width:`${e}%`}})})]})}function Nr({type:t,typeKey:e,count:n,description:r,items:i,expanded:l,onToggle:s}){return g.jsxs("div",{className:"bg-white rounded border border-academic-border overflow-hidden",children:[g.jsxs("button",{onClick:s,className:"w-full flex justify-between items-start p-3 hover:bg-gray-50 transition-colors cursor-pointer text-left",children:[g.jsxs("div",{className:"flex items-start gap-2 flex-1",children:[l?g.jsx(ME,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}):g.jsx(BE,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),g.jsxs("div",{children:[g.jsx("div",{className:"font-medium text-academic-text",children:t}),g.jsx("div",{className:"text-xs text-academic-muted mt-0.5",children:r})]})]}),g.jsx("div",{className:"text-lg font-bold text-primary-600 ml-4",children:n})]}),l&&i.length>0&&g.jsx("div",{className:"border-t border-academic-border bg-gray-50 p-4",children:g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-96 overflow-y-auto",children:i.map((u,d)=>g.jsx("div",{className:"text-sm text-academic-text p-2 bg-white rounded border border-gray-200 hover:border-primary-300 transition-colors",children:u},`${e}-${d}`))})})]})}function $m({title:t,description:e}){return g.jsxs("div",{className:"academic-card bg-academic-bg",children:[g.jsx("h3",{className:"font-semibold text-primary-600 mb-2",children:t}),g.jsx("p",{className:"text-sm text-academic-muted leading-relaxed",children:e})]})}function D9(){const[t,e]=W.useState([]),[n,r]=W.useState(new Map),[i,l]=W.useState(!0),[s,u]=W.useState(null),[d,c]=W.useState(""),[h,v]=W.useState(new Set),[m,y]=W.useState("all"),[x,S]=W.useState("all"),[w,E]=W.useState("all");W.useEffect(()=>{T()},[]);const T=async()=>{try{l(!0),u(null);const F=(await Vr.getNodes()).nodes||[],$=new Set;F.forEach(V=>{V.modern_scholarship&&Array.isArray(V.modern_scholarship)&&V.modern_scholarship.forEach(K=>{K&&K.trim()&&$.add(K.trim())})});const H=Array.from($).sort((V,K)=>{const ee=V.split(/[,\.]/)[0].toLowerCase(),I=K.split(/[,\.]/)[0].toLowerCase();return ee.localeCompare(I)});e(H);try{const V=await fetch("/online_access_results.json");if(V.ok){const K=await V.json(),ee=new Map;K.forEach(I=>{ee.set(I.citation,I)}),r(ee)}}catch{console.log("Online access data not available")}}catch(D){console.error("Error loading bibliography:",D),u("Failed to load bibliography. The backend may be starting up (this can take 30 seconds on first request). Please try again in a moment.")}finally{l(!1)}},k=D=>{const F=new Set(h);F.has(D)?F.delete(D):F.add(D),v(F)},N=()=>{const D=new Set(t.map(F=>F[0].toUpperCase()));v(D)},M=()=>{v(new Set)},R=D=>{const F=D.match(/\b(19\d{2}|20\d{2})\b/);return F?F[0]:null},A=D=>{const F=["Oxford","Cambridge","Princeton","Harvard","Yale","MIT","Clarendon","Springer","Routledge","Brill","Blackwell","Penguin","Hackett","Cornell","Chicago","Stanford"];for(const $ of F)if(D.includes($))return $;return"Other"},O=D=>D.includes("ed.")||D.includes("(ed.)")||D.includes("(eds.)")?"edited-volume":D.includes("trans.")||D.includes("(trans.)")?"translation":D.includes("Journal")||D.includes("Review")||D.match(/\d+\(\d+\)/)?"journal":D.includes("Stanford Encyclopedia")||D.includes("SEP")?"encyclopedia":"monograph",B=Array.from(new Set(t.map(A).filter(D=>D!==null))).sort(),P=t.filter(D=>{if(d&&!D.toLowerCase().includes(d.toLowerCase())||m!=="all"&&O(D)!==m)return!1;if(x!=="all"){const F=R(D);if(x==="2000+"&&(!F||parseInt(F)<2e3)||x==="1990-1999"&&(!F||parseInt(F)<1990||parseInt(F)>=2e3)||x==="1980-1989"&&(!F||parseInt(F)<1980||parseInt(F)>=1990)||x==="pre-1980"&&(!F||parseInt(F)>=1980))return!1}return!(w!=="all"&&A(D)!==w)}),q={};P.forEach(D=>{const F=D[0].toUpperCase();q[F]||(q[F]=[]),q[F].push(D)});const L=Object.keys(q).sort();return g.jsxs("div",{className:"space-y-6",children:[g.jsx("section",{className:"academic-card",children:g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx(iu,{className:"w-12 h-12 text-primary-600 flex-shrink-0 mt-1"}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-serif font-bold mb-3",children:"Modern Scholarship Bibliography"}),g.jsx("p",{className:"text-lg text-academic-muted leading-relaxed",children:"Complete bibliography of secondary literature cited in the EleutherIA knowledge graph. All references support the philosophical and historical claims documented in the database."})]})]})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[g.jsxs("div",{className:"academic-card bg-primary-50 text-center",children:[g.jsx("div",{className:"text-4xl font-bold text-primary-600 mb-1",children:t.length}),g.jsx("div",{className:"text-sm font-medium text-academic-text",children:"Total References"})]}),g.jsxs("div",{className:"academic-card bg-primary-50 text-center",children:[g.jsx("div",{className:"text-4xl font-bold text-primary-600 mb-1",children:P.length}),g.jsx("div",{className:"text-sm font-medium text-academic-text",children:"Filtered Results"})]}),g.jsxs("div",{className:"academic-card bg-primary-50 text-center",children:[g.jsx("div",{className:"text-4xl font-bold text-primary-600 mb-1",children:(()=>{const D=t.filter(F=>{const $=n.get(F);return $&&$.verified_links&&$.verified_links.length>0}).length;return n.size>0?D:"..."})()}),g.jsx("div",{className:"text-sm font-medium text-academic-text",children:"Online Access"})]}),g.jsxs("div",{className:"academic-card bg-primary-50 text-center",children:[g.jsx("div",{className:"text-4xl font-bold text-primary-600 mb-1",children:"100%"}),g.jsx("div",{className:"text-sm font-medium text-academic-text",children:"Citation Coverage"})]})]}),g.jsx("div",{className:"academic-card",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx(qg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-academic-muted w-5 h-5"}),g.jsx("input",{type:"text",placeholder:"Search by author, title, publisher, year...",value:d,onChange:D=>c(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-academic-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),g.jsxs("div",{className:"flex items-center gap-3 pt-2 border-t border-academic-border",children:[g.jsx(Ig,{className:"w-4 h-4 text-academic-muted flex-shrink-0"}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 flex-1",children:[g.jsxs("select",{value:m,onChange:D=>y(D.target.value),className:"px-3 py-2 border border-academic-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[g.jsx("option",{value:"all",children:"All Types"}),g.jsx("option",{value:"monograph",children:"Monographs"}),g.jsx("option",{value:"edited-volume",children:"Edited Volumes"}),g.jsx("option",{value:"journal",children:"Journal Articles"}),g.jsx("option",{value:"translation",children:"Translations"}),g.jsx("option",{value:"encyclopedia",children:"Encyclopedia Entries"})]}),g.jsxs("select",{value:x,onChange:D=>S(D.target.value),className:"px-3 py-2 border border-academic-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[g.jsx("option",{value:"all",children:"All Years"}),g.jsx("option",{value:"2000+",children:"2000+"}),g.jsx("option",{value:"1990-1999",children:"1990-1999"}),g.jsx("option",{value:"1980-1989",children:"1980-1989"}),g.jsx("option",{value:"pre-1980",children:"Pre-1980"})]}),g.jsxs("select",{value:w,onChange:D=>E(D.target.value),className:"px-3 py-2 border border-academic-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[g.jsx("option",{value:"all",children:"All Publishers"}),B.map(D=>g.jsx("option",{value:D,children:D},D))]})]})]}),(d||m!=="all"||x!=="all"||w!=="all")&&g.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-academic-border",children:[g.jsxs("div",{className:"text-sm text-academic-muted",children:["Found ",P.length," of ",t.length," references"]}),g.jsx("button",{onClick:()=>{c(""),y("all"),S("all"),E("all")},className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Clear All Filters"})]})]})}),g.jsxs("section",{className:"academic-card",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(au,{className:"w-6 h-6 text-primary-600"}),g.jsx("h2",{className:"text-2xl font-serif font-bold",children:"References"})]}),!i&&!s&&P.length>0&&g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:N,className:"px-3 py-1.5 text-sm text-primary-600 hover:bg-primary-50 border border-primary-300 rounded-lg transition-colors",children:"Expand All"}),g.jsx("button",{onClick:M,className:"px-3 py-1.5 text-sm text-primary-600 hover:bg-primary-50 border border-primary-300 rounded-lg transition-colors",children:"Collapse All"})]})]}),s?g.jsx("div",{className:"text-center py-12",children:g.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-2xl mx-auto",children:[g.jsx("svg",{className:"w-12 h-12 text-red-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),g.jsx("p",{className:"text-red-800 font-medium mb-3",children:s}),g.jsx("button",{onClick:T,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Retry"})]})}):i?g.jsxs("div",{className:"text-center py-12",children:[g.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),g.jsx("p",{className:"mt-4 text-academic-muted",children:"Loading bibliography..."})]}):P.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx(iu,{className:"w-16 h-16 text-academic-muted mx-auto mb-4"}),g.jsx("p",{className:"text-academic-muted",children:d||m!=="all"||x!=="all"||w!=="all"?"No references found matching your filters.":"No references available."})]}):g.jsx("div",{className:"space-y-2",children:L.map(D=>{const F=h.has(D),$=q[D];return g.jsxs("div",{className:"border border-academic-border rounded-lg overflow-hidden",children:[g.jsx("button",{onClick:()=>k(D),className:"w-full flex items-center justify-between p-4 bg-academic-bg hover:bg-primary-50 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-3",children:[F?g.jsx(ME,{className:"w-5 h-5 text-primary-600"}):g.jsx(BE,{className:"w-5 h-5 text-primary-600"}),g.jsx("span",{className:"text-2xl font-serif font-bold text-primary-700",children:D}),g.jsxs("span",{className:"text-sm text-academic-muted",children:["(",$.length," ",$.length===1?"reference":"references",")"]})]})}),F&&g.jsx("div",{className:"border-t border-academic-border bg-white",children:$.map((H,V)=>{const K=n.get(H),ee=K&&K.verified_links&&K.verified_links.length>0,I=ee&&K.verified_links.length>1;return g.jsx("div",{className:"p-4 border-b border-academic-border last:border-b-0 hover:bg-primary-50 transition-colors",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsxs("div",{className:"flex-shrink-0 w-8 text-sm text-academic-muted font-mono",children:["[",P.indexOf(H)+1,"]"]}),g.jsx("div",{className:"flex-1 text-sm text-academic-text leading-relaxed",children:H}),ee&&g.jsxs("div",{className:"flex-shrink-0 flex gap-2",children:[g.jsxs("a",{href:K.verified_links[0].url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-primary-600 hover:bg-primary-700 text-white text-xs font-medium rounded-md transition-colors shadow-sm hover:shadow",title:K.verified_links[0].label,children:[g.jsx(Id,{className:"w-3.5 h-3.5"}),g.jsx("span",{children:"Access"})]}),I&&g.jsxs("div",{className:"relative group",children:[g.jsx("button",{className:"inline-flex items-center px-2 py-1.5 bg-primary-100 hover:bg-primary-200 text-primary-700 text-xs font-medium rounded-md transition-colors",title:"More access options",children:g.jsx(Pj,{className:"w-3.5 h-3.5"})}),g.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-academic-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10",children:K.verified_links.map((_,X)=>g.jsx("a",{href:_.url,target:"_blank",rel:"noopener noreferrer",className:"block px-3 py-2 text-xs text-academic-text hover:bg-primary-50 first:rounded-t-lg last:rounded-b-lg",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Id,{className:"w-3 h-3 flex-shrink-0"}),g.jsx("span",{className:"truncate",children:_.label})]})},X))})]})]})]})},V)})})]},D)})})]}),g.jsx("section",{className:"academic-card bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("svg",{className:"w-6 h-6 text-amber-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),g.jsxs("div",{className:"text-sm",children:[g.jsx("div",{className:"font-semibold text-amber-900 mb-2",children:"How to Cite This Database"}),g.jsxs("div",{className:"bg-white p-3 rounded border border-amber-300 font-mono text-xs text-academic-text mb-3",children:["Girardi, R. (2025). ",g.jsx("span",{className:"italic",children:"EleutherIA: Ancient Free Will Database"}),". Zenodo. https://doi.org/10.5281/zenodo.17379490"]}),g.jsx("p",{className:"text-amber-900 leading-relaxed",children:"All references listed above are cited within knowledge graph node metadata and automatically included in GraphRAG responses with proper attribution."})]})]})})]})}function M9(){return g.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto",children:[g.jsxs("section",{className:"academic-card",children:[g.jsx("h2",{className:"text-3xl font-serif font-bold mb-6",children:"About the Project"}),g.jsxs("div",{className:"space-y-4 text-academic-text leading-relaxed",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"EleutherIA"})," ( = freedom + IA = Intelligence Artificielle) emerged from the need for a comprehensive, structured database documenting ancient philosophical debates on free will, fate, and moral responsibility. This research infrastructure was developed as part of doctoral research at Universit Cte d'Azur, investigating how early Christian authors conceptualized human freedom and agency."]}),g.jsx("p",{children:"When examining the notion of free will among the first Christian authors, it became clear that existing resources lacked the systematic structure necessary for computational analysis and cross-referential research. The philosophical landscape spanning from Classical Greek thought (4th c. BCE) through Late Antiquity (6th c. CE) is incredibly rich, with complex networks of influence, argumentation, and conceptual evolution that traditional bibliographic approaches struggle to capture."}),g.jsx("p",{children:"This database represents an independent effort to address that gap. Every node, edge, and citation has been meticulously researched and verified against ancient sources and modern scholarship. The project integrates 508 philosophical entities (persons, works, concepts, arguments) connected through 831 relationships, alongside 289 ancient texts with full lemmatization support."}),g.jsx("p",{children:"The goal is to provide researchers, students, and anyone interested in ancient philosophy with a FAIR-compliant (Findable, Accessible, Interoperable, Reusable) resource that combines traditional philological rigor with modern computational capabilities. The integration of GraphRAG (Graph-based Retrieval-Augmented Generation) enables semantic search and question-answering while maintaining complete provenance and citation tracking."}),g.jsx("p",{className:"text-sm text-academic-muted italic",children:"Note: This database represents a personal research initiative. All aspectsfrom conceptualization and philological work to data curation, technical implementation, and interface designwere undertaken individually to support doctoral research needs."})]})]}),g.jsxs("section",{className:"academic-card",children:[g.jsx("h2",{className:"text-3xl font-serif font-bold mb-6",children:"About the Author"}),g.jsxs("div",{className:"space-y-4 text-academic-text leading-relaxed",children:[g.jsxs("div",{className:"flex items-start gap-6",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("img",{src:"/romain-girardi.jpg",alt:"Romain Girardi",className:"w-40 h-40 rounded-full object-cover shadow-lg",style:{objectPosition:"center 30%"}})}),g.jsxs("div",{className:"flex-grow",children:[g.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Romain Girardi"}),g.jsx("p",{className:"text-academic-muted mb-4",children:"PhD Candidate in Ancient Languages and Literature / Theology"})]})]}),g.jsxs("p",{children:["Romain Girardi is a doctoral candidate in a joint PhD program (cotutelle internationale) between",g.jsx("strong",{children:" Universit Cte d'Azur"})," and ",g.jsx("strong",{children:"Universit de Genve"})," (since January 2024), working under the supervision of Prof. Arnaud Zucker (CEPAM, UMR 7264) and Prof. Andreas Dettwiler (Facult de Thologie Jean Calvin). His dissertation examines the emergence and conceptualization of free will among early Christian authors, exploring why references to human freedom proliferate in 2nd-century CE Christian literature despite being absent from biblical texts and relatively rare in earlier philosophical works."]}),g.jsxs("div",{className:"bg-academic-bg p-4 rounded",children:[g.jsx("h4",{className:"font-semibold mb-2",children:"Research Interests"}),g.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[g.jsx("li",{children:"Ancient philosophy of action and moral responsibility"}),g.jsx("li",{children:"Stoic and Peripatetic theories of determinism and freedom"}),g.jsx("li",{children:"Early Christian theological anthropology"}),g.jsx("li",{children:"Pauline exegesis and patristic reception"}),g.jsx("li",{children:"Conceptual history and terminology evolution (Greek to Latin)"}),g.jsx("li",{children:"Digital humanities and knowledge graph approaches to ancient texts"})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold mb-2",children:"Academic Background"}),g.jsxs("ul",{className:"space-y-1 text-sm",children:[g.jsx("li",{children:" Joint PhD in Ancient Languages and Literature (UniCA) / Theology (UNIGE) (2024present)"}),g.jsx("li",{children:" Agrgation preparation diploma (2020)"}),g.jsx("li",{children:" Master's degree in Classical Letters, distinction (2019)"}),g.jsx("li",{children:" Bachelor's degree in Classical Letters, distinction (2017)"})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold mb-2",children:"Institutional Affiliations"}),g.jsxs("ul",{className:"space-y-1 text-sm",children:[g.jsxs("li",{children:[" ",g.jsx("strong",{children:"Universit Cte d'Azur"}),"  CEPAM (Cultures et Environnements. Prhistoire, Antiquit, Moyen ge), UMR 7264, CNRS"]}),g.jsxs("li",{children:[" ",g.jsx("strong",{children:"Universit de Genve"}),"  Facult de Thologie Jean Calvin"]})]})]}),g.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[g.jsxs("a",{href:"https://orcid.org/0000-0002-5310-5346",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-600 hover:underline",children:[g.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 256 256",fill:"currentColor",children:g.jsx("path",{d:"M256,128c0,70.7-57.3,128-128,128C57.3,256,0,198.7,0,128C0,57.3,57.3,0,128,0C198.7,0,256,57.3,256,128z M86.3,186.2H70.9V79.1h15.4v48.4V186.2z M108.9,79.1h41.6c39.6,0,57,28.3,57,53.6c0,27.5-21.5,53.6-56.8,53.6h-41.8V79.1z M124.3,172.4h24.5c34.9,0,42.9-26.5,42.9-39.7c0-21.5-13.7-39.7-43.7-39.7h-23.7V172.4z M78.2,59.1c5.1,0,9.2,4.1,9.2,9.2c0,5.1-4.1,9.2-9.2,9.2c-5.1,0-9.2-4.1-9.2-9.2C69,63.2,73.1,59.1,78.2,59.1z"})}),"ORCID: 0000-0002-5310-5346"]}),g.jsxs("a",{href:"https://www.linkedin.com/in/romain-girardi",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-600 hover:underline",children:[g.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"LinkedIn"]}),g.jsx("a",{href:"https://www.cepam.cnrs.fr/contact/romain-girardi/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-600 hover:underline",children:"CEPAM Profile"}),g.jsx("a",{href:"mailto:romain.girardi@univ-cotedazur.fr",className:"inline-flex items-center gap-2 text-sm text-primary-600 hover:underline",children:"romain.girardi@univ-cotedazur.fr"})]})]})]}),g.jsxs("section",{className:"academic-card",children:[g.jsx("h2",{className:"text-3xl font-serif font-bold mb-6",children:"Implementation"}),g.jsxs("div",{className:"space-y-4 text-academic-text leading-relaxed",children:[g.jsx("p",{children:"The database combines traditional philological expertise with modern computational infrastructure:"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-academic-bg p-4 rounded",children:[g.jsx("h4",{className:"font-semibold mb-2",children:"Philological Work"}),g.jsxs("ul",{className:"text-sm space-y-1",children:[g.jsx("li",{children:" 508 entities verified against ancient sources"}),g.jsx("li",{children:" 831 relationships documented with citations"}),g.jsx("li",{children:" 289 texts with lemmatization (Greek/Latin)"}),g.jsx("li",{children:" 860+ ancient sources & modern scholarship"}),g.jsx("li",{children:" Controlled vocabularies & terminology"}),g.jsx("li",{children:" Complete provenance tracking"})]})]}),g.jsxs("div",{className:"bg-academic-bg p-4 rounded",children:[g.jsx("h4",{className:"font-semibold mb-2",children:"Technical Infrastructure"}),g.jsxs("ul",{className:"text-sm space-y-1",children:[g.jsx("li",{children:" JSON knowledge graph (13 MB)"}),g.jsx("li",{children:" PostgreSQL with full-text search"}),g.jsx("li",{children:" Qdrant vector database"}),g.jsx("li",{children:" Google Gemini embeddings"}),g.jsx("li",{children:" Interactive network visualization"}),g.jsx("li",{children:" GraphRAG question answering"})]})]})]}),g.jsxs("p",{className:"text-sm",children:["The codebase is open source and available on"," ",g.jsx("a",{href:"https://github.com/romain-girardi-eng/EleutherIA",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"GitHub"}),". All data is licensed under"," ",g.jsx("a",{href:"https://creativecommons.org/licenses/by/4.0/",className:"text-primary-600 hover:underline",children:"CC BY 4.0"})," ","and permanently archived at"," ",g.jsx("a",{href:"https://doi.org/10.5281/zenodo.17379490",className:"text-primary-600 hover:underline",children:"DOI: 10.5281/zenodo.17379490"}),"."]})]})]})]})}function B9(){const[t,e]=W.useState("philological"),[n,r]=W.useState(""),[i,l]=W.useState(""),[s,u]=W.useState(""),[d,c]=W.useState(""),[h,v]=W.useState(""),[m,y]=W.useState(""),[x,S]=W.useState(""),[w,E]=W.useState(""),T=[{value:"philological",label:"Philological Error",description:"Incorrect citation, misattribution, wrong Greek/Latin terminology"},{value:"bibliographic",label:"Bibliographic Error",description:"Incorrect modern scholarship reference or citation"},{value:"relationship",label:"Relationship Error",description:"Wrong or missing relationship between entities"},{value:"metadata",label:"Metadata Error",description:"Wrong dates, periods, schools, or classifications"},{value:"data_quality",label:"Data Quality Issue",description:"Duplicates, inconsistencies, or formatting issues"},{value:"technical",label:"Technical Issue",description:"Interface bugs, search problems, or performance issues"},{value:"other",label:"Other",description:"Any other type of issue"}],k=()=>`# EleutherIA Error Report

## Error Type
${T.find(O=>O.value===t)?.label}

## Details
${n?`**Node/Entity ID**: ${n}
`:""}${i?`**Edge/Relationship**: ${i}
`:""}
**Description of Error**:
${s}

${d?`## Suggested Correction
${d}
`:""}
${h?`## Supporting Sources
${h}
`:""}
${m||x||w?`## Contact Information
${m?`Name: ${m}
`:""}${x?`Email: ${x}
`:""}${w?`ORCID: ${w}
`:""}`:""}
---
*Generated via EleutherIA Error Report Form*
*Date: ${new Date().toISOString().split("T")[0]}*
`,N=()=>{navigator.clipboard.writeText(k()),alert("Error report copied to clipboard! You can now paste it into a GitHub issue or email.")},M=()=>{const A=encodeURIComponent(`[Error Report] ${T.find(B=>B.value===t)?.label}`),O=encodeURIComponent(k());window.open(`https://github.com/romain-girardi-eng/EleutherIA/issues/new?title=${A}&body=${O}`,"_blank")},R=()=>{const A=encodeURIComponent(`EleutherIA Error Report: ${T.find(B=>B.value===t)?.label}`),O=encodeURIComponent(k());window.location.href=`mailto:romain.girardi@univ-cotedazur.fr?subject=${A}&body=${O}`};return g.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[g.jsxs("section",{className:"academic-card",children:[g.jsx("h1",{className:"text-3xl font-serif font-bold mb-4",children:"Report an Error"}),g.jsxs("div",{className:"prose max-w-none text-academic-text space-y-3",children:[g.jsxs("p",{children:["EleutherIA is committed to the principles of ",g.jsx("strong",{children:"Open Science"})," and collaborative academic work. Your contributions help maintain the accuracy and quality of this resource for the entire research community."]}),g.jsx("p",{children:"If you've identified an error in the databasewhether it's an incorrect citation, a misattributed work, a wrong relationship, or any other issueplease report it using this form. All corrections are carefully reviewed and properly attributed in accordance with academic standards."}),g.jsxs("div",{className:"bg-academic-bg p-4 rounded border-l-4 border-primary-600",children:[g.jsx("p",{className:"text-sm mb-2",children:g.jsx("strong",{children:"How Your Report is Handled:"})}),g.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[g.jsx("li",{children:"All reports are reviewed within the context of ancient sources and modern scholarship"}),g.jsx("li",{children:"Accepted corrections are acknowledged in the project's change log"}),g.jsx("li",{children:"Contributors may be cited in documentation if they wish"}),g.jsx("li",{children:"Substantive corrections may result in co-authorship on future versions"})]})]})]})]}),g.jsxs("section",{className:"academic-card",children:[g.jsx("h2",{className:"text-2xl font-serif font-bold mb-6",children:"Error Details"}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Type of Error *"}),g.jsx("div",{className:"space-y-2",children:T.map(A=>g.jsxs("label",{className:"flex items-start cursor-pointer",children:[g.jsx("input",{type:"radio",name:"errorType",value:A.value,checked:t===A.value,onChange:O=>e(O.target.value),className:"mt-1 mr-3"}),g.jsxs("div",{children:[g.jsx("div",{className:"font-medium",children:A.label}),g.jsx("div",{className:"text-sm text-academic-muted",children:A.description})]})]},A.value))})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"nodeId",className:"block text-sm font-semibold mb-2",children:"Node/Entity ID (if applicable)"}),g.jsx("input",{id:"nodeId",type:"text",value:n,onChange:A=>r(A.target.value),placeholder:"e.g., person_aristotle_384_322bce_b2c3d4e5",className:"w-full px-4 py-2 border border-academic-border rounded focus:outline-none focus:ring-2 focus:ring-primary-500"}),g.jsx("p",{className:"text-xs text-academic-muted mt-1",children:"You can find IDs by exploring the Knowledge Graph or using the Search feature"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"edgeInfo",className:"block text-sm font-semibold mb-2",children:"Edge/Relationship (if applicable)"}),g.jsx("input",{id:"edgeInfo",type:"text",value:i,onChange:A=>l(A.target.value),placeholder:"e.g., Aristotle  authored  Nicomachean Ethics",className:"w-full px-4 py-2 border border-academic-border rounded focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold mb-2",children:"Description of Error *"}),g.jsx("textarea",{id:"description",value:s,onChange:A=>u(A.target.value),rows:6,placeholder:"Please describe the error in detail. What is incorrect? What should it be?",className:"w-full px-4 py-2 border border-academic-border rounded focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"suggestedCorrection",className:"block text-sm font-semibold mb-2",children:"Suggested Correction"}),g.jsx("textarea",{id:"suggestedCorrection",value:d,onChange:A=>c(A.target.value),rows:4,placeholder:"If you have a specific correction to suggest, please provide it here",className:"w-full px-4 py-2 border border-academic-border rounded focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"sources",className:"block text-sm font-semibold mb-2",children:"Supporting Sources"}),g.jsx("textarea",{id:"sources",value:h,onChange:A=>v(A.target.value),rows:4,placeholder:"Please cite ancient sources and/or modern scholarship that support your correction (e.g., 'Aristotle, EN III.1-5, 1109b30-1115a3' or 'Bobzien 1998, p. 45-52')",className:"w-full px-4 py-2 border border-academic-border rounded focus:outline-none focus:ring-2 focus:ring-primary-500"}),g.jsx("p",{className:"text-xs text-academic-muted mt-1",children:"Academic citations strengthen your report and facilitate verification"})]}),g.jsxs("div",{className:"border-t border-academic-border pt-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact Information (Optional)"}),g.jsx("p",{className:"text-sm text-academic-muted mb-4",children:"Providing your contact information allows us to follow up with questions and acknowledge your contribution."}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"contactName",className:"block text-sm font-semibold mb-2",children:"Name"}),g.jsx("input",{id:"contactName",type:"text",value:m,onChange:A=>y(A.target.value),placeholder:"Your name",className:"w-full px-4 py-2 border border-academic-border rounded focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"contactEmail",className:"block text-sm font-semibold mb-2",children:"Email"}),g.jsx("input",{id:"contactEmail",type:"email",value:x,onChange:A=>S(A.target.value),placeholder:"your.email@institution.edu",className:"w-full px-4 py-2 border border-academic-border rounded focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"contactOrcid",className:"block text-sm font-semibold mb-2",children:"ORCID iD"}),g.jsx("input",{id:"contactOrcid",type:"text",value:w,onChange:A=>E(A.target.value),placeholder:"0000-0000-0000-0000",className:"w-full px-4 py-2 border border-academic-border rounded focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]})]})]})]}),g.jsxs("section",{className:"academic-card",children:[g.jsx("h2",{className:"text-2xl font-serif font-bold mb-4",children:"Submit Your Report"}),g.jsx("p",{className:"text-sm text-academic-muted mb-6",children:"Choose how you'd like to submit your error report:"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("button",{onClick:M,disabled:!s,className:"academic-button flex flex-col items-center p-6 text-center disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx("svg",{className:"w-8 h-8 mb-2",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.17 6.839 9.49.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.34-3.369-1.34-.454-1.156-1.11-1.463-1.11-1.463-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.831.092-.646.35-1.086.636-1.336-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0112 6.836c.85.004 1.705.114 2.504.336 1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C19.138 20.167 22 16.418 22 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),g.jsx("span",{className:"font-semibold",children:"GitHub Issue"}),g.jsx("span",{className:"text-xs text-academic-muted mt-1",children:"Preferred for tracking"})]}),g.jsxs("button",{onClick:R,disabled:!s,className:"academic-button-outline flex flex-col items-center p-6 text-center disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx("svg",{className:"w-8 h-8 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),g.jsx("span",{className:"font-semibold",children:"Email"}),g.jsx("span",{className:"text-xs text-academic-muted mt-1",children:"Direct contact"})]}),g.jsxs("button",{onClick:N,disabled:!s,className:"academic-button-outline flex flex-col items-center p-6 text-center disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx("svg",{className:"w-8 h-8 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),g.jsx("span",{className:"font-semibold",children:"Copy to Clipboard"}),g.jsx("span",{className:"text-xs text-academic-muted mt-1",children:"Paste anywhere"})]})]})]}),g.jsxs("section",{className:"academic-card bg-academic-bg",children:[g.jsx("h2",{className:"text-xl font-serif font-bold mb-4",children:"Reporting Guidelines"}),g.jsxs("div",{className:"prose max-w-none text-sm space-y-3",children:[g.jsx("p",{children:g.jsx("strong",{children:"What to report:"})}),g.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[g.jsx("li",{children:"Factual errors in citations, dates, attributions"}),g.jsx("li",{children:"Missing or incorrect relationships between entities"}),g.jsx("li",{children:"Inconsistencies in terminology or translations"}),g.jsx("li",{children:"Missing important sources or bibliography"}),g.jsx("li",{children:"Technical issues affecting functionality"})]}),g.jsx("p",{children:g.jsx("strong",{children:"What NOT to report:"})}),g.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[g.jsx("li",{children:"Alternative interpretations (these are scholarly debates, not errors)"}),g.jsx("li",{children:"Requests for new features"}),g.jsx("li",{children:"Suggestions for scope expansion beyond 4th c. BCE - 6th c. CE"})]}),g.jsx("p",{className:"text-xs italic",children:"For questions about interpretation or to discuss scholarly debates, please reach out directly via email or academic channels."})]})]})]})}var Xm={exports:{}},fE;function O9(){return fE||(fE=1,(function(t,e){(function(n,r){t.exports=r()})(self,(()=>(()=>{var n={362:(l,s,u)=>{function d(U){return U.split("-")[0]}function c(U){return U.split("-")[1]}function h(U){return["top","bottom"].includes(d(U))?"x":"y"}function v(U){return U==="y"?"height":"width"}function m(U,Q,Z){let{reference:J,floating:ce}=U;const re=J.x+J.width/2-ce.width/2,me=J.y+J.height/2-ce.height/2,oe=h(Q),Ee=v(oe),De=J[Ee]/2-ce[Ee]/2,Oe=oe==="x";let Se;switch(d(Q)){case"top":Se={x:re,y:J.y-ce.height};break;case"bottom":Se={x:re,y:J.y+J.height};break;case"right":Se={x:J.x+J.width,y:me};break;case"left":Se={x:J.x-ce.width,y:me};break;default:Se={x:J.x,y:J.y}}switch(c(Q)){case"start":Se[oe]-=De*(Z&&Oe?-1:1);break;case"end":Se[oe]+=De*(Z&&Oe?-1:1)}return Se}function y(U){return typeof U!="number"?(function(Q){return{top:0,right:0,bottom:0,left:0,...Q}})(U):{top:U,right:U,bottom:U,left:U}}function x(U){return{...U,top:U.y,left:U.x,right:U.x+U.width,bottom:U.y+U.height}}async function S(U,Q){var Z;Q===void 0&&(Q={});const{x:J,y:ce,platform:re,rects:me,elements:oe,strategy:Ee}=U,{boundary:De="clippingAncestors",rootBoundary:Oe="viewport",elementContext:Se="floating",altBoundary:Me=!1,padding:Be=0}=Q,He=y(Be),Ke=oe[Me?Se==="floating"?"reference":"floating":Se],et=x(await re.getClippingRect({element:(Z=await(re.isElement==null?void 0:re.isElement(Ke)))==null||Z?Ke:Ke.contextElement||await(re.getDocumentElement==null?void 0:re.getDocumentElement(oe.floating)),boundary:De,rootBoundary:Oe,strategy:Ee})),it=x(re.convertOffsetParentRelativeRectToViewportRelativeRect?await re.convertOffsetParentRelativeRectToViewportRelativeRect({rect:Se==="floating"?{...me.floating,x:J,y:ce}:me.reference,offsetParent:await(re.getOffsetParent==null?void 0:re.getOffsetParent(oe.floating)),strategy:Ee}):me[Se]);return{top:et.top-it.top+He.top,bottom:it.bottom-et.bottom+He.bottom,left:et.left-it.left+He.left,right:it.right-et.right+He.right}}u.r(s),u.d(s,{arrow:()=>k,autoPlacement:()=>q,autoUpdate:()=>Ce,computePosition:()=>Y,detectOverflow:()=>S,flip:()=>L,getOverflowAncestors:()=>_e,hide:()=>$,inline:()=>_,limitShift:()=>ee,offset:()=>H,platform:()=>Ie,shift:()=>K,size:()=>I});const w=Math.min,E=Math.max;function T(U,Q,Z){return E(U,w(Q,Z))}const k=U=>({name:"arrow",options:U,async fn(Q){const{element:Z,padding:J=0}=U??{},{x:ce,y:re,placement:me,rects:oe,platform:Ee}=Q;if(Z==null)return{};const De=y(J),Oe={x:ce,y:re},Se=h(me),Me=c(me),Be=v(Se),He=await Ee.getDimensions(Z),Ke=Se==="y"?"top":"left",et=Se==="y"?"bottom":"right",it=oe.reference[Be]+oe.reference[Se]-Oe[Se]-oe.floating[Be],ot=Oe[Se]-oe.reference[Se],ct=await(Ee.getOffsetParent==null?void 0:Ee.getOffsetParent(Z));let vt=ct?Se==="y"?ct.clientHeight||0:ct.clientWidth||0:0;vt===0&&(vt=oe.floating[Be]);const At=it/2-ot/2,lt=De[Ke],Et=vt-He[Be]-De[et],gt=vt/2-He[Be]/2+At,pt=T(lt,gt,Et),Mt=(Me==="start"?De[Ke]:De[et])>0&&gt!==pt&&oe.reference[Be]<=oe.floating[Be];return{[Se]:Oe[Se]-(Mt?gt<lt?lt-gt:Et-gt:0),data:{[Se]:pt,centerOffset:gt-pt}}}}),N={left:"right",right:"left",bottom:"top",top:"bottom"};function M(U){return U.replace(/left|right|bottom|top/g,(Q=>N[Q]))}function R(U,Q,Z){Z===void 0&&(Z=!1);const J=c(U),ce=h(U),re=v(ce);let me=ce==="x"?J===(Z?"end":"start")?"right":"left":J==="start"?"bottom":"top";return Q.reference[re]>Q.floating[re]&&(me=M(me)),{main:me,cross:M(me)}}const A={start:"end",end:"start"};function O(U){return U.replace(/start|end/g,(Q=>A[Q]))}const B=["top","right","bottom","left"],P=B.reduce(((U,Q)=>U.concat(Q,Q+"-start",Q+"-end")),[]),q=function(U){return U===void 0&&(U={}),{name:"autoPlacement",options:U,async fn(Q){var Z,J,ce,re,me;const{x:oe,y:Ee,rects:De,middlewareData:Oe,placement:Se,platform:Me,elements:Be}=Q,{alignment:He=null,allowedPlacements:Ke=P,autoAlignment:et=!0,...it}=U,ot=(function(Vt,nr,sn){return(Vt?[...sn.filter((zn=>c(zn)===Vt)),...sn.filter((zn=>c(zn)!==Vt))]:sn.filter((zn=>d(zn)===zn))).filter((zn=>!Vt||c(zn)===Vt||!!nr&&O(zn)!==zn))})(He,et,Ke),ct=await S(Q,it),vt=(Z=(J=Oe.autoPlacement)==null?void 0:J.index)!=null?Z:0,At=ot[vt];if(At==null)return{};const{main:lt,cross:Et}=R(At,De,await(Me.isRTL==null?void 0:Me.isRTL(Be.floating)));if(Se!==At)return{x:oe,y:Ee,reset:{placement:ot[0]}};const gt=[ct[d(At)],ct[lt],ct[Et]],pt=[...(ce=(re=Oe.autoPlacement)==null?void 0:re.overflows)!=null?ce:[],{placement:At,overflows:gt}],Mt=ot[vt+1];if(Mt)return{data:{index:vt+1,overflows:pt},reset:{placement:Mt}};const ln=pt.slice().sort(((Vt,nr)=>Vt.overflows[0]-nr.overflows[0])),Ft=(me=ln.find((Vt=>{let{overflows:nr}=Vt;return nr.every((sn=>sn<=0))})))==null?void 0:me.placement,Kt=Ft??ln[0].placement;return Kt!==Se?{data:{index:vt+1,overflows:pt},reset:{placement:Kt}}:{}}}},L=function(U){return U===void 0&&(U={}),{name:"flip",options:U,async fn(Q){var Z;const{placement:J,middlewareData:ce,rects:re,initialPlacement:me,platform:oe,elements:Ee}=Q,{mainAxis:De=!0,crossAxis:Oe=!0,fallbackPlacements:Se,fallbackStrategy:Me="bestFit",flipAlignment:Be=!0,...He}=U,Ke=d(J),et=Se||(Ke!==me&&Be?(function(gt){const pt=M(gt);return[O(gt),pt,O(pt)]})(me):[M(me)]),it=[me,...et],ot=await S(Q,He),ct=[];let vt=((Z=ce.flip)==null?void 0:Z.overflows)||[];if(De&&ct.push(ot[Ke]),Oe){const{main:gt,cross:pt}=R(J,re,await(oe.isRTL==null?void 0:oe.isRTL(Ee.floating)));ct.push(ot[gt],ot[pt])}if(vt=[...vt,{placement:J,overflows:ct}],!ct.every((gt=>gt<=0))){var At,lt;const gt=((At=(lt=ce.flip)==null?void 0:lt.index)!=null?At:0)+1,pt=it[gt];if(pt)return{data:{index:gt,overflows:vt},reset:{placement:pt}};let Mt="bottom";switch(Me){case"bestFit":{var Et;const ln=(Et=vt.map((Ft=>[Ft,Ft.overflows.filter((Kt=>Kt>0)).reduce(((Kt,Vt)=>Kt+Vt),0)])).sort(((Ft,Kt)=>Ft[1]-Kt[1]))[0])==null?void 0:Et[0].placement;ln&&(Mt=ln);break}case"initialPlacement":Mt=me}if(J!==Mt)return{reset:{placement:Mt}}}return{}}}};function D(U,Q){return{top:U.top-Q.height,right:U.right-Q.width,bottom:U.bottom-Q.height,left:U.left-Q.width}}function F(U){return B.some((Q=>U[Q]>=0))}const $=function(U){let{strategy:Q="referenceHidden",...Z}=U===void 0?{}:U;return{name:"hide",async fn(J){const{rects:ce}=J;switch(Q){case"referenceHidden":{const re=D(await S(J,{...Z,elementContext:"reference"}),ce.reference);return{data:{referenceHiddenOffsets:re,referenceHidden:F(re)}}}case"escaped":{const re=D(await S(J,{...Z,altBoundary:!0}),ce.floating);return{data:{escapedOffsets:re,escaped:F(re)}}}default:return{}}}}},H=function(U){return U===void 0&&(U=0),{name:"offset",options:U,async fn(Q){const{x:Z,y:J}=Q,ce=await(async function(re,me){const{placement:oe,platform:Ee,elements:De}=re,Oe=await(Ee.isRTL==null?void 0:Ee.isRTL(De.floating)),Se=d(oe),Me=c(oe),Be=h(oe)==="x",He=["left","top"].includes(Se)?-1:1,Ke=Oe&&Be?-1:1,et=typeof me=="function"?me(re):me;let{mainAxis:it,crossAxis:ot,alignmentAxis:ct}=typeof et=="number"?{mainAxis:et,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...et};return Me&&typeof ct=="number"&&(ot=Me==="end"?-1*ct:ct),Be?{x:ot*Ke,y:it*He}:{x:it*He,y:ot*Ke}})(Q,U);return{x:Z+ce.x,y:J+ce.y,data:ce}}}};function V(U){return U==="x"?"y":"x"}const K=function(U){return U===void 0&&(U={}),{name:"shift",options:U,async fn(Q){const{x:Z,y:J,placement:ce}=Q,{mainAxis:re=!0,crossAxis:me=!1,limiter:oe={fn:et=>{let{x:it,y:ot}=et;return{x:it,y:ot}}},...Ee}=U,De={x:Z,y:J},Oe=await S(Q,Ee),Se=h(d(ce)),Me=V(Se);let Be=De[Se],He=De[Me];if(re){const et=Se==="y"?"bottom":"right";Be=T(Be+Oe[Se==="y"?"top":"left"],Be,Be-Oe[et])}if(me){const et=Me==="y"?"bottom":"right";He=T(He+Oe[Me==="y"?"top":"left"],He,He-Oe[et])}const Ke=oe.fn({...Q,[Se]:Be,[Me]:He});return{...Ke,data:{x:Ke.x-Z,y:Ke.y-J}}}}},ee=function(U){return U===void 0&&(U={}),{options:U,fn(Q){const{x:Z,y:J,placement:ce,rects:re,middlewareData:me}=Q,{offset:oe=0,mainAxis:Ee=!0,crossAxis:De=!0}=U,Oe={x:Z,y:J},Se=h(ce),Me=V(Se);let Be=Oe[Se],He=Oe[Me];const Ke=typeof oe=="function"?oe(Q):oe,et=typeof Ke=="number"?{mainAxis:Ke,crossAxis:0}:{mainAxis:0,crossAxis:0,...Ke};if(Ee){const At=Se==="y"?"height":"width",lt=re.reference[Se]-re.floating[At]+et.mainAxis,Et=re.reference[Se]+re.reference[At]-et.mainAxis;Be<lt?Be=lt:Be>Et&&(Be=Et)}if(De){var it,ot,ct,vt;const At=Se==="y"?"width":"height",lt=["top","left"].includes(d(ce)),Et=re.reference[Me]-re.floating[At]+(lt&&(it=(ot=me.offset)==null?void 0:ot[Me])!=null?it:0)+(lt?0:et.crossAxis),gt=re.reference[Me]+re.reference[At]+(lt?0:(ct=(vt=me.offset)==null?void 0:vt[Me])!=null?ct:0)-(lt?et.crossAxis:0);He<Et?He=Et:He>gt&&(He=gt)}return{[Se]:Be,[Me]:He}}}},I=function(U){return U===void 0&&(U={}),{name:"size",options:U,async fn(Q){const{placement:Z,rects:J,platform:ce,elements:re}=Q,{apply:me=(()=>{}),...oe}=U,Ee=await S(Q,oe),De=d(Z),Oe=c(Z);let Se,Me;De==="top"||De==="bottom"?(Se=De,Me=Oe===(await(ce.isRTL==null?void 0:ce.isRTL(re.floating))?"start":"end")?"left":"right"):(Me=De,Se=Oe==="end"?"top":"bottom");const Be=E(Ee.left,0),He=E(Ee.right,0),Ke=E(Ee.top,0),et=E(Ee.bottom,0),it={availableHeight:J.floating.height-(["left","right"].includes(Z)?2*(Ke!==0||et!==0?Ke+et:E(Ee.top,Ee.bottom)):Ee[Se]),availableWidth:J.floating.width-(["top","bottom"].includes(Z)?2*(Be!==0||He!==0?Be+He:E(Ee.left,Ee.right)):Ee[Me])};await me({...Q,...it});const ot=await ce.getDimensions(re.floating);return J.floating.width!==ot.width||J.floating.height!==ot.height?{reset:{rects:!0}}:{}}}},_=function(U){return U===void 0&&(U={}),{name:"inline",options:U,async fn(Q){var Z;const{placement:J,elements:ce,rects:re,platform:me,strategy:oe}=Q,{padding:Ee=2,x:De,y:Oe}=U,Se=x(me.convertOffsetParentRelativeRectToViewportRelativeRect?await me.convertOffsetParentRelativeRectToViewportRelativeRect({rect:re.reference,offsetParent:await(me.getOffsetParent==null?void 0:me.getOffsetParent(ce.floating)),strategy:oe}):re.reference),Me=(Z=await(me.getClientRects==null?void 0:me.getClientRects(ce.reference)))!=null?Z:[],Be=y(Ee),He=await me.getElementRects({reference:{getBoundingClientRect:function(){var Ke;if(Me.length===2&&Me[0].left>Me[1].right&&De!=null&&Oe!=null)return(Ke=Me.find((et=>De>et.left-Be.left&&De<et.right+Be.right&&Oe>et.top-Be.top&&Oe<et.bottom+Be.bottom)))!=null?Ke:Se;if(Me.length>=2){if(h(J)==="x"){const lt=Me[0],Et=Me[Me.length-1],gt=d(J)==="top",pt=lt.top,Mt=Et.bottom,ln=gt?lt.left:Et.left,Ft=gt?lt.right:Et.right;return{top:pt,bottom:Mt,left:ln,right:Ft,width:Ft-ln,height:Mt-pt,x:ln,y:pt}}const et=d(J)==="left",it=E(...Me.map((lt=>lt.right))),ot=w(...Me.map((lt=>lt.left))),ct=Me.filter((lt=>et?lt.left===ot:lt.right===it)),vt=ct[0].top,At=ct[ct.length-1].bottom;return{top:vt,bottom:At,left:ot,right:it,width:it-ot,height:At-vt,x:ot,y:vt}}return Se}},floating:ce.floating,strategy:oe});return re.reference.x!==He.reference.x||re.reference.y!==He.reference.y||re.reference.width!==He.reference.width||re.reference.height!==He.reference.height?{reset:{rects:He}}:{}}}};function X(U){return U&&U.document&&U.location&&U.alert&&U.setInterval}function z(U){if(U==null)return window;if(!X(U)){const Q=U.ownerDocument;return Q&&Q.defaultView||window}return U}function ne(U){return z(U).getComputedStyle(U)}function le(U){return X(U)?"":U?(U.nodeName||"").toLowerCase():""}function de(){const U=navigator.userAgentData;return U!=null&&U.brands?U.brands.map((Q=>Q.brand+"/"+Q.version)).join(" "):navigator.userAgent}function ye(U){return U instanceof z(U).HTMLElement}function je(U){return U instanceof z(U).Element}function xe(U){return typeof ShadowRoot<"u"&&(U instanceof z(U).ShadowRoot||U instanceof ShadowRoot)}function ie(U){const{overflow:Q,overflowX:Z,overflowY:J,display:ce}=ne(U);return/auto|scroll|overlay|hidden/.test(Q+J+Z)&&!["inline","contents"].includes(ce)}function ue(U){return["table","td","th"].includes(le(U))}function pe(U){const Q=/firefox/i.test(de()),Z=ne(U);return Z.transform!=="none"||Z.perspective!=="none"||Q&&Z.willChange==="filter"||Q&&!!Z.filter&&Z.filter!=="none"||["transform","perspective"].some((J=>Z.willChange.includes(J)))||["paint","layout","strict","content"].some((J=>{const ce=Z.contain;return ce!=null&&ce.includes(J)}))}function Te(){return!/^((?!chrome|android).)*safari/i.test(de())}function Le(U){return["html","body","#document"].includes(le(U))}const Ye=Math.min,dt=Math.max,nt=Math.round;function $e(U,Q,Z){var J,ce,re,me;Q===void 0&&(Q=!1),Z===void 0&&(Z=!1);const oe=U.getBoundingClientRect();let Ee=1,De=1;Q&&ye(U)&&(Ee=U.offsetWidth>0&&nt(oe.width)/U.offsetWidth||1,De=U.offsetHeight>0&&nt(oe.height)/U.offsetHeight||1);const Oe=je(U)?z(U):window,Se=!Te()&&Z,Me=(oe.left+(Se&&(J=(ce=Oe.visualViewport)==null?void 0:ce.offsetLeft)!=null?J:0))/Ee,Be=(oe.top+(Se&&(re=(me=Oe.visualViewport)==null?void 0:me.offsetTop)!=null?re:0))/De,He=oe.width/Ee,Ke=oe.height/De;return{width:He,height:Ke,top:Be,right:Me+He,bottom:Be+Ke,left:Me,x:Me,y:Be}}function Ge(U){return(Q=U,(Q instanceof z(Q).Node?U.ownerDocument:U.document)||window.document).documentElement;var Q}function Pe(U){return je(U)?{scrollLeft:U.scrollLeft,scrollTop:U.scrollTop}:{scrollLeft:U.pageXOffset,scrollTop:U.pageYOffset}}function Xe(U){return $e(Ge(U)).left+Pe(U).scrollLeft}function We(U,Q,Z){const J=ye(Q),ce=Ge(Q),re=$e(U,J&&(function(Ee){const De=$e(Ee);return nt(De.width)!==Ee.offsetWidth||nt(De.height)!==Ee.offsetHeight})(Q),Z==="fixed");let me={scrollLeft:0,scrollTop:0};const oe={x:0,y:0};if(J||!J&&Z!=="fixed")if((le(Q)!=="body"||ie(ce))&&(me=Pe(Q)),ye(Q)){const Ee=$e(Q,!0);oe.x=Ee.x+Q.clientLeft,oe.y=Ee.y+Q.clientTop}else ce&&(oe.x=Xe(ce));return{x:re.left+me.scrollLeft-oe.x,y:re.top+me.scrollTop-oe.y,width:re.width,height:re.height}}function at(U){return le(U)==="html"?U:U.assignedSlot||U.parentNode||(xe(U)?U.host:null)||Ge(U)}function Ue(U){return ye(U)&&ne(U).position!=="fixed"?U.offsetParent:null}function ft(U){const Q=z(U);let Z=Ue(U);for(;Z&&ue(Z)&&ne(Z).position==="static";)Z=Ue(Z);return Z&&(le(Z)==="html"||le(Z)==="body"&&ne(Z).position==="static"&&!pe(Z))?Q:Z||(function(J){let ce=at(J);for(xe(ce)&&(ce=ce.host);ye(ce)&&!Le(ce);){if(pe(ce))return ce;{const re=ce.parentNode;ce=xe(re)?re.host:re}}return null})(U)||Q}function he(U){if(ye(U))return{width:U.offsetWidth,height:U.offsetHeight};const Q=$e(U);return{width:Q.width,height:Q.height}}function Ae(U){const Q=at(U);return Le(Q)?U.ownerDocument.body:ye(Q)&&ie(Q)?Q:Ae(Q)}function _e(U,Q){var Z;Q===void 0&&(Q=[]);const J=Ae(U),ce=J===((Z=U.ownerDocument)==null?void 0:Z.body),re=z(J),me=ce?[re].concat(re.visualViewport||[],ie(J)?J:[]):J,oe=Q.concat(me);return ce?oe:oe.concat(_e(me))}function Ve(U,Q,Z){return Q==="viewport"?x((function(J,ce){const re=z(J),me=Ge(J),oe=re.visualViewport;let Ee=me.clientWidth,De=me.clientHeight,Oe=0,Se=0;if(oe){Ee=oe.width,De=oe.height;const Me=Te();(Me||!Me&&ce==="fixed")&&(Oe=oe.offsetLeft,Se=oe.offsetTop)}return{width:Ee,height:De,x:Oe,y:Se}})(U,Z)):je(Q)?(function(J,ce){const re=$e(J,!1,ce==="fixed"),me=re.top+J.clientTop,oe=re.left+J.clientLeft;return{top:me,left:oe,x:oe,y:me,right:oe+J.clientWidth,bottom:me+J.clientHeight,width:J.clientWidth,height:J.clientHeight}})(Q,Z):x((function(J){var ce;const re=Ge(J),me=Pe(J),oe=(ce=J.ownerDocument)==null?void 0:ce.body,Ee=dt(re.scrollWidth,re.clientWidth,oe?oe.scrollWidth:0,oe?oe.clientWidth:0),De=dt(re.scrollHeight,re.clientHeight,oe?oe.scrollHeight:0,oe?oe.clientHeight:0);let Oe=-me.scrollLeft+Xe(J);const Se=-me.scrollTop;return ne(oe||re).direction==="rtl"&&(Oe+=dt(re.clientWidth,oe?oe.clientWidth:0)-Ee),{width:Ee,height:De,x:Oe,y:Se}})(Ge(U)))}function qe(U){const Q=_e(U),Z=(function(ce,re){let me=ce;for(;me&&!Le(me)&&!re.includes(me)&&(!je(me)||!["absolute","fixed"].includes(ne(me).position));){const oe=at(me);me=xe(oe)?oe.host:oe}return me})(U,Q);let J=null;if(Z&&ye(Z)){const ce=ft(Z);ie(Z)?J=Z:ye(ce)&&(J=ce)}return je(J)?Q.filter((ce=>J&&je(ce)&&(function(re,me){const oe=me.getRootNode==null?void 0:me.getRootNode();if(re.contains(me))return!0;if(oe&&xe(oe)){let Ee=me;do{if(Ee&&re===Ee)return!0;Ee=Ee.parentNode||Ee.host}while(Ee)}return!1})(ce,J)&&le(ce)!=="body")):[]}const Ie={getClippingRect:function(U){let{element:Q,boundary:Z,rootBoundary:J,strategy:ce}=U;const re=[...Z==="clippingAncestors"?qe(Q):[].concat(Z),J],me=re[0],oe=re.reduce(((Ee,De)=>{const Oe=Ve(Q,De,ce);return Ee.top=dt(Oe.top,Ee.top),Ee.right=Ye(Oe.right,Ee.right),Ee.bottom=Ye(Oe.bottom,Ee.bottom),Ee.left=dt(Oe.left,Ee.left),Ee}),Ve(Q,me,ce));return{width:oe.right-oe.left,height:oe.bottom-oe.top,x:oe.left,y:oe.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(U){let{rect:Q,offsetParent:Z,strategy:J}=U;const ce=ye(Z),re=Ge(Z);if(Z===re)return Q;let me={scrollLeft:0,scrollTop:0};const oe={x:0,y:0};if((ce||!ce&&J!=="fixed")&&((le(Z)!=="body"||ie(re))&&(me=Pe(Z)),ye(Z))){const Ee=$e(Z,!0);oe.x=Ee.x+Z.clientLeft,oe.y=Ee.y+Z.clientTop}return{...Q,x:Q.x-me.scrollLeft+oe.x,y:Q.y-me.scrollTop+oe.y}},isElement:je,getDimensions:he,getOffsetParent:ft,getDocumentElement:Ge,getElementRects:U=>{let{reference:Q,floating:Z,strategy:J}=U;return{reference:We(Q,ft(Z),J),floating:{...he(Z),x:0,y:0}}},getClientRects:U=>Array.from(U.getClientRects()),isRTL:U=>ne(U).direction==="rtl"};function Ce(U,Q,Z,J){J===void 0&&(J={});const{ancestorScroll:ce=!0,ancestorResize:re=!0,elementResize:me=!0,animationFrame:oe=!1}=J,Ee=ce&&!oe,De=Ee||re?[...je(U)?_e(U):[],..._e(Q)]:[];De.forEach((Be=>{Ee&&Be.addEventListener("scroll",Z,{passive:!0}),re&&Be.addEventListener("resize",Z)}));let Oe,Se=null;if(me){let Be=!0;Se=new ResizeObserver((()=>{Be||Z(),Be=!1})),je(U)&&!oe&&Se.observe(U),Se.observe(Q)}let Me=oe?$e(U):null;return oe&&(function Be(){const He=$e(U);!Me||He.x===Me.x&&He.y===Me.y&&He.width===Me.width&&He.height===Me.height||Z(),Me=He,Oe=requestAnimationFrame(Be)})(),Z(),()=>{var Be;De.forEach((He=>{Ee&&He.removeEventListener("scroll",Z),re&&He.removeEventListener("resize",Z)})),(Be=Se)==null||Be.disconnect(),Se=null,oe&&cancelAnimationFrame(Oe)}}const Y=(U,Q,Z)=>(async(J,ce,re)=>{const{placement:me="bottom",strategy:oe="absolute",middleware:Ee=[],platform:De}=re,Oe=await(De.isRTL==null?void 0:De.isRTL(ce));let Se=await De.getElementRects({reference:J,floating:ce,strategy:oe}),{x:Me,y:Be}=m(Se,me,Oe),He=me,Ke={},et=0;for(let it=0;it<Ee.length;it++){const{name:ot,fn:ct}=Ee[it],{x:vt,y:At,data:lt,reset:Et}=await ct({x:Me,y:Be,initialPlacement:me,placement:He,strategy:oe,middlewareData:Ke,rects:Se,platform:De,elements:{reference:J,floating:ce}});Me=vt??Me,Be=At??Be,Ke={...Ke,[ot]:{...Ke[ot],...lt}},Et&&et<=50&&(et++,typeof Et=="object"&&(Et.placement&&(He=Et.placement),Et.rects&&(Se=Et.rects===!0?await De.getElementRects({reference:J,floating:ce,strategy:oe}):Et.rects),{x:Me,y:Be}=m(Se,He,Oe)),it=-1)}return{x:Me,y:Be,placement:He,strategy:oe,middlewareData:Ke}})(U,Q,{platform:Ie,...Z})},131:(l,s,u)=>{u.p},797:function(l,s,u){var d=this&&this.__createBinding||(Object.create?function(B,P,q,L){L===void 0&&(L=q);var D=Object.getOwnPropertyDescriptor(P,q);D&&!("get"in D?!P.__esModule:D.writable||D.configurable)||(D={enumerable:!0,get:function(){return P[q]}}),Object.defineProperty(B,L,D)}:function(B,P,q,L){L===void 0&&(L=q),B[L]=P[q]}),c=this&&this.__setModuleDefault||(Object.create?function(B,P){Object.defineProperty(B,"default",{enumerable:!0,value:P})}:function(B,P){B.default=P}),h=this&&this.__importStar||function(B){if(B&&B.__esModule)return B;var P={};if(B!=null)for(var q in B)q!=="default"&&Object.prototype.hasOwnProperty.call(B,q)&&d(P,B,q);return c(P,B),P},v=this&&this.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(s,"__esModule",{value:!0}),s.TourGuideClient=void 0;const m=u(693),y=v(u(121)),x=u(319),S=u(166),w=u(737),E=h(u(483)),T=v(u(971)),k=v(u(330)),N=v(u(340)),M=v(u(544)),R=h(u(612)),A=h(u(283)),O=v(u(717));s.TourGuideClient=class{constructor(B){this.group="",this.isVisible=!1,this.activeStep=0,this.tourSteps=[],this.options=O.default,this.isFinished=A.getIsFinished,this._promiseWaiting=!1,this.createTourGuideBackdrop=x.createTourGuideBackdrop,this.computeBackdropAttributes=x.computeBackdropAttributes,this.createTourGuideDialog=m.createTourGuideDialog,this.start=k.default,this.visitStep=E.default,this.addSteps=T.default,this.nextStep=E.handleVisitNextStep,this.prevStep=E.handleVisitPrevStep,this.exit=M.default,this.refresh=R.default,this.refreshDialog=R.handleRefreshDialog,this.finishTour=A.default,this.updatePositions=y.default,this.deleteFinishedTour=A.delFinishedTour,this.setOptions=N.default,this.initListeners=w.handleInitListeners,this.destroyListeners=w.handleDestroyListeners,this._trackedEvents={nextBtnClickEvent:{initialized:!1,fn:this.nextStep.bind(this)},prevBtnClickEvent:{initialized:!1,fn:this.prevStep.bind(this)},closeBtnClickEvent:{initialized:!1,fn:this.exit.bind(this)},keyPressEvent:{initialized:!1,fn:w.keyPressHandler.bind(this)},outsideClickEvent:{initialized:!1,fn:w.clickOutsideHandler.bind(this)},resizeEvent:{initialized:!1,fn:(async function(){await(0,x.computeBackdropPosition)(this),await(0,m.computeDialogPosition)(this)}).bind(this)},scrollEvent:{initialized:!1,fn:(async function(){await(0,m.computeDialogPosition)(this)}).bind(this)}},this.onFinish=S.handleOnFinish,this.onBeforeExit=S.handleOnBeforeExit,this.onAfterExit=S.handleOnAfterExit,this.onBeforeStepChange=S.handleOnBeforeStepChange,this.onAfterStepChange=S.handleOnAfterStepChange,this.dialog=document.createElement("div"),this.backdrop=document.createElement("div"),this.options=O.default,B&&Object.assign(this.options,B),this.createTourGuideDialog().catch((P=>{this.options.debug&&console.warn(P)})),this.createTourGuideBackdrop()}}},319:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.computeBackdropPosition=s.computeBackdropAttributes=s.createTourGuideBackdrop=void 0,s.createTourGuideBackdrop=function(){this.backdrop=document.createElement("div"),this.computeBackdropAttributes(),document.body.append(this.backdrop)},s.computeBackdropAttributes=function(){this.options&&(this.backdrop.className="tg-backdrop",this.backdrop.style.boxShadow=this.options.backdropColor+" 0 0 1px 2px, "+this.options.backdropColor+" 0 0 0 1000vh",this.options.backdropClass&&this.backdrop.classList.add(this.options.backdropClass),this.options.dialogAnimate&&this.backdrop.classList.add("tg-backdrop-animate"),this.options.activeStepInteraction&&this.backdrop.classList.add("allow-interaction"))},s.computeBackdropPosition=function(u){return new Promise((async(d,c)=>{if(u.options.targetPadding===void 0)return c("Options failed to initialize");if(!u.backdrop)return c("No backdrop element initialized");const h=u.tourSteps[u.activeStep],v=h.target,m=v.getBoundingClientRect(),y=m.width+u.options.targetPadding>document.documentElement.clientWidth;v===document.body?(m.width=0,m.height=0,u.backdrop.style.position="fixed",u.backdrop.style.top=window.innerHeight/2.5+"px",u.backdrop.style.left=window.innerWidth/2+"px"):h.fixed?(u.backdrop.style.position="fixed",u.backdrop.style.top=m.top-u.options.targetPadding/2+"px",u.backdrop.style.left=(y?m.x:m.x-u.options.targetPadding/2)+"px"):(u.backdrop.style.position="absolute",u.backdrop.style.top=window.scrollY+m.top-u.options.targetPadding/2+"px",u.backdrop.style.left=(y?m.x:m.x-u.options.targetPadding/2)+"px"),u.backdrop.style.pointerEvents=h.propagateEvents?"none":"",u.backdrop.style.width=(y?m.width:m.width+u.options.targetPadding)+"px",u.backdrop.style.height=(m.height?m.height+u.options.targetPadding:m.height)+"px",d(!0)}))}},166:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.handleOnAfterStepChange=s.handleOnBeforeStepChange=s.handleOnAfterExit=s.handleOnBeforeExit=s.handleOnFinish=void 0,s.handleOnFinish=function(u){if(typeof u!="function")throw new Error("Provided callback for onFinish was not a function");this._globalFinishCallback=u},s.handleOnBeforeExit=function(u){if(typeof u!="function")throw new Error("Provided callback for onBeforeExit was not a function");this._globalBeforeExitCallback=u},s.handleOnAfterExit=function(u){if(typeof u!="function")throw new Error("Provided callback for onAfterExit was not a function");this._globalAfterExitCallback=u},s.handleOnBeforeStepChange=function(u){if(typeof u!="function")throw new Error("Provided callback for onBeforeStepChange was not a function");this._globalBeforeChangeCallback=u},s.handleOnAfterStepChange=function(u){if(typeof u!="function")throw new Error("Provided callback for onAfterStepChange was not a function");this._globalAfterChangeCallback=u}},693:(l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.computeDialogPosition=s.updateDialogHtml=s.renderDialogHtml=s.createTourGuideDialog=void 0;const d=u(500),c=u(362);async function h(v){v.options.dialogClass&&v.dialog.classList.add(v.options.dialogClass),v.options.dialogZ&&(v.dialog.style.zIndex=String(v.options.dialogZ)),v.dialog.style.width=v.options.dialogWidth?v.options.dialogWidth+"px":"auto",v.options.dialogMaxWidth&&(v.dialog.style.maxWidth=v.options.dialogMaxWidth+"px");let m="";if(m+="<div class='tg-dialog-header'>",m+='<div class="tg-dialog-title" id="tg-dialog-title"><!-- JS rendered --></div>',v.options.closeButton&&(m+='<div class="tg-dialog-close-btn" id="tg-dialog-close-btn">',m+=' <svg width="12px" height="12px" id="Layer_1" version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"/></svg>',m+="</div>"),m+='<div class="tg-dialog-spinner" id="tg-dialog-spinner">',m+='<svg fill="#000000" width="12" height="12" viewBox="0 0 20 20" stroke="#000000" stroke-width="0.8"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M10,1V3a7,7,0,1,1-7,7H1a9,9,0,1,0,9-9Z"></path> </g> </g></svg>',m+="</div>",m+="</div>",v.options.progressBar&&(m+='<div class="tg-dialog-progress-bar"><span class="tg-bar" id="tg-dialog-progbar"></span></div>'),m+='<div class="tg-dialog-body" id="tg-dialog-body"><!-- JS rendered --></div>',v.options.showStepDots&&v.options.stepDotsPlacement==="body"){const S=(0,d.dotsWrapperHtmlString)();S&&(m+=S)}m+='<div class="tg-dialog-footer">';let y="tg-dialog-btn",x="false";if(v.activeStep===0&&(x="true",y+=" disabled"),v.options.showButtons&&!v.options.hidePrev&&(m+='<button type="button" class="'+y+'" id="tg-dialog-prev-btn" disabled="'+x+`">${v.options.prevLabel}</button>`),m+='<div class="tg-dialog-footer-sup">',v.options.showStepDots&&v.options.stepDotsPlacement==="footer"){const S=(0,d.dotsWrapperHtmlString)();S&&(m+=S)}return v.options.showStepProgress&&(m+='<span class="tg-step-progress" id="tg-step-progress"><!-- JS rendered --></span>'),m+="</div>",v.options.showButtons&&!v.options.hideNext&&(m+=`<button type="button" class="tg-dialog-btn" id="tg-dialog-next-btn">${v.options.nextLabel}</button>`),m+="</div>",m+='<div id="tg-arrow" class="tg-arrow"></div><!-- end tour arrow -->',m}s.createTourGuideDialog=async function(){return this.dialog=document.createElement("div"),this.dialog.classList.add("tg-dialog"),await h(this).then((v=>{this.dialog.innerHTML=v})),document.body.append(this.dialog),!0},s.renderDialogHtml=h,s.updateDialogHtml=function(v){return new Promise(((m,y)=>{const x=v.tourSteps[v.activeStep];x||y("No active step data");const S=document.getElementById("tg-dialog-title");S&&(S.innerHTML=x.title?x.title:"");const w=document.getElementById("tg-dialog-body");w&&x&&(typeof x.content=="string"?w.innerHTML=x.content?x.content:"":(w.innerHTML="",w.append(x.content)));const E=document.getElementById("tg-dialog-dots");E&&v.options.showStepDots&&(0,d.computeDots)(v)&&(E.innerHTML=(0,d.computeDots)(v));const T=document.getElementById("tg-dialog-prev-btn");T&&(v.activeStep===0?(T.classList.add("disabled"),T.setAttribute("disabled","true")):(T.classList.remove("disabled"),T.removeAttribute("disabled")));const k=document.getElementById("tg-dialog-next-btn");k&&(k.innerHTML=v.activeStep+1>=v.tourSteps.length?v.options.finishLabel:v.options.nextLabel);const N=document.getElementById("tg-step-progress");N&&(N.innerHTML=v.activeStep+1+"/"+v.tourSteps.length);const M=document.getElementById("tg-dialog-progbar");M&&(v.options.progressBar&&(M.style.backgroundColor=v.options.progressBar),M.style.width=(v.activeStep+1)/v.tourSteps.length*100+"%"),m(!0)}))},s.computeDialogPosition=function(v){return new Promise((async m=>{const y=document.querySelector("#tg-arrow");let x=v.tourSteps[v.activeStep].dialogTarget||v.tourSteps[v.activeStep].target;if(x===document.body)return Object.assign(v.dialog.style,{top:window.innerHeight/2.25-v.dialog.clientHeight/2+"px",left:window.innerWidth/2-v.dialog.clientWidth/2+"px",position:"fixed"}),v.dialog.classList.add("tg-dialog-fixed"),y&&(y.style.display="none"),m(!0);v.dialog.style.position="absolute",v.dialog.classList.remove("tg-dialog-fixed"),y&&(y.style.display="inline-block"),(0,c.computePosition)(x,v.dialog,{placement:v.options.dialogPlacement,middleware:[(0,c.autoPlacement)({autoAlignment:!0,padding:5}),(0,c.shift)({crossAxis:v.options.allowDialogOverlap,padding:15}),(0,c.arrow)({element:y}),(0,c.offset)(20)]}).then((({x:S,y:w,placement:E,middlewareData:T})=>(Object.assign(v.dialog.style,{left:`${S}px`,top:`${w}px`}),T.arrow&&y&&Object.assign(y.style,(function(k,N,M){const R=k?.x||0,A=k?.y||0,O=10,B={top:"bottom",right:"left",bottom:"top",left:"right"}[N.split("-")[0]],P=M.clientWidth-O,q=M.clientHeight-O,L=Math.abs(A-q)<=O,D=Math.abs(R-P)<=O,F=Math.abs(A)<=O,$=Math.abs(R)<=O,H=k?.centerOffset!==0||($||D)&&(F||L);return{left:$?B==="right"?"":"0":D?`${P}px`:`${R}px`,top:F?B==="bottom"?"":"0":L?`${q}px`:`${A}px`,[B]:H?"0":"-5px",transform:H?"none":"rotate(45deg)"}})(T.arrow,E,v.dialog)),m(!0))))}))}},500:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.computeDots=s.dotsWrapperHtmlString=void 0,s.dotsWrapperHtmlString=function(){const u=document.createElement("div");return u.classList.add("tg-dialog-dots"),u.id="tg-dialog-dots",u.outerHTML},s.computeDots=u=>{let d="";return u.tourSteps.length&&u.tourSteps.forEach(((c,h)=>{const v=document.createElement("span");v.classList.add("tg-dot"),h===u.activeStep&&v.classList.add("tg-dot-active"),d+=v.outerHTML})),d}},737:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.keyPressHandler=s.clickOutsideHandler=s.handleDestroyListeners=s.handleInitListeners=void 0,s.clickOutsideHandler=async function(u){if(!(u.target instanceof Element))return;const d=this.backdrop.getBoundingClientRect();if(u.clientX>=d.x&&u.clientX<=d.x+d.width&&u.clientY>=d.y&&u.clientY<=d.y+d.height)return;const c=this.dialog.getBoundingClientRect();u.clientX>=c.x&&u.clientX<=c.x+c.width&&u.clientY>=c.y&&u.clientY<=c.y+c.height||this.dialog.contains(u.target)||(u.preventDefault(),u.stopPropagation(),u.stopImmediatePropagation(),await this.exit())},s.keyPressHandler=async function(u){return u.key==="Escape"&&this.options.exitOnEscape?(u.preventDefault(),void await this.exit()):u.key==="ArrowRight"&&this.options.keyboardControls?(u.preventDefault(),void this.visitStep("next").catch((d=>{this.options.debug&&console.warn(d)}))):u.key==="ArrowLeft"&&this.options.keyboardControls?(u.preventDefault(),void this.visitStep("prev").catch((d=>{this.options.debug&&console.warn(d)}))):void 0},s.handleInitListeners=function(){const u=()=>{let x=document.getElementById("tg-dialog-next-btn");x&&!this._trackedEvents.nextBtnClickEvent.initialized&&(x.addEventListener("click",this._trackedEvents.nextBtnClickEvent.fn),this._trackedEvents.nextBtnClickEvent.initialized=!0)},d=()=>{let x=document.getElementById("tg-dialog-prev-btn");x&&!this._trackedEvents.prevBtnClickEvent.initialized&&(x.addEventListener("click",this._trackedEvents.prevBtnClickEvent.fn),this._trackedEvents.prevBtnClickEvent.initialized=!0)},c=()=>{let x=document.getElementById("tg-dialog-close-btn");x&&!this._trackedEvents.closeBtnClickEvent.initialized&&(x.addEventListener("click",this._trackedEvents.closeBtnClickEvent.fn,!1),this._trackedEvents.closeBtnClickEvent.initialized=!0)},h=()=>{this._trackedEvents.outsideClickEvent.initialized||(document.body.addEventListener("click",this._trackedEvents.outsideClickEvent.fn,!1),this._trackedEvents.outsideClickEvent.initialized=!0)},v=()=>{this._trackedEvents.keyPressEvent.initialized||(window.addEventListener("keydown",this._trackedEvents.keyPressEvent.fn,!1),this._trackedEvents.keyPressEvent.initialized=!0)},m=()=>{this._trackedEvents.resizeEvent.initialized||(window.addEventListener("resize",this._trackedEvents.resizeEvent.fn,!1),this._trackedEvents.resizeEvent.initialized=!0)},y=()=>{this._trackedEvents.scrollEvent.initialized||(window.addEventListener("scroll",this._trackedEvents.scrollEvent.fn,!1),this._trackedEvents.scrollEvent.initialized=!0)};return new Promise((x=>(this.options.showButtons&&u(),this.options.showButtons&&d(),this.options.closeButton&&c(),this.options.exitOnClickOutside&&h(),(this.options.keyboardControls||this.options.exitOnEscape)&&v(),m(),y(),x(!0))))},s.handleDestroyListeners=function(){const u=()=>{let x=document.getElementById("tg-dialog-next-btn");x&&(x.removeEventListener("click",this._trackedEvents.nextBtnClickEvent.fn),this._trackedEvents.nextBtnClickEvent.initialized=!1)},d=()=>{let x=document.getElementById("tg-dialog-prev-btn");x&&(x.removeEventListener("click",this._trackedEvents.prevBtnClickEvent.fn),this._trackedEvents.prevBtnClickEvent.initialized=!1)},c=()=>{let x=document.getElementById("tg-dialog-close-btn");x&&(x.removeEventListener("click",this._trackedEvents.closeBtnClickEvent.fn,!1),this._trackedEvents.closeBtnClickEvent.initialized=!1)},h=()=>{document.body.removeEventListener("click",this._trackedEvents.outsideClickEvent.fn,!1),this._trackedEvents.outsideClickEvent.initialized=!1},v=()=>{window.removeEventListener("keydown",this._trackedEvents.keyPressEvent.fn,!1),this._trackedEvents.keyPressEvent.initialized=!1},m=()=>{window.removeEventListener("resize",this._trackedEvents.resizeEvent.fn,!1),this._trackedEvents.resizeEvent.initialized=!1},y=()=>{window.removeEventListener("scroll",this._trackedEvents.scrollEvent.fn,!1),this._trackedEvents.scrollEvent.initialized=!1};return new Promise((x=>(this.options.showButtons&&u(),this.options.showButtons&&d(),this.options.closeButton&&c(),this.options.exitOnClickOutside&&h(),(this.options.keyboardControls||this.options.exitOnEscape)&&v(),m(),y(),x(!0))))}},121:(l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0});const d=u(319),c=u(693);s.default=function(){return new Promise((async h=>{this.backdrop.style.display="block",await(0,d.computeBackdropPosition)(this),this.dialog.style.display="block",this.options.dialogAnimate&&this.isVisible&&this.dialog.classList.add("animate-position"),await(0,c.computeDialogPosition)(this),this.options.dialogAnimate&&setTimeout((()=>{this.dialog.classList.remove("animate-position")}),300),this.isVisible=!0,setTimeout((()=>h(!0)),300)}))}},830:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=(u,d)=>{d.scrollIntoView({behavior:u.options.autoScrollSmooth?"smooth":"auto",block:"end",inline:"nearest"})}},755:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=async function(u){return new Promise((async(d,c)=>{let h=[];u.options.steps&&u.options.steps.length&&(h=u.options.steps.map((m=>{if(typeof m.target=="string"){const y=document.querySelector(m.target);y&&(m.target=y,u.options.targetPadding&&u.options.autoScrollOffset?y.style.scrollMargin=u.options.autoScrollOffset+u.options.targetPadding+"px 0":y.style.scrollMargin="30px 0")}if(m.target||(m.target=document.body),typeof m.dialogTarget=="string"){const y=document.querySelector(m.dialogTarget);m.dialogTarget=y||void 0}return m})));const v=document.querySelectorAll("[data-tg-tour]");return v&&v.forEach((m=>{const y=m.getAttribute("data-tg-title"),x=m.getAttribute("data-tg-tour"),S=m.getAttribute("data-tg-group"),w=m.getAttribute("data-tg-order"),E=m.getAttribute("data-tg-fixed"),T=m.getAttribute("data-tg-margin"),k=m.getAttribute("data-tg-dialog-target"),N=m.getAttribute("data-tg-propagate-events");u.options.targetPadding&&u.options.autoScrollOffset?m.style.scrollMargin=(T?T+u.options.targetPadding:u.options.autoScrollOffset+u.options.targetPadding)+"px 0":m.style.scrollMargin=(T||"30")+"px 0",h.push({title:y||void 0,order:w?Number(w):999,target:m,dialogTarget:k?document.querySelector(k):void 0,content:x||void 0,fixed:E!==null&&E!=="false",group:S||void 0,propagateEvents:N!==null&&N!=="false"})})),u.group&&(h=h.filter((m=>m.group===u.group))),h.forEach(((m,y)=>m._index=y)),h.sort((function(m,y){return m.order==y.order?(m._index??0)-(y._index??0):(m.order??0)-(y.order??0)})),u.tourSteps=h,u.tourSteps.length?d(!0):c("No tour steps detected"+(u.group?" in group: "+u.group:""))}))}},971:function(l,s,u){var d=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(s,"__esModule",{value:!0});const c=d(u(755)),h=u(693),v=d(u(570));s.default=async function(m){this.options.steps&&(this.options.steps.push(...m),await(0,c.default)(this),this.isVisible&&await(0,h.updateDialogHtml)(this).catch((y=>{this.options.debug&&console.warn(y)})),this.isVisible&&this.updatePositions().catch((y=>{this.options.debug&&console.warn(y)})),this.isVisible&&await(0,v.default)(".tg-dialog").then((async()=>(await this.destroyListeners(),await this.initListeners(),!0))))}},544:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=async function(){return new Promise((async(u,d)=>{if(this._promiseWaiting)return d("Promise waiting");if(this._promiseWaiting=!0,this._globalBeforeExitCallback)try{await this._globalBeforeExitCallback()}catch(c){return d(c)}return this.dialog.style.display="none",this.backdrop.style.display="none",this.isVisible=!1,this.options.rememberStep||(this.activeStep=0),this.options.debug&&console.info("Tour exited"),document.body.classList.remove("tg-no-interaction"),await this.destroyListeners(),setTimeout((()=>{this._globalAfterExitCallback&&this._globalAfterExitCallback()}),0),this._promiseWaiting=!1,u(!0)}))}},283:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.delFinishedTour=s.getIsFinished=void 0,s.getIsFinished=function(u="tour"){return!!localStorage.tg_tours_complete&&localStorage.tg_tours_complete.split(",").includes(u)},s.delFinishedTour=function(u="tour"){if(u==="all")return void(localStorage.tg_tours_complete=null);const d=localStorage.tg_tours_complete.split(",");localStorage.tg_tours_complete=d.filter((c=>c!==u))},s.default=async function(u=!0,d="tour"){if(this._globalFinishCallback)try{await this._globalFinishCallback()}catch{return!1}if(this.options.completeOnFinish){if(!localStorage.tg_tours_complete)return localStorage.tg_tours_complete=[d],u&&await this.exit(),void(this.activeStep=0);const c=localStorage.tg_tours_complete.split(",");c.includes(d)||(c.push(d),localStorage.tg_tours_complete=c)}return u&&await this.exit(),this.activeStep=0,this._promiseWaiting=!1,!0}},612:function(l,s,u){var d=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(s,"__esModule",{value:!0}),s.handleRefreshDialog=void 0;const c=d(u(755)),h=u(693),v=d(u(570));s.handleRefreshDialog=async function(){return new Promise((async(m,y)=>(await(0,h.renderDialogHtml)(this).then((x=>{x&&(this.dialog.innerHTML=x)})).catch((x=>{this.options.debug&&console.warn(x)})),await(0,h.updateDialogHtml)(this).catch((x=>{this.options.debug&&console.warn(x),y(x)})),await this.updatePositions(),this.isVisible&&await(0,v.default)(".tg-dialog").then((async()=>(await this.destroyListeners(),await this.initListeners(),!0))),m(!0))))},s.default=async function(){return new Promise((async(m,y)=>(await(0,c.default)(this).catch((x=>y(x))),this.computeBackdropAttributes(),await this.refreshDialog().catch((x=>y(x))),m(!0))))}},340:function(l,s,u){var d=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(s,"__esModule",{value:!0});const c=u(693),h=d(u(570));s.default=async function(v){if(v)return Object.assign(this.options,v),this.computeBackdropAttributes(),await(0,c.renderDialogHtml)(this).then((m=>{m&&(this.dialog.innerHTML=m)})).catch((m=>{this.options.debug&&console.warn(m)})),await(0,c.updateDialogHtml)(this).catch((m=>{this.options.debug&&console.warn(m)})),this.isVisible&&await(0,h.default)(".tg-dialog").then((async()=>(await this.destroyListeners(),await this.initListeners(),!0))),this}},330:function(l,s,u){var d=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(s,"__esModule",{value:!0});const c=d(u(570)),h=d(u(755));s.default=async function(v){return new Promise((async(m,y)=>{if(this.isVisible)return this.options.debug&&console.warn("Tour already active"),y("Tour already active");v&&(this.group=v),this.options.debug&&console.info("Start tour");const x=this;try{await(0,h.default)(x)}catch(S){return this.options.debug&&console.warn(S),y(S)}return await x.visitStep(this.activeStep).catch((S=>(this.options.debug&&console.warn(S),y(S)))),await(0,c.default)(".tg-dialog").then((async()=>{await this.initListeners(),this.options.dialogAnimate&&this.dialog.classList.add("animate-position"),this.options.exitOnClickOutside||document.body.classList.add("tg-no-interaction")})),m(!0)}))}},483:function(l,s,u){var d=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(s,"__esModule",{value:!0}),s.handleVisitPrevStep=s.handleVisitNextStep=s.goToStep=void 0;const c=u(693),h=d(u(830));function v(m,y){return new Promise((async(x,S)=>{if(y>=m.tourSteps.length)return S("End of tour steps");if(y<0)return S("Start of tour steps");const w=m.activeStep,E=m.tourSteps[w],T=m.tourSteps[y];if(!T||!E)return S("Step not found by index");if(E.target&&E.target.classList.remove("tg-active-element"),(m._globalBeforeChangeCallback&&y!==w||E.beforeLeave||T.beforeEnter)&&(m._promiseWaiting=!0,m.dialog.classList.add("tg-dialog-loading")),m._globalBeforeChangeCallback&&y!==w)try{await m._globalBeforeChangeCallback(w,y)}catch(k){return S(k)}if(y!==w&&E.beforeLeave)try{await E.beforeLeave(E,T)}catch(k){return S(k)}if(T.beforeEnter)try{await T.beforeEnter(E,T)}catch(k){return S(k)}return typeof T.target=="string"&&(m.tourSteps[y].target=document.querySelector(T.target)),T.target&&m.tourSteps[y].target||(m.tourSteps[y].target=document.body),m.activeStep=Number(y),await(0,c.updateDialogHtml)(m).catch((k=>{m.options.debug&&console.warn(k),S(k)})),m.options.autoScroll&&T.target!==document.body&&(0,h.default)(m,T.target),await m.updatePositions(),m.options.activeStepInteraction&&T.target.classList.add("tg-active-element"),y!==w&&E.afterLeave&&await E.afterLeave(E,T),T.afterEnter&&await T.afterEnter(E,T),m._globalAfterChangeCallback&&y!==w&&await m._globalAfterChangeCallback(w,y),m._promiseWaiting=!1,m.dialog.classList.remove("tg-dialog-loading"),x(!0)}))}s.handleVisitNextStep=async function(){return new Promise((async(m,y)=>{const x=this.activeStep+1;try{await this.visitStep(x)}catch(S){return y(S)}return m(!0)}))},s.handleVisitPrevStep=async function(){return new Promise((async(m,y)=>{const x=this.activeStep-1;try{await this.visitStep(x)}catch(S){return y(S)}return m(!0)}))},s.goToStep=v,s.default=async function(m){return new Promise((async(y,x)=>this._promiseWaiting?x("Promise waiting"):(typeof m=="string"&&(m=m==="next"?this.activeStep+1:this.activeStep-1),m>=this.tourSteps.length?void await this.finishTour(!0,this.group):(await v(this,m).catch((S=>x(S))),y(!0)))))}},717:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default={nextLabel:"Next",prevLabel:"Back",finishLabel:"Finish",hidePrev:!1,hideNext:!1,dialogClass:"",allowDialogOverlap:!1,dialogZ:999,dialogWidth:0,dialogMaxWidth:340,dialogAnimate:!0,dialogPlacement:void 0,backdropClass:"",backdropColor:"rgba(20,20,21,0.84)",backdropAnimate:!0,targetPadding:30,completeOnFinish:!0,showStepDots:!0,stepDotsPlacement:"footer",showButtons:!0,showStepProgress:!0,progressBar:"",keyboardControls:!0,exitOnEscape:!0,exitOnClickOutside:!0,autoScroll:!0,autoScrollSmooth:!0,autoScrollOffset:20,closeButton:!0,rememberStep:!1,debug:!0,steps:[],activeStepInteraction:!0}},570:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(u){return new Promise((d=>{if(document.querySelector(u))return d(document.querySelector(u));const c=new MutationObserver((()=>{document.querySelector(u)&&(d(document.querySelector(u)),c.disconnect())}));c.observe(document.body,{childList:!0,subtree:!0})}))}}},r={};function i(l){var s=r[l];if(s!==void 0)return s.exports;var u=r[l]={exports:{}};return n[l].call(u.exports,u,u.exports,i),u.exports}return i.d=(l,s)=>{for(var u in s)i.o(s,u)&&!i.o(l,u)&&Object.defineProperty(l,u,{enumerable:!0,get:s[u]})},i.o=(l,s)=>Object.prototype.hasOwnProperty.call(l,s),i.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},i.p="",i(131),i(797)})()))})(Xm)),Xm.exports}var L9=O9();function z9({autoStart:t=!1,onComplete:e,tourSteps:n}){const i=n||[{title:"Welcome to EleutherIA",content:"A comprehensive knowledge graph documenting ancient debates on free will from Aristotle to Boethius. Let us guide you through the key features.",target:"body"}],[l,s]=W.useState(null),[u,d]=W.useState(!1);W.useEffect(()=>{const v=new L9.TourGuideClient({exitOnClickOutside:!1,showStepDots:!0,showStepProgress:!0,dialogAnimate:!0,dialogZ:9999,dialogWidth:380,dialogClass:"eleutheriate-tour-dialog",backdropColor:"rgba(28, 25, 23, 0.6)",steps:i.map((m,y)=>({title:m.title,content:m.content,target:m.target,order:y+1}))});return setTimeout(()=>{s(v),d(!0)},500),()=>{v&&v.finishTour()}},[i]),W.useEffect(()=>{if(u&&l&&t){l.start();const v=setInterval(()=>{document.querySelector(".eleutheriate-tour-dialog")||(localStorage.setItem("eleutheriate_tour_completed","true"),e?.(),clearInterval(v))},500);return()=>clearInterval(v)}},[u,l,t,e]);const c=()=>{l&&l.start()},h=()=>{l&&(l.finishTour(),e?.())};return W.useEffect(()=>{const v=m=>{m.key==="Escape"&&l&&(l.finishTour(),e?.())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[l,e]),g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:h,className:"fixed top-20 right-6 z-[10000] bg-white hover:bg-gray-100 text-gray-700 rounded-full p-2 shadow-lg transition-all hover:scale-110 active:scale-95 border border-gray-200",title:"Exit Tour (ESC)","aria-label":"Exit Tour",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),g.jsx("style",{children:`
        /* Main tour dialog styling */
        .eleutheriate-tour-dialog {
          font-family: 'Crimson Text', Georgia, serif;
          background: linear-gradient(to bottom right, #fdfcfb, #f8f7f6);
          border: 1px solid #d6d3d0;
          border-radius: 12px;
          box-shadow:
            0 10px 25px rgba(28, 25, 23, 0.15),
            0 4px 10px rgba(28, 25, 23, 0.1);
          animation: tourDialogFadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
          max-width: calc(100vw - 2rem);
        }

        @keyframes tourDialogFadeIn {
          from {
            opacity: 0;
            transform: translateY(-8px) scale(0.98);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        /* Tour title styling */
        .tg-dialog-title {
          font-size: 1.375rem;
          font-weight: 700;
          color: #769687;
          margin-bottom: 0.75rem;
          letter-spacing: -0.02em;
          line-height: 1.3;
        }

        /* Tour content styling */
        .tg-dialog-body {
          font-size: 0.9375rem;
          color: #44403c;
          line-height: 1.7;
          margin-bottom: 1.5rem;
        }

        /* Button container */
        .tg-dialog-footer {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 0.75rem;
          padding-top: 1rem;
          border-top: 1px solid #e7e5e3;
        }

        /* Step progress styling */
        .tg-step-progress {
          font-size: 0.75rem;
          color: #78716c;
          font-weight: 500;
          letter-spacing: 0.02em;
        }

        /* Step dots */
        .tg-step-dots {
          display: flex;
          gap: 0.375rem;
          margin-top: 1rem;
          padding-top: 1rem;
          border-top: 1px solid #e7e5e3;
        }

        .tg-step-dot {
          width: 6px;
          height: 6px;
          border-radius: 50%;
          background: #d6d3d0;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .tg-step-dot.active {
          width: 20px;
          border-radius: 3px;
          background: #769687;
        }

        /* Button styling */
        .tg-dialog-btn {
          padding: 0.5rem 1.25rem;
          font-size: 0.875rem;
          font-weight: 500;
          border-radius: 6px;
          border: none;
          cursor: pointer;
          transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
          font-family: system-ui, -apple-system, sans-serif;
          letter-spacing: 0.01em;
        }

        .tg-dialog-btn-primary {
          background: linear-gradient(135deg, #769687 0%, #648577 100%);
          color: white;
          box-shadow: 0 2px 4px rgba(118, 150, 135, 0.2);
        }

        .tg-dialog-btn-primary:hover {
          background: linear-gradient(135deg, #648577 0%, #536e5f 100%);
          box-shadow: 0 4px 8px rgba(118, 150, 135, 0.3);
          transform: translateY(-1px);
        }

        .tg-dialog-btn-primary:active {
          transform: translateY(0);
          box-shadow: 0 1px 2px rgba(118, 150, 135, 0.2);
        }

        .tg-dialog-btn-secondary {
          background: transparent;
          color: #57534e;
          border: 1px solid #d6d3d0;
        }

        .tg-dialog-btn-secondary:hover {
          background: #f5f5f4;
          border-color: #a8a29e;
        }

        .tg-dialog-btn-close {
          background: transparent;
          color: #78716c;
          border: none;
          padding: 0.375rem;
        }

        .tg-dialog-btn-close:hover {
          color: #44403c;
          background: #f5f5f4;
        }

        /* Backdrop animation */
        .tg-backdrop {
          animation: backdropFadeIn 0.3s ease-out;
        }

        @keyframes backdropFadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        /* Target highlight pulse */
        .tg-target-highlight {
          animation: targetPulse 2s ease-in-out infinite;
          border-radius: 8px;
        }

        @keyframes targetPulse {
          0%, 100% {
            box-shadow: 0 0 0 0 rgba(118, 150, 135, 0.4);
          }
          50% {
            box-shadow: 0 0 0 8px rgba(118, 150, 135, 0);
          }
        }

        /* Responsive adjustments */
        @media (max-width: 640px) {
          .eleutheriate-tour-dialog {
            border-radius: 10px;
          }

          .tg-dialog-title {
            font-size: 1.125rem;
          }

          .tg-dialog-body {
            font-size: 0.875rem;
          }

          .tg-dialog-btn {
            padding: 0.45rem 1rem;
            font-size: 0.8125rem;
          }
        }

        /* Dark mode support (optional) */
        @media (prefers-color-scheme: dark) {
          .eleutheriate-tour-dialog {
            background: linear-gradient(to bottom right, #2c2925, #231f1c);
            border-color: #44403c;
          }

          .tg-dialog-title {
            color: #9cb3a8;
          }

          .tg-dialog-body {
            color: #d6d3d0;
          }

          .tg-step-progress {
            color: #a8a29e;
          }

          .tg-step-dot {
            background: #57534e;
          }

          .tg-step-dot.active {
            background: #9cb3a8;
          }

          .tg-dialog-btn-secondary {
            border-color: #57534e;
            color: #d6d3d0;
          }

          .tg-dialog-btn-secondary:hover {
            background: #44403c;
            border-color: #78716c;
          }

          .tg-dialog-footer {
            border-top-color: #44403c;
          }

          .tg-step-dots {
            border-top-color: #44403c;
          }
        }
      `}),g.jsx("button",{onClick:c,className:"hidden","data-tour-trigger":"true","aria-label":"Start interactive tour"})]})}function _9(){return g.jsx(lj,{children:g.jsx(P9,{})})}const hE={"/":{title:"Welcome to EleutherIA",steps:[{title:"Welcome to EleutherIA",content:"A comprehensive knowledge graph documenting ancient debates on free will from Aristotle to Boethius. Let us guide you through the key features.",target:"body"},{title:"Knowledge Graph",content:"Start here to explore the network of 505 philosophical concepts, arguments, and thinkers. Visualize complex relationships in an interactive graph.",target:'[data-tour="kg-card"]'},{title:"Hybrid Search",content:"Search across 289 ancient texts using full-text, lemmatic, or AI-powered semantic search to find exactly what you need.",target:'[data-tour="search-card"]'},{title:"GraphRAG Q&A",content:"Ask questions in natural language and receive scholarly answers grounded in the knowledge graph with proper citations.",target:'[data-tour="graphrag-card"]'},{title:"Ancient Texts",content:"Browse and read 289 ancient Greek and Latin texts with advanced lemmatization for deeper textual analysis.",target:'[data-tour="texts-card"]'},{title:"Database Statistics",content:"Our database contains over 860 verified citations from ancient sources and modern scholarship, ensuring academic rigor.",target:'[data-tour="stats"]'}]},"/visualizer":{title:"Knowledge Graph Visualizer",steps:[{title:"Interactive Knowledge Graph",content:"Explore 505 nodes and 870 relationships representing ancient philosophical debates on free will.",target:"body"},{title:"Graph Controls",content:"Use these controls to filter nodes by type, change layout algorithms, and customize the visualization.",target:'[data-tour="graph-controls"]'},{title:"Node Details",content:"Click any node to see detailed information including ancient sources, modern scholarship, and terminology.",target:'[data-tour="graph-canvas"]'},{title:"Export Tools",content:"Export the graph as PNG, SVG, CSV, or generate a bibliography of visible sources.",target:'[data-tour="export-tools"]'},{title:"Keyboard Shortcuts",content:"Press H for help, R to reset view, F to fit screen, C to center selected node, and ESC to deselect.",target:"body"}]},"/search":{title:"Hybrid Search",steps:[{title:"Multi-Modal Search",content:"Search across 289 ancient texts using three different search modes: full-text, lemmatic, and semantic.",target:"body"},{title:"Search Modes",content:"Full-text finds exact matches, lemmatic finds word forms, and semantic uses AI to understand meaning.",target:'[data-tour="search-modes"]'},{title:"Advanced Filters",content:"Filter results by author, time period, philosophical school, or work type.",target:'[data-tour="filters"]'},{title:"View Results",content:"Click any result to see the full passage with highlighting and context.",target:'[data-tour="results"]'}]},"/graphrag":{title:"GraphRAG Question Answering",steps:[{title:"Ask Questions",content:"Ask natural language questions about ancient debates on free will and get scholarly answers with citations.",target:"body"},{title:"Question Input",content:`Type your question here. Be specific for best results, e.g., "What was Aristotle's view on moral responsibility?"`,target:'[data-tour="question-input"]'},{title:"AI-Powered Answers",content:"Answers are grounded in the knowledge graph and include citations to ancient sources and modern scholarship.",target:'[data-tour="answer-area"]'},{title:"Suggested Questions",content:"Not sure what to ask? Try one of these suggested questions to get started.",target:'[data-tour="suggestions"]'}]},"/texts":{title:"Ancient Texts Explorer",steps:[{title:"Browse Ancient Texts",content:"Access 289 ancient Greek and Latin texts with advanced search and lemmatization.",target:"body"},{title:"Text List",content:"Browse texts by author, period, or philosophical school.",target:'[data-tour="text-list"]'},{title:"Reader View",content:"Read texts with original language, translation, and lemmatic analysis.",target:'[data-tour="reader"]'},{title:"Lemmatization",content:"Click any word to see its dictionary form, grammatical analysis, and related passages.",target:'[data-tour="lemma"]'}]},"/database":{title:"Database Overview",steps:[{title:"Database Documentation",content:"Comprehensive technical documentation for the EleutherIA knowledge graph.",target:"body"},{title:"Schema & Structure",content:"Learn about node types, edge relationships, and data organization.",target:'[data-tour="schema"]'},{title:"API Access",content:"Access the database programmatically via REST API or download the complete dataset.",target:'[data-tour="api"]'}]}};function P9(){const t=Li(),[e,n]=W.useState(!1),r=hE[t.pathname]||hE["/"],i=()=>{n(!1)};return g.jsxs("div",{className:"min-h-screen bg-academic-bg",children:[g.jsxs("button",{onClick:()=>n(!0),className:"fixed bottom-6 right-6 z-50 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white rounded-full p-3 sm:p-4 shadow-2xl transition-all duration-300 hover:scale-110 active:scale-95 flex items-center gap-2 group cursor-pointer touch-manipulation",style:{WebkitTapHighlightColor:"transparent",minWidth:"56px",minHeight:"56px"},title:"Start Interactive Tour","aria-label":"Start Interactive Tour",children:[g.jsx(jj,{className:"w-6 h-6 sm:w-6 sm:h-6 animate-pulse"}),g.jsx("span",{className:"hidden sm:inline font-medium whitespace-nowrap",children:"Take a Tour"})]}),e&&g.jsx(z9,{autoStart:!0,onComplete:i,tourSteps:r.steps}),g.jsx("header",{className:"bg-academic-paper border-b border-academic-border shadow-sm sticky top-0 z-50",children:g.jsxs("nav",{className:"academic-container",children:[g.jsxs("div",{className:"flex items-center justify-between py-1 sm:py-0 sm:h-12",children:[g.jsx(bu,{to:"/",className:"hover:opacity-80 transition-opacity flex-shrink-0",children:g.jsx("img",{src:"/logo.svg",alt:"EleutherIA - Ancient Free Will Database",className:"h-10 sm:h-20 w-auto"})}),g.jsxs("div",{className:"hidden lg:flex items-center space-x-6",children:[g.jsx(cr,{to:"/database",children:"Database"}),g.jsx(cr,{to:"/visualizer",children:"Knowledge Graph"}),g.jsx(cr,{to:"/search",children:"Search"}),g.jsx(cr,{to:"/graphrag",children:"GraphRAG Q&A"}),g.jsx(cr,{to:"/texts",children:"Ancient Texts"}),g.jsx(cr,{to:"/bibliography",children:"Bibliography"}),g.jsx(cr,{to:"/about",children:"About"})]}),g.jsx("button",{className:"lg:hidden p-1.5 text-academic-text hover:text-primary-600",onClick:()=>{document.getElementById("mobile-menu")?.classList.toggle("hidden")},children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),g.jsx("div",{id:"mobile-menu",className:"hidden lg:hidden pb-2 pt-1.5 border-t border-academic-border mt-1",children:g.jsxs("div",{className:"flex flex-col space-y-1.5",children:[g.jsx(cr,{to:"/database",children:"Database"}),g.jsx(cr,{to:"/visualizer",children:"Knowledge Graph"}),g.jsx(cr,{to:"/search",children:"Search"}),g.jsx(cr,{to:"/graphrag",children:"GraphRAG Q&A"}),g.jsx(cr,{to:"/texts",children:"Ancient Texts"}),g.jsx(cr,{to:"/bibliography",children:"Bibliography"}),g.jsx(cr,{to:"/about",children:"About"})]})})]})}),g.jsx("main",{className:"academic-container pt-0 pb-12 sm:pb-8",children:g.jsxs(_R,{children:[g.jsx(sa,{path:"/",element:g.jsx(p5,{})}),g.jsx(sa,{path:"/database",element:g.jsx(j9,{})}),g.jsx(sa,{path:"/visualizer",element:g.jsx(w9,{})}),g.jsx(sa,{path:"/search",element:g.jsx(E9,{})}),g.jsx(sa,{path:"/graphrag",element:g.jsx(T9,{})}),g.jsx(sa,{path:"/texts",element:g.jsx(N9,{})}),g.jsx(sa,{path:"/bibliography",element:g.jsx(D9,{})}),g.jsx(sa,{path:"/about",element:g.jsx(M9,{})}),g.jsx(sa,{path:"/report-error",element:g.jsx(B9,{})})]})}),g.jsx("footer",{className:"bg-academic-paper border-t border-academic-border mt-12 sm:mt-16",children:g.jsxs("div",{className:"academic-container py-6 sm:py-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-4",children:[g.jsxs("div",{className:"pb-4 sm:pb-0",children:[g.jsx("h3",{className:"font-semibold text-sm mb-3",children:"About EleutherIA"}),g.jsx("p",{className:"text-xs text-academic-muted leading-relaxed",children:"A FAIR-compliant knowledge graph documenting ancient debates on free will, fate, and moral responsibility from Aristotle (4th c. BCE) to Boethius (6th c. CE)."})]}),g.jsxs("div",{className:"pb-4 sm:pb-0",children:[g.jsx("h3",{className:"font-semibold text-sm mb-3",children:"Data"}),g.jsxs("ul",{className:"text-xs text-academic-muted space-y-1",children:[g.jsx("li",{children:"505 Knowledge Graph Nodes"}),g.jsx("li",{children:"870 Edges & Relationships"}),g.jsx("li",{children:"289 Ancient Texts"}),g.jsx("li",{children:"860+ Bibliography References"})]})]}),g.jsxs("div",{className:"pb-4 sm:pb-0",children:[g.jsx("h3",{className:"font-semibold text-sm mb-3",children:"Citation"}),g.jsxs("p",{className:"text-xs text-academic-muted leading-relaxed break-words",children:["Girardi, R. (2025). ",g.jsx("span",{className:"italic",children:"EleutherIA: Ancient Free Will Database"}),". Zenodo. ",g.jsx("a",{href:"https://doi.org/10.5281/zenodo.17379490",className:"text-primary-600 hover:underline break-all",children:"https://doi.org/10.5281/zenodo.17379490"})]})]})]}),g.jsxs("div",{className:"mt-6 pt-4 border-t border-academic-border text-center text-xs text-academic-muted",children:[g.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-3 sm:gap-4 mb-3",children:[g.jsxs("a",{href:"https://github.com/romain-girardi-eng/EleutherIA",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline inline-flex items-center gap-1",children:[g.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.17 6.839 9.49.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.34-3.369-1.34-.454-1.156-1.11-1.463-1.11-1.463-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.831.092-.646.35-1.086.636-1.336-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0112 6.836c.85.004 1.705.114 2.504.336 1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C19.138 20.167 22 16.418 22 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),g.jsx("span",{children:"GitHub"})]}),g.jsxs("a",{href:"https://orcid.org/0000-0002-5310-5346",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline inline-flex items-center gap-1",children:[g.jsx("svg",{className:"w-4 h-4 flex-shrink-0",viewBox:"0 0 256 256",fill:"currentColor",children:g.jsx("path",{d:"M256,128c0,70.7-57.3,128-128,128C57.3,256,0,198.7,0,128C0,57.3,57.3,0,128,0C198.7,0,256,57.3,256,128z M86.3,186.2H70.9V79.1h15.4v48.4V186.2z M108.9,79.1h41.6c39.6,0,57,28.3,57,53.6c0,27.5-21.5,53.6-56.8,53.6h-41.8V79.1z M124.3,172.4h24.5c34.9,0,42.9-26.5,42.9-39.7c0-21.5-13.7-39.7-43.7-39.7h-23.7V172.4z M78.2,59.1c5.1,0,9.2,4.1,9.2,9.2c0,5.1-4.1,9.2-9.2,9.2c-5.1,0-9.2-4.1-9.2-9.2C69,63.2,73.1,59.1,78.2,59.1z"})}),g.jsx("span",{children:"ORCID"})]}),g.jsxs("a",{href:"https://www.linkedin.com/in/romain-girardi",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline inline-flex items-center gap-1",children:[g.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),g.jsx("span",{children:"LinkedIn"})]})]}),g.jsxs("p",{className:"px-4",children:[" 2025 Romain Girardi | Licensed under"," ",g.jsx("a",{href:"https://creativecommons.org/licenses/by/4.0/",className:"text-primary-600 hover:underline",children:"CC BY 4.0"})]})]})]})})]})}function cr({to:t,children:e}){return g.jsx(bu,{to:t,className:"text-academic-text hover:text-primary-600 font-medium text-sm transition-colors block lg:inline-block py-0.5 lg:py-0",onClick:()=>{document.getElementById("mobile-menu")?.classList.add("hidden")},children:e})}YA.createRoot(document.getElementById("root")).render(g.jsx(W.StrictMode,{children:g.jsx(_9,{})}));
