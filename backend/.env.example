# Ancient Free Will Database - Backend Environment Variables
# Copy this file to .env and fill in your values

# ============================================
# MEMORY OPTIMIZATION (CRITICAL for Render Free Tier)
# ============================================
# Render Free Tier has 512MB RAM limit
# These settings optimize memory usage
DB_POOL_MIN_SIZE=1
DB_POOL_MAX_SIZE=3

# ============================================
# DATABASE (PostgreSQL)
# ============================================
# Supabase or other PostgreSQL instance
POSTGRES_HOST=your-project.supabase.co
POSTGRES_PORT=5432
POSTGRES_DB=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-password-here
POSTGRES_SSLMODE=require

# ============================================
# VECTOR DATABASE (Qdrant)
# ============================================
# Qdrant Cloud or self-hosted instance
QDRANT_HOST=your-cluster.cloud.qdrant.io
QDRANT_HTTP_PORT=443
QDRANT_API_KEY=your-qdrant-api-key-here
EMBEDDING_DIMENSIONS=3072

# ============================================
# LLM SERVICE
# ============================================
# Use Gemini for Render (Ollama requires too much memory)
LLM_PREFERRED_PROVIDER=gemini
GEMINI_API_KEY=your-gemini-api-key-here

# Optional: Ollama (local development only)
# OLLAMA_URL=http://localhost:11434

# ============================================
# AUTHENTICATION
# ============================================
# Generate a secure random string for JWT_SECRET_KEY
# Example: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your-secret-key-here-use-random-string
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440

# Optional: Bypass authentication (DEVELOPMENT ONLY!)
# BYPASS_AUTH=true

# ============================================
# DEPLOYMENT NOTES
# ============================================
# For Render deployment:
# 1. Set all variables in Render Dashboard â†’ Environment
# 2. Ensure DB_POOL_MIN_SIZE=1 and DB_POOL_MAX_SIZE=3 for free tier
# 3. Use LLM_PREFERRED_PROVIDER=gemini (not ollama)
# 4. Monitor memory usage in Render Metrics
#
# For local development:
# 1. Copy this file to .env
# 2. Fill in your values
# 3. You can increase DB pool sizes for better performance
#    DB_POOL_MIN_SIZE=5
#    DB_POOL_MAX_SIZE=20
